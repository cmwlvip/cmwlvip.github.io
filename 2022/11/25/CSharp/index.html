<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>C# | Ofra Serendipity</title><meta name="author" content="Shiqing Huang"><meta name="copyright" content="Shiqing Huang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="C# 程序设计基础入门">
<meta property="og:type" content="article">
<meta property="og:title" content="C#">
<meta property="og:url" content="https://www.huangshiqing.website/2022/11/25/CSharp/index.html">
<meta property="og:site_name" content="Ofra Serendipity">
<meta property="og:description" content="C# 程序设计基础入门">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.huangshiqing.website/2022/11/25/CSharp/CSharp.png">
<meta property="article:published_time" content="2022-11-25T00:22:35.000Z">
<meta property="article:modified_time" content="2023-01-06T00:00:00.000Z">
<meta property="article:author" content="Shiqing Huang">
<meta property="article:tag" content="C#">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.huangshiqing.website/2022/11/25/CSharp/CSharp.png"><link rel="shortcut icon" href="/img/favicon01.png"><link rel="canonical" href="https://www.huangshiqing.website/2022/11/25/CSharp/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":-1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"bottom","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":100,"languages":{"author":"作者: Shiqing Huang","link":"链接: ","source":"来源: Ofra Serendipity","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'C#',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-01-06 00:00:00'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 8 || hour >= 20
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/img/loading.gif" data-lazy-src="/img/avatar002.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heart-pulse"></i><span> Fun</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book-open"></i><span> Book</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fab fa-steam"></i><span> Game</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fas fa-music"></i><span> Song</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-headphones"></i><span> Music</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-wrench"></i><span> Tools</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/translation/"><i class="fa-fw fas fa-language"></i><span> Translation</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-star"></i><span> Reference</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/2023/02/26/acwing/"><i class="fa-fw fas fa-arrow-right"></i><span> Acwing</span></a></li><li><a class="site-page child" href="/2022/11/03/KeyboardShutcut/"><i class="fa-fw fas fa-arrow-right"></i><span> 实用快捷键</span></a></li><li><a class="site-page child" href="/2022/10/27/TheCharmOfMarkdown/"><i class="fa-fw fas fa-arrow-right"></i><span> 了不起的 Markdown</span></a></li><li><a class="site-page child" href="/2022/11/03/HexoTagPlugins/"><i class="fa-fw fas fa-arrow-right"></i><span> Hexo Built-in Tag Plugins</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://pic.imgdb.cn/item/6386f12116f2c2beb10bb24e.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Ofra Serendipity"><span class="site-name">Ofra Serendipity</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heart-pulse"></i><span> Fun</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book-open"></i><span> Book</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fab fa-steam"></i><span> Game</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fas fa-music"></i><span> Song</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-headphones"></i><span> Music</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-wrench"></i><span> Tools</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/translation/"><i class="fa-fw fas fa-language"></i><span> Translation</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-star"></i><span> Reference</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/2023/02/26/acwing/"><i class="fa-fw fas fa-arrow-right"></i><span> Acwing</span></a></li><li><a class="site-page child" href="/2022/11/03/KeyboardShutcut/"><i class="fa-fw fas fa-arrow-right"></i><span> 实用快捷键</span></a></li><li><a class="site-page child" href="/2022/10/27/TheCharmOfMarkdown/"><i class="fa-fw fas fa-arrow-right"></i><span> 了不起的 Markdown</span></a></li><li><a class="site-page child" href="/2022/11/03/HexoTagPlugins/"><i class="fa-fw fas fa-arrow-right"></i><span> Hexo Built-in Tag Plugins</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">C#</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-25T00:22:35.000Z" title="发表于 2022-11-25 00:22:35">2022-11-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-06T00:00:00.000Z" title="更新于 2023-01-06 00:00:00">2023-01-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/">C#</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">42.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>162分钟</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title="C#"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note info flat"><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div>
<div class="note info flat"><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">region</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endregion</span></span></span><br></pre></td></tr></table></figure>
<p>可以使代码折叠，仍会执行</p>
</div>
<div class="note default flat"><p><a href="#程序调试">Visual Studio 2019程序调试</a></p>
</div>
<h2 id="C-开发入门"><a href="#C-开发入门" class="headerlink" title="C#开发入门"></a>C#开发入门</h2><h3 id="NET-基础知识"><a href="#NET-基础知识" class="headerlink" title=".NET 基础知识"></a>.NET 基础知识</h3><h4 id="NET-Framework"><a href="#NET-Framework" class="headerlink" title=".NET Framework"></a>.NET Framework</h4><blockquote class="pullquote right"><p><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-02-19-41-49.png" alt=".NET Framework体系结构"></p>
</blockquote>
<p>.NET Framework 是微软公司为开发应用程序而创建的一个<strong>全新的、集成的、面向对象的</strong>开发平台。使用.NET Framework 可以创建桌面应用程序、Web应用程序和其他各种类型的应用程序。</p>
<p>.NET Framework 位于操作系统和应用程序之间，负责管理在.NET Framework 上运行的各种应用程序。也就是说 <strong>.NET应用程序不依赖于操作系统，只依赖于.NET Framework</strong>。<br>.NET Framework核心部分：</p>
<ul>
<li><strong>公共语言运行库</strong>(Common Language Runtime, CLR): 它位于.NET Framework的最底层，主要负责管理.NET应用程序的编译、运行以及一些基础服务，它为.NET应用程序提供了一个虚拟运行环境。同时CLR 还负责为应用程序提供内存分配、线程管理以及垃圾回收等服务，并且负责对代码进行安全检查，以保证代码正常运行。</li>
<li><strong>.NET Framework的基础类库</strong>(Base Class Library, BCL): 它是微软公司提出的一组标准库，如集合类，可以提供给.NET Framework所有语言使用。当安装.NET Framework时，所有的基础类库被部署到全局程序集缓存(Global Assembly Cache, GAC)，所以不需要再工程中引用任何基础类库，它们会被自动引用。</li>
</ul>
<p>除此之外，.NET Framework还包括 Window 窗体、ASP.NET、ADD.NET 等模块，这些模块用于开发各种各样的应用程序，如桌面应用程序，网络应用程序。企业级应用程序。</p>
<h4 id="C-语言"><a href="#C-语言" class="headerlink" title="C#语言"></a>C#语言</h4><p>C#是微软公司在2000年6月发布的一种全新的、简单的、安全的、面向对象的程序设计语言，它专门用于开发 .NET 应用，从根本上保证了 C＃与 .NET Framework 的完美结合。 C#不仅吸收了 C++、 Visual Basic 、 Delphi , Java 等语言的优点，体现了当今最新的字设计技术的功能和精华，而且继承了 C 语言的语法风格、 C++ 的面向对象特性。 C#的主要特点如下。</p>
<ol>
<li><p><strong>面向对象</strong><br>C# 是由 C 和 C++衍生出来的面向对象的编程语言，因此它具有面向对象的一切特性（封装、继承和多态）。C# 在继承 C 语言和 C++强大功能的同时去掉了一些它们的复杂特性（例如没有宏和模板，不允许多重继承）正是由于 C# 面向对象的卓越设计，使它成为构建各类组件的理想之选。</p>
</li>
<li><p><strong>语言简洁</strong><br>在默认的情况下，C#的代码在 .NET Framework 提供的“可操纵”环境下运行，使得程序不能直接访问内存地址空间，因此不再提供对指针类型的支持，从而使 C# 程序更加健壮。另外，C#不再使用 C++中的操作符（例如<code>::</code> <code>-&gt;</code> <code>.,</code>)，它只支持一个操作符<code>.</code>，对于程序员来说，现在需要理解的仅是名字的嵌套而已。</p>
</li>
<li><p><strong>与 Web 的紧密结合</strong><br>.NET 中新的应用程序开发模型意味着越来越多的解决方案需要与 Web 标准相统一，例如超文本标记语言（ Hypertext Markup Language , HTML ）。现有的一些开发工具不能与 Web 紧密结合，简易对象访问协议（ Simple Object Access Protocol , SOAP ）的使用使 C#克服了这一缺陷，大规模保层次的分布式开发从此<br>成为可能。<br>由于有了 Web 服务框架的帮助，对程序员来说，网络服务看起来就像是 C# 的本地对象。程序员们能沙利用他们已有的面向对象的知识与技巧开发 Web 服务，仅需要便用简单的 C#语言结构， C# 组件就能够万便地被 Web 服务所使用，并允许它们通过 Internet 被运行在任何操作系统上的任何语言所调用。例如， XMl 已经成为网络中数据结构传递的标准，为了提高效率， C# 直接将 XML 数据映射成为结构，这样就可以伟众地处理各种数据。</p>
</li>
</ol>
<h3 id="开发环境搭建"><a href="#开发环境搭建" class="headerlink" title="开发环境搭建"></a>开发环境搭建</h3><p>Visual Studio 2019</p>
<p>……</p>
<h3 id="编写C-程序"><a href="#编写C-程序" class="headerlink" title="编写C#程序"></a>编写C#程序</h3><ol>
<li><p><strong>新建项目</strong><br>新建C#项目有两种：①<strong>控制台应用程序</strong>(一个用于创建可在Windows、Linux、和macOS上的.NET Core运行的命令行应用程序的项目)②<strong>控制台应用(.NET Framework)</strong>(用于创建命令行应用程序的项目)<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-15-22-50.png" alt="新建c#项目"></p>
<div class="note warning modern"><p>需要注意的是，<strong>控制台应用(.NET Framework)</strong>项目程序中一般需要添加<code>Console.ReadKey();</code>，用于暂停程序，而<strong>控制台应用程序</strong>项目不添加也能看到调程序试信息。</p>
</div>
</li>
<li><p><strong>编写程序代码</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="运行原理"><a href="#运行原理" class="headerlink" title="运行原理"></a>运行原理</h3><p><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-02-20-51-01.png" alt="运行原理"></p>
<ul>
<li>程序在运行过程分为两个时期，分别是编译期和运行期。</li>
<li><strong>编译期</strong>：CLR对C#代码进行<strong>第一次编译</strong>，将编写的代码编译成<code>.dll</code>文件或<code>.exe</code>文件。此时代码被编译为中间语言</li>
<li><strong>运行期</strong>：CLR会针对目前特定的硬件环境使用<strong>即时编译</strong>（JIT）,也就是将中间语言编译成为本机代码并执行。在运行期，CLR把将编译过后的代码放入一个<strong>缓冲区</strong>中。下次使用相同的代码时，就直接从缓冲区调用。也就是说<strong>相同代码只编译一次</strong>，提高了程序运行的速度。</li>
</ul>
<h2 id="C-编程基础"><a href="#C-编程基础" class="headerlink" title="C# 编程基础"></a>C# 编程基础</h2><h3 id="C-基本语法"><a href="#C-基本语法" class="headerlink" title="C# 基本语法"></a>C# 基本语法</h3><h4 id="C-代码基本格式"><a href="#C-代码基本格式" class="headerlink" title="C#代码基本格式"></a>C#代码基本格式</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] <span class="keyword">class</span> 类名&#123;</span><br><span class="line">    程序代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>每行的最后都必须用分号（英文格式）<code>;</code>结束。</li>
<li>C# 严格区分大小写。</li>
<li>为了便于阅读，通常使用缩进格式，但这不是必须的。</li>
</ol>
<h4 id="C-中的注释"><a href="#C-中的注释" class="headerlink" title="C#中的注释"></a>C#中的注释</h4><ol>
<li><strong>单行注释</strong> <code>//</code></li>
<li><strong>多行注释</strong> 用<code>/*</code>开头，以<code>*/</code>结尾</li>
<li><strong>文档注释</strong></li>
</ol>
<h5 id="文档注释"><a href="#文档注释" class="headerlink" title="文档注释"></a>文档注释</h5><p>文档注释用于对类或方法进行说明和描述。在类或方法前连续输入3个<code>/</code>，就会自动生成对应的文档注释，需要手动填写类或方法的描述信息，来完成文档注释。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Add</span>()</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>上述代码中的<code>&lt;summary&gt;</code>标签用于对共有类型的类、方法、属性或字段进行注释。其他常用的文档注释标签如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>标签</th>
<th>表示含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;param&gt;</code></td>
<td>描述方法或构造函数的参数</td>
</tr>
<tr>
<td><code>&lt;include&gt;</code></td>
<td>包括来自外部文件的XML</td>
</tr>
<tr>
<td><code>&lt;returns&gt;</code></td>
<td>描述方法的返回值</td>
</tr>
<tr>
<td><code>&lt;value&gt;</code></td>
<td>描述属性</td>
</tr>
<tr>
<td><code>&lt;example&gt;</code></td>
<td>表示所含时示例</td>
</tr>
<tr>
<td><code>&lt;exception&gt;</code></td>
<td>标识方法可能引发异常</td>
</tr>
</tbody>
</table>
</div>
<h4 id="C-中的标识符"><a href="#C-中的标识符" class="headerlink" title="C#中的标识符"></a>C#中的标识符</h4><ul>
<li>标识符可以由<strong>任意顺序的大小写字母、数字、下划线(_)和@符号</strong>组成</li>
<li>不能以数字开头</li>
<li>如果包含@，那么@必须放在首位</li>
<li>不能是C#中的关键字</li>
</ul>
<p><strong>建议遵循的规范</strong>。</p>
<ul>
<li>类名、方法名、属性名：<strong>大驼峰命名法</strong>（也叫帕斯卡(Pascal)命名法）</li>
<li>字段名、变量名：<strong>小驼峰命名法</strong></li>
<li>常量名所有字母大写，单词之间下划线连接</li>
<li>尽量使用有意义的英文单词定义标识符</li>
</ul>
<div class="note info modern"><p>在C#中，标识符的组成部分也可以是汉字或中文</p>
</div>
<h4 id="C-中的关键字"><a href="#C-中的关键字" class="headerlink" title="C#中的关键字"></a>C#中的关键字</h4><p>也称作保留字</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">abstract  do        in        protected   true</span><br><span class="line">as        double    int       public      try</span><br><span class="line">base      else      interface readonly    typeof</span><br><span class="line">bool      enum      internal  ref         uint</span><br><span class="line">break     event     is        return      ulong</span><br><span class="line">byte      explicit  lock      sbyte       unchecked</span><br><span class="line">case      extern    long      sealed      unsafe</span><br><span class="line">catch     false     namespace short       ushort</span><br><span class="line">char      finally   new       sizeof      using</span><br><span class="line">checked   fixed     null      stackalloc  virtual</span><br><span class="line">class     float     object    static      void</span><br><span class="line">const     for       operator  string      volatile</span><br><span class="line">continue  foreach   out       struct      while</span><br><span class="line">decimal   goto      override  switch</span><br><span class="line">default   if        params    this</span><br><span class="line">delegate  implicit  private   throw</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>所有的关键字都是小写</strong></li>
<li><strong>程序中的标识符不能以关键字命名</strong></li>
</ul>
<h4 id="C-中的常量"><a href="#C-中的常量" class="headerlink" title="C#中的常量"></a>C#中的常量</h4><h5 id="整型常量"><a href="#整型常量" class="headerlink" title="整型常量"></a>整型常量</h5><p>整型常量：整型常量是整数类型的数据，有二进制、八进制、十进制和十六进制4种表示形式。</p>
<ol>
<li>二进制：由数字0 和1 组成的数字序列。如01000000、10000001。</li>
<li>八进制：以<code>0</code>开头并且其后由0 ~7之间（包括0和7）的整数组成的数字序列，如：0342。</li>
<li>十进制：数字0~9之间（包括0和9）的整数组成的数字序列。如：198。</li>
<li>十六进制：以<code>0x</code>或者<code>0X</code>开头并且其后由0~9、A~F(包括0和9、A和F)组成的数字序列，如0x25AF。</li>
</ol>
<h5 id="浮点数常量"><a href="#浮点数常量" class="headerlink" title="浮点数常量"></a>浮点数常量</h5><p>就是在数学中用到的小数。</p>
<ul>
<li>float单精度浮点数：后面以<code>F</code>或<code>f</code>结尾。</li>
<li>double双精度浮点数：后面以以<code>D</code>或<code>d</code>结尾。</li>
<li><strong>当在使用浮点数时也可以在结尾处不加任何的后缀，此时虚拟机会默认为double双精度浮点数</strong>。</li>
</ul>
<h5 id="字符常量"><a href="#字符常量" class="headerlink" title="字符常量"></a>字符常量</h5><p>用于表示一个字符，一个字符常量要用一对英文半角格式的<strong>单引号</strong>（’ ‘）引起来，他可以是英文字母、数字、标点符号以及由转义序列来表示的特殊字符(\u00000空格字符)。</p>
<h5 id="字符串常量"><a href="#字符串常量" class="headerlink" title="字符串常量"></a>字符串常量</h5><p>用于表示一串连续的字符，一个字符串常量要用一对英文半角格式的<strong>双引号</strong>（“ ”）引起来。</p>
<h5 id="布尔常量"><a href="#布尔常量" class="headerlink" title="布尔常量"></a>布尔常量</h5><ul>
<li><code>true</code></li>
<li><code>false</code></li>
</ul>
<h5 id="null常量"><a href="#null常量" class="headerlink" title="null常量"></a>null常量</h5><p>null 常量只有一个null，表示对象的引用为空。</p>
<div class="note info flat"><p>特殊字符——反斜杠(<code>\</code>)<br>在字符常量中，反斜杠(<code>\</code>)是一个特殊的字符，被称为<strong>转义字符</strong>，作用是<strong>用来转义后面的一个字符</strong>。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>转义字符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\r</code></td>
<td>回车</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>换行</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>制表符 相当于【Tab】键</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>退格符号，相当于【Backspace】键</td>
</tr>
<tr>
<td><code>\&#39;</code></td>
<td>转义单引号</td>
</tr>
<tr>
<td><code>\&quot;</code></td>
<td>转义双引号</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>转义反斜杠</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="note info flat"><p><strong>十进制转二进制</strong><br>就是用<strong>短除法</strong>除以2取余数的过程。把要转换的数，除以2，得到商和余数，将商继续除以2，直到商为0。最后所有余数从下往上排列得到二进制数。</p>
</div>
<div class="note info flat"><p><strong>二进制转十进制</strong><br>从右往左用二进制位上的每个数去乘以2的对应次方，右边第一位乘以2的0次方，最后相加。</p>
</div>
<div class="note info flat"><p><strong>二进制转八进制</strong><br>从右往左三位三位看，最后结果以<code>0</code>开头<br><strong>二进制转十六进制</strong><br>从右往左四位四位看，最后结果以<code>0x</code>或<code>0X</code>开头</p>
</div>
<h3 id="C-中的变量"><a href="#C-中的变量" class="headerlink" title="C#中的变量"></a>C#中的变量</h3><h4 id="变量的定义"><a href="#变量的定义" class="headerlink" title="变量的定义"></a>变量的定义</h4><p>变量实际上就是一个临时存放数据的地方。</p>
<h4 id="变量的数据类型"><a href="#变量的数据类型" class="headerlink" title="变量的数据类型"></a>变量的数据类型</h4><p><strong>C#是一门强类型编程语言</strong>，对变量的数据类型具有严格的限定。<br>在C#中，变量的数据类型分为两大类，<strong>值类型</strong>和<strong>引用类型</strong>。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-03-00-06-48.png" alt="变量的数据类型"><br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-03-00-10-37.png" alt="浮点型取整范围"></p>
<h4 id="变量的类型转换"><a href="#变量的类型转换" class="headerlink" title="变量的类型转换"></a>变量的类型转换</h4><ol>
<li>自动类型转换</li>
<li>强制类型转换</li>
</ol>
<p><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-03-00-12-41.png" alt="变量的类型转换"></p>
<h4 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h4><ul>
<li>变量需要在他的作用范围内才可以被使用，这个作用范围称为变量的作用域。</li>
<li>程序中，变量一定会被定义在某一对大括号中，该大括号所包含的代码区域便是这个变量的作用域。</li>
</ul>
<h3 id="C-中的运算符"><a href="#C-中的运算符" class="headerlink" title="C#中的运算符"></a>C#中的运算符</h3><h4 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h4><div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>正号 / 加</td>
</tr>
<tr>
<td><code>-</code></td>
<td>负号 / 减</td>
</tr>
<tr>
<td><code>*</code></td>
<td>乘</td>
</tr>
<tr>
<td><code>/</code></td>
<td>除</td>
</tr>
<tr>
<td><code>%</code></td>
<td>取模</td>
</tr>
<tr>
<td><code>++</code></td>
<td>自增</td>
</tr>
<tr>
<td><code>--</code></td>
<td>自减</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>区分<code>i++</code>与<code>++i</code>。</li>
<li>除法运算，当除数与被除数都为整数时，结果为整数；有小数，得到结果也会是小数。</li>
<li>取模运算，运算结果的正负取决于被模数(<code>%</code>左边的数)符号，与模数的符号无关。</li>
</ul>
<h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>=</code></td>
<td>赋值</td>
</tr>
<tr>
<td><code>+=</code></td>
<td>加等于</td>
</tr>
<tr>
<td><code>-=</code></td>
<td>减等于</td>
</tr>
<tr>
<td><code>*=</code></td>
<td>乘等于</td>
</tr>
<tr>
<td><code>/=</code></td>
<td>除等于</td>
</tr>
<tr>
<td><code>%=</code></td>
<td>模等于</td>
</tr>
</tbody>
</table>
</div>
<p>在C#中可以通过一条赋值语句对多个变量进行赋值。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> x, y, z;</span><br><span class="line">x = y = z = <span class="number">5</span>;</span><br></pre></td></tr></table></figure></p>
<h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code></td>
<td>等于</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>不等于</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>小于</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>大于</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>小于等于</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>大于等于</td>
</tr>
</tbody>
</table>
</div>
<div class="note warning modern"><p>在使用比较运算符时，<code>==</code>容易误写成<code>=</code></p>
</div>
<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;</code></td>
<td>与</td>
</tr>
<tr>
<td>&#124;</td>
<td>或</td>
</tr>
<tr>
<td><code>^</code></td>
<td>异或</td>
</tr>
<tr>
<td><code>!</code></td>
<td>非</td>
</tr>
<tr>
<td><code>&amp;&amp;</code></td>
<td>短路与</td>
</tr>
<tr>
<td>&#124;&#124;</td>
<td>短路或</td>
</tr>
</tbody>
</table>
</div>
<h4 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h4><p><strong>是针对二进制数的每一位进行运算的符号，他是专门针对数字0和1进行操作的。</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>运算</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;</code></td>
<td>按位与</td>
<td>如果两个二进制的相应位都为1，结果为1，否则为0</td>
</tr>
<tr>
<td>&#124;</td>
<td>按位或</td>
<td>有1则1，全0为0</td>
</tr>
<tr>
<td><code>~</code></td>
<td>取反</td>
<td>只针对一个数操作，二进制位是0，则取反值为1；如果是1，则取反值为0</td>
</tr>
<tr>
<td><code>^</code></td>
<td>按位异或</td>
<td>一样为0；相异为1</td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>左移（尖的方向移动）</td>
<td>右边补0，左边舍去</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>右移</td>
<td>右边舍去，左边正数补0，负数补1</td>
</tr>
</tbody>
</table>
</div>
<h4 id="运算符的优先级"><a href="#运算符的优先级" class="headerlink" title="运算符的优先级"></a>运算符的优先级</h4><p>在对一些比较复杂的表达式进行运算时，要明确表达式中所有运算符参与运算的先后顺序，我们把这种顺序称作运算符的优先级。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-03-00-41-11.png" alt="运算符的优先级"></p>
<h3 id="选择结构语句"><a href="#选择结构语句" class="headerlink" title="选择结构语句"></a>选择结构语句</h3><h4 id="if条件语句"><a href="#if条件语句" class="headerlink" title="if条件语句"></a>if条件语句</h4><ol>
<li>if语句</li>
<li>if…else语句</li>
<li>if…else if…else语句</li>
</ol>
<h5 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">判断条件 ? 表达式<span class="number">1</span> : 表达式<span class="number">2</span></span><br></pre></td></tr></table></figure>
<h4 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(表达式)&#123;</span><br><span class="line">    <span class="keyword">case</span> 目标值<span class="number">1</span>:</span><br><span class="line">        执行语句<span class="number">1</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> 目标值<span class="number">2</span>:</span><br><span class="line">        执行语句<span class="number">2</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    ......</span><br><span class="line">    <span class="keyword">case</span> 目标值n:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="literal">default</span>:</span><br><span class="line">        执行语句n</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="循环结构语句"><a href="#循环结构语句" class="headerlink" title="循环结构语句"></a>循环结构语句</h3><h4 id="while-循环语句"><a href="#while-循环语句" class="headerlink" title="while 循环语句"></a>while 循环语句</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(循环条件)&#123;</span><br><span class="line">    执行语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="do…while-循环语句"><a href="#do…while-循环语句" class="headerlink" title="do…while 循环语句"></a>do…while 循环语句</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    执行语句</span><br><span class="line">&#125;<span class="keyword">while</span>(循环条件);</span><br></pre></td></tr></table></figure>
<div class="note info modern"><p>循环会无条件执行一次</p>
</div>
<h4 id="for-循环语句"><a href="#for-循环语句" class="headerlink" title="for 循环语句"></a>for 循环语句</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化表达式;循环条件;操作表达式)&#123;</span><br><span class="line">    执行语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="跳转语句-break、goto、continue"><a href="#跳转语句-break、goto、continue" class="headerlink" title="跳转语句(break、goto、continue)"></a>跳转语句(break、goto、continue)</h4><ol>
<li>break 语句<br>跳出循环</li>
<li>continue 语句<br>跳出本次循环</li>
<li>goto 语句<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">int</span> i,j;</span><br><span class="line">            <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=<span class="number">9</span>;i++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=i;j++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(i&gt;<span class="number">4</span>)&#123;</span><br><span class="line">                        <span class="keyword">goto</span> end;</span><br><span class="line">                    &#125;</span><br><span class="line">                    Console.Write(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                Console.WriteLine();</span><br><span class="line">            &#125;</span><br><span class="line">        end: Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="循环嵌套"><a href="#循环嵌套" class="headerlink" title="循环嵌套"></a>循环嵌套</h4><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><h4 id="什么是方法"><a href="#什么是方法" class="headerlink" title="什么是方法"></a>什么是方法</h4><p>方法就是一个功能的集合，可以把程序中的某段具有特殊功能的代码段提取出来</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[访问权限修饰符] [其他修饰符] 返回值类型 方法名(行参列表)&#123;</span><br><span class="line">    方法体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>方法里面不能有方法</li>
<li>一个方法的执行需要调用这个方法</li>
<li>一个方法可以被多次调用</li>
<li>方法的执行 <strong>栈结构</strong></li>
</ul>
<h4 id="方法的重载"><a href="#方法的重载" class="headerlink" title="方法的重载"></a>方法的重载</h4><p>在C#中，<strong>由方法名和参数列表（参数的类型和顺序）组成的部分称为方法签名</strong>。<br>判断是否构成重载，只需要比较方法签名。</p>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>数组是一个容器，用来储存一系列的相兼容的数据类型的变量。</p>
<h4 id="数组的定义"><a href="#数组的定义" class="headerlink" title="数组的定义"></a>数组的定义</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[] array1=<span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">int</span>[] array2=<span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">5</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;; <span class="comment">//元素不能多也不能少</span></span><br><span class="line"><span class="built_in">int</span>[] array3=<span class="keyword">new</span> <span class="built_in">int</span>[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="built_in">int</span>[] array=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="数组的常见操作"><a href="#数组的常见操作" class="headerlink" title="数组的常见操作"></a>数组的常见操作</h4><ol>
<li>数组遍历</li>
<li>数组最值</li>
<li>数组排序</li>
</ol>
<h4 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>[,] array=<span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="built_in">int</span>[,] array1=<span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">3</span>,<span class="number">4</span>]&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#125;;</span><br><span class="line"><span class="built_in">int</span>[,] array2=&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="程序调试"><a href="#程序调试" class="headerlink" title="程序调试"></a>程序调试</h3><h4 id="设置断点"><a href="#设置断点" class="headerlink" title="设置断点"></a>设置断点</h4><ul>
<li>在程序的调试过程中，需要对程序中某些数据的变化情况进行观察，才能分析出程序出错的原因，这时就需要为程序设置断点。</li>
<li>断点可以让正在运行的程序在需要的地方中断，当再次运行程序时，程序会在断点处暂停，方便观察程序中的数据。</li>
<li>添加断点的两种方式：<ol>
<li>左击代码左边的灰色区域即可，断点插入成功后左侧会有彩色圆点出现，并且插入断点后的代码会高亮显示。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-01-38.png" alt="插入断点后的代码"></li>
<li>在某行代码处右击鼠标，在弹出的快捷菜单中，选择“断点”选项，然后选择“插入断点”即可。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-03-51.png" alt="通过快捷菜单插入断点"></li>
</ol>
</li>
<li>删除断点：<ol>
<li>左击代码左侧已插入的彩色圆点，即可删除断点</li>
<li>在断点上右击选择【删除断点】选项。</li>
</ol>
</li>
</ul>
<h4 id="单步调试"><a href="#单步调试" class="headerlink" title="单步调试"></a>单步调试</h4><ul>
<li>单步调试：当程序出现Bug时，通常采用的是一步一步跟踪程序执行的流程，根据变量的值，找到错误的原因的方法。</li>
<li>单步调试分为逐语句(快捷键【F11】)和逐过程(快捷建【F12】)。</li>
<li>逐语句调试会进入方法内部调试，单步执行方法体中的每一行代码，逐过程调试不会进入方法体内部，而是把方法当做一行代码来执行。</li>
<li>开启单步调试：在代码中设置断点后，在工具栏中选择【Debug】模式，并单击启动按钮，开启程序调试功能。</li>
<li><p>调试按钮的作用<img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-09-16.png" style="height:100px"></p>
<ul>
<li>全部中断：该按钮可以将正在执行的程序全部中断，快捷建【Ctrl+Alt+Break】。</li>
<li>停止调试：该按钮用于停止调试程序，快捷建【Shift+F5】。</li>
<li>重新启动：该按钮用于重新启动程序调试，快捷键【Ctrl+Shift+F5】。</li>
<li>显示下一条语句：该按钮用于显示下一条执行的语句，快捷键【Alt+数字键*】。</li>
<li>逐语句：该按钮可以让程序按照逐语句进行调试，快捷键【F11】。</li>
<li>逐过程：该按钮可以让程序按照逐过程进行调试，快捷键【F10】。</li>
<li>跳出：该按钮用于跳出正在执行的程序，快捷键【Shift+F11】。</li>
</ul>
</li>
<li><p>当使用【逐语句】和【逐过程】按钮进行单步调试，调试信息会显示在【自动窗口】、【局部变量】和【监视1】窗口中，具体信息如下：</p>
<ul>
<li>【自动窗口】：自动根据当前选中对象显示其调试信息。</li>
<li>【局部变量窗口】：只显示当前帧的局部变量信息。</li>
<li>【监视1窗口】：检索用户自己添加的变量信息。</li>
</ul>
</li>
</ul>
<h4 id="观察变量"><a href="#观察变量" class="headerlink" title="观察变量"></a>观察变量</h4><p>观察变量值的方法：</p>
<ul>
<li><p>使用【自动窗口】查看变量的值<br>可以在【自动窗口】中查看到当前代码中<code>变量的名称</code>、<code>值</code>和<code>类型</code><br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-33-47.png" alt="使用【自动窗口】查看变量的值"></p>
</li>
<li><p>使用【局部变量】窗口查看变量的值<br>可以在【局部变量】窗口中查看到当前运行代码中之前所有<code>变量的名称</code>、<code>值</code>和<code>类型</code><br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-33-15.png" alt="使用【局部变量】窗口查看变量的值"></p>
</li>
<li><p>使用鼠标悬停的办法监视变量的值<br>查看变量当前值时，可以把鼠标指针移动到当前变量所在位置，观察变量的值，这种方法方便快捷，最常用<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-32-49.png" alt="使用鼠标悬停的办法监视变量的值"></p>
</li>
<li><p>使用【监视1】窗口查看变量的值<br>单击【监视1】窗口，双击【添加要监视的项】写入要查看的变量<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-32-18.png" alt="使用【监视1】窗口查看变量的值"></p>
</li>
<li><p>使用【即时窗口】查看变量的值<br>菜单栏选择【调试】→【窗口】→【即时】可打开【即时窗口】<br>在【即时窗口】中直接输入已运行的变量名，按【Enter】即可查看变量的值，也可以在变量名前加上<code>&amp;</code>查看变量的地址和值<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-31-43.png" alt="使用【即时窗口】查看变量的值"></p>
</li>
</ul>
<h4 id="条件断点"><a href="#条件断点" class="headerlink" title="条件断点"></a>条件断点</h4><ul>
<li>条件断点可以快速定位到需要调试的循环次数，提高调试效率。</li>
<li>使用条件断点调试程序的步骤如下所示：<ol>
<li>首先为需要中断的代码添加断点，然后右击断点，在弹出框中单击【条件（C）】按钮。</li>
<li>勾选【条件】选项，将条件表达式的值设置为<code>为true</code>，设置中断表达式设置为<code>i==2</code>（举例），此时完成断点设置，启动调试。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-06-16-55-18.png" alt="条件断点"></li>
</ol>
</li>
</ul>
<h2 id="面向对象基础"><a href="#面向对象基础" class="headerlink" title="面向对象基础"></a>面向对象基础</h2><h3 id="面向对象的概念"><a href="#面向对象的概念" class="headerlink" title="面向对象的概念"></a>面向对象的概念</h3><p><strong>面向过程</strong>与<strong>面向对象</strong>都是一种看待问题，解决问题的思维方式。</p>
<ul>
<li>面向过程：着眼点在于问题是怎么解决的，然后亲历亲为的去解决这个问题</li>
<li>面向对象：着眼点在于找到一个能够帮助我们解决问题的实体，然后委托这个实体来解决问题</li>
</ul>
<div class="note info modern"><p>面向对象的三大特征：<strong>封装性</strong>、<strong>继承性</strong>、<strong>多态性</strong>。</p>
</div>
<h3 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h3><p>对象：具有一定的功能，能够帮助解决特定问题的实体，就是对象。<br>类：一系列具有相同的功能和特征的对象的集合。</p>
<h4 id="类的定义"><a href="#类的定义" class="headerlink" title="类的定义"></a>类的定义</h4><p><code>class</code><br>遵循大驼峰命名法</p>
<div class="note info modern"><p>在C#中，定义在类中的变量被称为<strong>字段</strong>，定义在方法中的变量被称为<strong>局部变量</strong>。<br>字段：用来描述这个类所有对象共有的特征<br>方法：用来描述这个类共有的行为</p>
</div>
<h4 id="对象的创建与使用"><a href="#对象的创建与使用" class="headerlink" title="对象的创建与使用"></a>对象的创建与使用</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类名 对象名称 =<span class="keyword">new</span> 类名();</span><br></pre></td></tr></table></figure>
<h4 id="类的设计"><a href="#类的设计" class="headerlink" title="类的设计"></a>类的设计</h4><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><blockquote>
<p>在程序中，使用属性封装字段时，需要将字段访问级别设为private，并通过属性的get访问器和set访问器来对字段进行读写操作，从而保证类内部数据安全。</p>
</blockquote>
<div class="tabs" id="属性"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="属性-1">读写属性</button><button type="button" class="tab " data-href="属性-2">只读属性</button><button type="button" class="tab " data-href="属性-3">只写属性</button></ul><div class="tab-contents"><div class="tab-item-content active" id="属性-1"><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> [数据类型] [属性名]&#123;</span><br><span class="line">    <span class="keyword">get</span>&#123; <span class="comment">//返回参数值&#125;</span></span><br><span class="line">    <span class="keyword">set</span>&#123; <span class="comment">//设置隐式参数value给字段赋值 &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>For example</strong>：</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> age = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Age  <span class="comment">//自动属性</span></span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Say</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;我今年&quot;</span>+ <span class="keyword">this</span>.Age + <span class="string">&quot;岁了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="属性-2"><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> [数据类型] [属性名]&#123;</span><br><span class="line">    <span class="keyword">get</span>&#123; <span class="comment">//返回参数值&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content" id="属性-3"><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> [数据类型] [属性名]&#123;</span><br><span class="line">    <span class="keyword">set</span>&#123; <span class="comment">//设置隐式参数value给字段赋值 &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
<h3 id="访问权限修饰符"><a href="#访问权限修饰符" class="headerlink" title="访问权限修饰符"></a>访问权限修饰符</h3><div class="table-container">
<table>
<thead>
<tr>
<th>访问权限修饰符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td>最高访问级别，访问不受限制</td>
</tr>
<tr>
<td><code>protected</code></td>
<td>保护访问级别，受保护的成员可由自身及派生类访问</td>
</tr>
<tr>
<td><code>internal</code></td>
<td>内部访问级别，只有在同一程序集中，内部类型或者成员才可以访问</td>
</tr>
<tr>
<td><code>protected internal</code></td>
<td>内部保护级别，访问仅限于当前程序集，可以由自身及派生类访问</td>
</tr>
<tr>
<td><code>private</code></td>
<td>私有访问，最低访问级别，私有成员只有在它们的类和结构中才可以访问</td>
</tr>
</tbody>
</table>
</div>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><blockquote>
<p>构造方法用于实例化对象</p>
</blockquote>
<h4 id="构造方法的定义"><a href="#构造方法的定义" class="headerlink" title="构造方法的定义"></a>构造方法的定义</h4><p>在一个类中定义的方法同时满足以下3个条件，就是一个构造方法：</p>
<ol>
<li>方法名于类名相同</li>
<li>方法名前面没有返回值类型的声明</li>
<li>方法中不能使用return语句返回一个值</li>
</ol>
<h4 id="构造方法的重载"><a href="#构造方法的重载" class="headerlink" title="构造方法的重载"></a>构造方法的重载</h4><p>与普通方法一样，构造方法也可以重载。<br>如果一个类中没有定义构造方法，系统将会自动创建一个默认的构造方法。</p>
<h3 id="关键字-this"><a href="#关键字-this" class="headerlink" title="关键字 this"></a>关键字 this</h3><ol>
<li>this访问属性</li>
<li>this调用成员方法</li>
<li>this调用构造方法<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Class1</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;程序运行结果：&quot;</span>);</span><br><span class="line">            Class1 demo1 = <span class="keyword">new</span> Class1(<span class="string">&quot;huang&quot;</span>, <span class="number">20</span>);</span><br><span class="line">            <span class="comment">/*程序运行</span></span><br><span class="line"><span class="comment">             * 无参的构造方法</span></span><br><span class="line"><span class="comment">                一个有参数的构造方法</span></span><br><span class="line"><span class="comment">                两个参数的构造方法</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Class1</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;无参的构造方法&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Class1</span>(<span class="params"><span class="built_in">string</span> name</span>) : <span class="title">this</span>()   <span class="comment">//通过关键字this 调用无参的构造方法</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;一个有参数的构造方法&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Class1</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> age</span>) : <span class="title">this</span>(<span class="params"><span class="string">&quot;a&quot;</span></span>)    <span class="comment">//通过this调用带一个参数的构造方法</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;两个参数的构造方法&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h3><p>在C#中，当一个对象成为垃圾对象后仍会占用内存空间，时间一长2，就会导致内存不足。<br>为了清除这些无用的垃圾对象，释放一定的内存空间，C#中引入了垃圾回收机制。<br>在这种机制下，不需要过多关心垃圾对象的回收问题，.Net运行环境会启动垃圾回收器将这些垃圾从内存中释放，从而是程序获得更多内存空间。<br>除了等待运行环境自动垃圾回收，还可以通过<code>GC.Collect()</code>方法来通知运行环境立即进行垃圾回收。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp3</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Student</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Student类创建成功&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ~Student()  <span class="comment">//析构函数，在对象被销毁自动调用</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(name + <span class="string">&quot;：资源被回收&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Student s1 = <span class="keyword">new</span> Student();</span><br><span class="line">            Student s2 = <span class="keyword">new</span> Student();</span><br><span class="line">            s1.name = <span class="string">&quot;s1&quot;</span>;</span><br><span class="line">            s2.name = <span class="string">&quot;s2&quot;</span>;</span><br><span class="line">            s1 = <span class="literal">null</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;执行GC.Collect方法：&quot;</span>);</span><br><span class="line">            GC.Collect();</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">            <span class="comment">/*运行结果</span></span><br><span class="line"><span class="comment">            Student类创建成功</span></span><br><span class="line"><span class="comment">            Student类创建成功</span></span><br><span class="line"><span class="comment">            执行GC.Collect方法：</span></span><br><span class="line"><span class="comment">            s1：资源被回收</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h4><p>语法<code>~</code>。<br>析构函数在对象被销毁自动调用。</p>
<h3 id="关键字Static"><a href="#关键字Static" class="headerlink" title="关键字Static"></a>关键字Static</h3><div class="note info modern"><ul>
<li>静态成员是属于类的，访问的时候用到类来访问</li>
<li>非静态成员是属于对象的，访问的时候用对象来访问</li>
</ul>
</div>
<h4 id="静态字段"><a href="#静态字段" class="headerlink" title="静态字段"></a>静态字段</h4><h4 id="静态属性"><a href="#静态属性" class="headerlink" title="静态属性"></a>静态属性</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> age = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> Age  <span class="comment">//自动属性</span></span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">get</span>;</span><br><span class="line">        <span class="keyword">set</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Say</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;我今年&quot;</span>+ Person.Age + <span class="string">&quot;岁了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h4><p>也是用类名访问。</p>
<h4 id="静态类"><a href="#静态类" class="headerlink" title="静态类"></a>静态类</h4><p>当类中的成员全部是静态成员时，就可以把这个类声明为静态类。<br>声明静态类需要在关键字<code>class</code>前加上<code>static</code>。</p>
<h4 id="静态构造方法"><a href="#静态构造方法" class="headerlink" title="静态构造方法"></a>静态构造方法</h4><ul>
<li>静态构造方法的作用是初始化静态成员</li>
<li>一个类只能有一个构造方法</li>
<li>该静态构造方法没有任何其他修饰符，也没有参数</li>
<li>可以被定义在静态类或非静态类中</li>
<li>静态构造方法会在程序创建第一实例或引用任何静态成员之前，完成类中静态成员的初始化</li>
</ul>
<div class="note warning modern"><p>静态构造方法只能为静态字段赋值</p>
</div>
<h4 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h4><p>单例模式是C#中的一种设计模式，它是指在设计一个类时，需要保证整个程序在运行期间只存在一个实例对象。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">SingleClass</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//声明一个静态的SingleClass类的变量来引用唯一的对象</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> SingleClass singleInstance;</span><br><span class="line">        <span class="comment">//创建私有的无参构造方法，使外部无法调用这个类的构造方法</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="title">SingleClass</span>()</span> &#123; &#125;</span><br><span class="line">        <span class="comment">//创建静态的方法，创建此类唯一的对象</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SingleClass <span class="title">SingleMethod</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (singleInstance==<span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                singleInstance = <span class="keyword">new</span> SingleClass();<span class="comment">//调用私有的构造方法创建该实例</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> singleInstance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//用SingleMethod()方法创建SingleClass对象</span></span><br><span class="line">    SingleClass s1 = SingleClass.SingleMethod();</span><br><span class="line">    SingleClass s2 = SingleClass.SingleMethod();</span><br><span class="line">    <span class="comment">//比较变量s1与s2中存的地址是否相同</span></span><br><span class="line">    <span class="keyword">if</span> (s1==s2)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;这就是单例模式&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="嵌套类"><a href="#嵌套类" class="headerlink" title="嵌套类"></a>嵌套类</h3><p>在C#中，可以将类定义在一个类的内部，被包含的类称作<strong>嵌套类</strong>，而包含嵌套类的类就称作<strong>外部类</strong>。</p>
<ul>
<li>外部类与嵌套类的非静态成员可以重名</li>
<li>嵌套类中不能声明静态成员，但嵌套类可以直接引用外部类的静态成员</li>
<li>作用域之外需要使用类似<code>Outer.类名</code>的完整限定名方式</li>
</ul>
<h3 id="匿名类"><a href="#匿名类" class="headerlink" title="匿名类"></a>匿名类</h3><p>有时候某个类的实例只会用到一次，这时可以使用<strong>匿名类</strong>的方式创建实例，即<strong>无需显示定义一个类，就可以将一组只读属性封装到单个对象中</strong>。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//匿名类</span></span><br><span class="line">    <span class="comment">//创建匿名对象</span></span><br><span class="line">    <span class="keyword">var</span> Child = <span class="keyword">new</span> &#123; Name = <span class="string">&quot;Lucy&quot;</span>, Age = <span class="number">3</span>, Sex = <span class="string">&#x27;女&#x27;</span> &#125;;</span><br><span class="line">    <span class="comment">//控制台输出匿名对象</span></span><br><span class="line">    Console.WriteLine(<span class="string">&quot;我的名字是：&#123;0&#125;，性别为：&#123;1&#125;，年龄是：&#123;2&#125;&quot;</span>, Child.Name, Child.Sex, Child.Age);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//程序运行结果：</span></span><br><span class="line"><span class="comment">//我的名字是：Lucy，性别为：女，年龄是：3</span></span><br></pre></td></tr></table></figure>
<h3 id="对象初始化器"><a href="#对象初始化器" class="headerlink" title="对象初始化器"></a>对象初始化器</h3><p>在一个类中，通常使用构造方法来为属性赋值，当一个类中的属性过多时，不可能为每种情况都创建一个构造方法，此时就可以使用对象的初始化器来为属性赋值</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类名 变量名=<span class="keyword">new</span> 类名()&#123;属性名=值,属性名=值……&#125;</span><br></pre></td></tr></table></figure>
<p><strong>For example</strong>:</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">class</span> <span class="title">Person</span>&#123;</span><br><span class="line">            <span class="built_in">int</span> age;</span><br><span class="line">            <span class="keyword">public</span> <span class="built_in">int</span> Age&#123;</span><br><span class="line">                <span class="keyword">set</span>&#123;age=<span class="keyword">value</span>;&#125;</span><br><span class="line">                <span class="keyword">get</span>&#123;<span class="keyword">return</span> age;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">string</span> name;</span><br><span class="line">            <span class="keyword">public</span> <span class="built_in">string</span> Name&#123;</span><br><span class="line">                <span class="keyword">set</span>&#123;name=<span class="keyword">value</span>;&#125;</span><br><span class="line">                <span class="keyword">get</span>&#123;<span class="keyword">return</span> name;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            Person p=<span class="keyword">new</span> Person()&#123;Name=<span class="string">&quot;Lucy&quot;</span>,Age=<span class="number">18</span>&#125;;</span><br><span class="line">             Console.WriteLine(<span class="string">&quot;我的名字是：&#123;0&#125;，年龄是：&#123;1&#125;&quot;</span>, p.Name,p.Age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="面向对象高级"><a href="#面向对象高级" class="headerlink" title="面向对象高级"></a>面向对象高级</h2><h3 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h3><h4 id="继承的概念"><a href="#继承的概念" class="headerlink" title="继承的概念"></a>继承的概念</h4><p>如果多个类中具有相同的属性和方法，可以把它们提取出来，封装成一个新的类。<br>这个类称作<strong>父类</strong>/<strong>基类</strong>/<strong>超类</strong><br>关系：<strong>子类继承父类</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 子类类名:父类类名&#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>子类拥有父类的所有字段、属性和方法</li>
<li>构造方法不可以被继承</li>
<li>一个类可以有多个子类，但只能有一个父类</li>
<li>多层继承是可以的，即一个类在继承另一个类的同时还可以被其他类继承。例如，C类继承B类，B类继承A类，此时C类也可以称作A类的子类</li>
<li><strong>在C#中，所有的类都直接或间接的继承<code>Object</code>类</strong></li>
</ul>
<h4 id="构造方法的执行过程"><a href="#构造方法的执行过程" class="headerlink" title="构造方法的执行过程"></a>构造方法的执行过程</h4><p>初始化实例成员<code>→</code>调用父类的构造方法<code>→</code>调用自身的构造方法</p>
<h4 id="隐藏基类方法"><a href="#隐藏基类方法" class="headerlink" title="隐藏基类方法"></a>隐藏基类方法</h4><p>子类在继承父类时可以对父类成员进行扩展，如果子类中出现与父类同名的方法，那么在调用程序时就不能明确该方法是属于父类还是子类，这时应该使用关键字<code>new</code>隐藏基类方法。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Shout</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;动物的叫声&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Dog</span> : <span class="title">Animal</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">new</span> <span class="keyword">void</span> <span class="title">Shout</span>()<span class="comment">//与父类方法重名</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;汪……&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">             Dog dog = <span class="keyword">new</span> Dog();</span><br><span class="line">            dog.Shout();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="拆箱与装箱"><a href="#拆箱与装箱" class="headerlink" title="拆箱与装箱"></a>拆箱与装箱</h4><p>在实际开发过程中，某些方法的参数类型为引用类型，如果调用时传入的是数值类型，此时需要进行<strong>装箱</strong>操作。<br>当一个方法的返回值类型为数值类型时。实际上该方法的返回值类型为引用类型，此时需要进行<strong>拆箱</strong>操作。</p>
<div class="note info modern"><ul>
<li>装修就是将数值类型转换为引用类型</li>
<li>拆箱就是将引用类型转换为数值类型</li>
</ul>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> num = <span class="number">100</span>;</span><br><span class="line">            <span class="comment">//将int类型的变量赋值给object类型的变量obj，发生装箱操作</span></span><br><span class="line">            <span class="built_in">object</span> obj = num;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;obj对象的值为&#123;0&#125;&quot;</span>, obj);</span><br><span class="line">            <span class="comment">//将object类型的对象obj赋值给int类型的变量num，发生拆箱操作</span></span><br><span class="line">            num = (<span class="built_in">int</span>)obj;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;变量num的值为&#123;0&#125;&quot;</span>, num);</span><br><span class="line">            <span class="comment">//程序运行结果：</span></span><br><span class="line">            <span class="comment">//obj对象的值为100</span></span><br><span class="line">            <span class="comment">//变量num的值为100</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="关键字sealed"><a href="#关键字sealed" class="headerlink" title="关键字sealed"></a>关键字sealed</h3><ul>
<li>关键字sealed可以修饰类也可以修饰方法</li>
<li>被关键字sealed修饰的类被称为<strong>密封类</strong>（不能派生子类）</li>
<li>被关键字sealed修饰的方法在<strong>子类中不能重写</strong></li>
</ul>
<h4 id="关键字sealed修饰类"><a href="#关键字sealed修饰类" class="headerlink" title="关键字sealed修饰类"></a>关键字sealed修饰类</h4><p>在C#中，使用关键字<code>sealed</code>修饰的类不可以被继承。</p>
<h4 id="关键字sealed修饰方法"><a href="#关键字sealed修饰方法" class="headerlink" title="关键字sealed修饰方法"></a>关键字sealed修饰方法</h4><h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><div class="note info modern"><p>父类的引用可以指向子类对象</p>
</div>
<h4 id="重写父类的方法"><a href="#重写父类的方法" class="headerlink" title="重写父类的方法"></a>重写父类的方法</h4><ul>
<li>虚函数 使用virtual修饰</li>
<li>虚函数可以被子类隐藏，也可以被子类重写</li>
<li>非虚函数只能被子类隐藏</li>
<li>重写关键字：<code>override</code></li>
</ul>
<h4 id="多态的实现"><a href="#多态的实现" class="headerlink" title="多态的实现"></a>多态的实现</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Shout</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;动物的叫声&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Dog</span> : <span class="title">Animal</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Shout</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;汪……&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Cat</span> : <span class="title">Animal</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Shout</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;喵……&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Animal an1 = <span class="keyword">new</span> Cat();</span><br><span class="line">            Animal an2 = <span class="keyword">new</span> Dog();</span><br><span class="line">            animalShout(an1);</span><br><span class="line">            animalShout(an2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">animalShout</span>(<span class="params">Animal an</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            an.Shout();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="关键字base"><a href="#关键字base" class="headerlink" title="关键字base"></a>关键字base</h4><p>当子类重写父类的方法后，子类对象将无法直接调用父类被重写的方法。<br>此时就需要<code>base</code>关键字</p>
<ol>
<li>调用父类的字段和方法<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">base</span>.字段名</span><br><span class="line"><span class="keyword">base</span>.方法名(参数列表)</span><br></pre></td></tr></table></figure></li>
<li>调用父类的构造方法<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">A</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title">B</span> : <span class="title">A</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span>():<span class="title">base</span>()</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="里氏转换原则"><a href="#里氏转换原则" class="headerlink" title="里氏转换原则"></a>里氏转换原则</h4><p>实现子类父类转换</p>
<ol>
<li>子类对象可以直接赋值给父类变量（向上转型）<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Animal an = <span class="keyword">new</span> Cat();</span><br></pre></td></tr></table></figure>
<ul>
<li>隐式转换</li>
<li>肯定会成功</li>
<li>向上转型成功后将不能再使用子类特有的字段</li>
</ul>
</li>
<li>父类对象赋值给子类变量需要进行强制类型转换（向下转型）<ul>
<li>显示转换，需要强制转换，前面添加括号，括号中指定将父类类型转为的子类类型，推荐使用<code>as</code></li>
<li>不一定成功，转型失败得到null</li>
<li>在向下转型前，使用<code>is</code>关键字判断</li>
</ul>
</li>
</ol>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Animal animal = <span class="keyword">new</span> Dog();<span class="comment">//子类Dog指向父类animal</span></span><br><span class="line">            <span class="comment">//使用关键字is判断animal变量是否可以转换为Dog类型</span></span><br><span class="line">            <span class="built_in">bool</span> result = animal <span class="keyword">is</span> Dog;</span><br><span class="line">            <span class="keyword">if</span> (result)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;animal变量能转换为Dog类型&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;animal变量不能转换为Dog类型&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//Dog dog = (Dog)animal;    //使用()强制转换</span></span><br><span class="line">            <span class="comment">//使用as关键字</span></span><br><span class="line">            Dog dog = animal <span class="keyword">as</span> Dog;</span><br><span class="line">            <span class="keyword">if</span> (dog!=<span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;animal变量是Dog类型，并且能转化为Dog类型对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;转换失败&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//程序运行结果：</span></span><br><span class="line">            <span class="comment">//animal变量能转换为Dog类型</span></span><br><span class="line">            <span class="comment">//animal变量是Dog类型，并且能转化为Dog类型对象</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Object类"><a href="#Object类" class="headerlink" title="Object类"></a>Object类</h4><div class="note info modern"><p>在C#中提供了一个Object类，它是所有类的父类，每个类都直接或间接的继承该类</p>
</div>
<h3 id="抽象类和接口类"><a href="#抽象类和接口类" class="headerlink" title="抽象类和接口类"></a>抽象类和接口类</h3><h4 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h4><ul>
<li>C#允许在定义方法时不写方法体（<strong>只有声明没有实现</strong>）</li>
<li>不含方法体的方法就是<strong>抽象方法</strong>，用关键字<code>abstract</code>修饰</li>
<li>当一个类中包含抽象方法，该类也必须使用<code>abstract</code>修饰，这样的类就是<strong>抽象类</strong></li>
<li>抽象类不能实例化对象</li>
</ul>
<div class="note warning modern"><p>包含抽象方法的类必须声明为抽象类，但是抽象类可以不包含抽象方法</p>
</div>
<div class="note warning modern"><p>非抽象类继承抽象类，需要实现父类所有的抽象方法</p>
</div>
<h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><ul>
<li>定义接口时使用<code>interface</code>关键字</li>
<li>一个类可以实现多个接口</li>
<li>接口中的方法不是抽象方法</li>
<li>接口中的方法不能有访问权限，默认使用<code>public static final</code></li>
<li>抽象类实现接口，可以把接口实现为抽象方法</li>
<li>接口中的方法可以实现为虚方法</li>
</ul>
<div class="note info modern"><p>如果一个类的后面既有父类也有接口，一定是父类在前</p>
</div>
<h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><h4 id="什么是异常finally"><a href="#什么是异常finally" class="headerlink" title="什么是异常finally"></a>什么是异常finally</h4><p>异常的类型有多种，每个类型都代表这个指定的异常类型，所有的异常都继承自<code>Exception</code>类。</p>
<h4 id="try…catch和finally"><a href="#try…catch和finally" class="headerlink" title="try…catch和finally"></a>try…catch和finally</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//程序代码块</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(ExceptionType e)&#123;</span><br><span class="line">    <span class="comment">//对异常的处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>一般的catch代码块<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">catch</span>&#123;</span><br><span class="line">    <span class="comment">//对异常的处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>特定catch代码块<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">catch</span>(Exceptiontype)&#123;</span><br><span class="line">    <span class="comment">//对异常的处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>特定对象的catch代码块<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">catch</span>(Exceptiontype e)&#123;</span><br><span class="line">    <span class="comment">//对异常的处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>在程序中可以使用多个catch代码块对异常进行捕获，但只有一个catch代码块可以捕获到异常，并对异常进行处理。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">int</span> num1 = <span class="number">10</span>;</span><br><span class="line">                <span class="built_in">int</span> num2 = <span class="number">0</span>;</span><br><span class="line">                <span class="built_in">int</span> num3 = num1 / num2;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;num3=&quot;</span> + num3);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (DivideByZeroException e)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//Message 属性用于解释异常的原因</span></span><br><span class="line">                Console.WriteLine(<span class="string">&quot;已处理异常信息：&quot;</span> + e.Message);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (SystemException)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;已经处理系统异常&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;已处理异常&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">finally</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;无论是否发生异常，finally代码块一定执行&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note warning modern"><p>在程序中使用异常语句，<code>try</code>代码块是必须有的，而<code>catch</code>代码块和<code>finally</code>代码块必须要有一个。<br>无论是否发生异常，finally代码块一定执行</p>
</div>
<h4 id="关键字throw"><a href="#关键字throw" class="headerlink" title="关键字throw"></a>关键字throw</h4><p>关键字<code>throw</code>用于抛出异常对象。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;这是一个异常&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-26-20-55-47.png" alt="throw"></p>
<div class="note info modern"><p>在实际开发中<code>throw</code>和<code>try...catch</code>总是配合使用。</p>
</div>
<h3 id="命名空间与程序集"><a href="#命名空间与程序集" class="headerlink" title="命名空间与程序集"></a>命名空间与程序集</h3><h4 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h4><p>C#中引入了命名空间的概念，可以将命名空间理解为程序定义的一个目录，使用命名空间可以有效避免类名冲突的问题。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Example</span>&#123;</span><br><span class="line">      Class Animal&#123;</span><br><span class="line">            <span class="function"><span class="keyword">void</span> <span class="title">Shout</span>()</span>&#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;动物的叫声&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><div class="note info modern"><p><code>namespace</code>表示命名空间的关键字，<code>Example</code>表示命名空间的名称</p>
</div></p>
<p>在实例化对象、调用方法、属性时都要使用“<strong>命名空间名.成员</strong>”的方式来引用。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    Example.Animal animal= <span class="keyword">new</span> Example.Animal();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>由于使用完全限定名的方式不利于程序代码的阅读，而且会导致代码的冗余，C#中可以使用关键字<code>using</code>添加对命名空间的引用，这样程序在调用其他命名空间的类时，就无需使用完整的限定名，直接调用即可。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> Example;   <span class="comment">//引用命名空间</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Test</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Test</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            Animal animal=<span class="keyword">new</span> Animal();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="程序集"><a href="#程序集" class="headerlink" title="程序集"></a>程序集</h4><ul>
<li>目前所有程序使用的都是自己的类，但是在许多项目中可能会用到其他程序中的类，此时就需要使用程序集（扩展名为 .dll ）</li>
<li>所谓的程序集就是包含一个或多个类型的定义文件和资源文件的集合，该程序集中的文件可以被其他程序使用</li>
<li>程序集文件可分为四个部分，分别是<strong>程序集清单</strong>、<strong>元数据</strong>、<strong>CIL</strong>、<strong>资源集</strong><ul>
<li><strong>程序集清单</strong>：包含描述该程序集中各元素彼此如何关联的数据集合，还包含指定该程序集的版本信息、安全标识所需的元数据、定义该程序集的范围以及解析对资源和类应用所需的元数据。</li>
<li><strong>元数据</strong>：提供有关程序集中定义的类型信息，包括类型的名称、基类和类型所实现的接口等。</li>
<li><strong>CIL</strong>：程序类型中所有的中间代码。</li>
<li><strong>资源集</strong>：诸如位图、指针、静态文本等。</li>
</ul>
</li>
</ul>
<ol>
<li><p><strong>创建类库</strong><br>新建项目，将项目添加到C#项目解决方案<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-04-18-29-58.png" alt="类库"><br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-04-18-37-08.png" alt="添加到解决方案"><br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-04-18-37-42.png" alt="目标框架"></p>
</li>
<li><p><strong>编写代码</strong><br>创建项目之后，项目中默认类名为<code>Class1.cs</code>，在该类中添加代码</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ClassLibrary1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Class1</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Print</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;引用程序集ClassLibrary1.dll&quot;</span>);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行程序，就可以在项目路径<code>\bin\Debug\netstandard2.0</code> 目录中生成一个<code>ClassLibrary1.dll</code>程序集</p>
</li>
<li><p><strong>引用程序集</strong><br>在解决方案中创建一个<strong>控制台应用(.NET Framework)</strong>，选中该项目中的【引用】选项，右键单击选中【添加引用(R)…】，弹出一个【引用管理器】窗口，选择上面生成的程序集即可。</p>
<img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-04-21-53-19.png" style="height:200px"><img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-04-21-56-23.png" style="height:300px">
</li>
<li><p><strong>使用程序集中的类</strong><br>在项目中通过关键字using引入程序集<code>ClassLibrary1.dll</code>，此时就可以调用<code>Class1</code>中的类。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> ClassLibrary1;</span><br><span class="line"><span class="comment">//这是控制台应用</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApp3</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Class1 test = <span class="keyword">new</span> Class1();</span><br><span class="line">            test.Print();</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果为“<strong>引用程序集ClassLibrary1.dll</strong>”则表明程序集成功引用，并调用了该程序集中<code>类Class1中的Print()</code>方法。</p>
</li>
</ol>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><h3 id="集合概述"><a href="#集合概述" class="headerlink" title="集合概述"></a>集合概述</h3><p>C#中的集合就像一个容器专门用于存储C#类的对象。</p>
<ul>
<li>C#中的集合分为<strong>泛型集合</strong>和<strong>非泛型集合</strong>，二者均实现了<code>IEnumerable</code> 接口</li>
<li><strong>泛型集合</strong>位于<code>System.Collections.Generic</code> 命名空间中，只能存储同一类型的对象，最常见的是<code>List&lt;T&gt;</code>泛型集合和<code>Dictionary&lt;TKey,TValue&gt;</code>泛型集合。</li>
<li><strong>非泛型集合</strong>位于<code>System.Collections</code>命名空间中，可以存储多种类型的对象，其中最常见的是<code>ArrayList</code>集合和<code>Hashtable</code>集合。</li>
<li>C#中提供了丰富的集合类。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-03-21-56-51.png" alt="集合的继承体系"><br>图中列出了程序中常用的一些集合类。其中，虚线框里填写的都是接口类型，而实线框里填写的都是具体的实现类。</li>
</ul>
<h3 id="非泛型集合"><a href="#非泛型集合" class="headerlink" title="非泛型集合"></a>非泛型集合</h3><h4 id="ArrayList集合"><a href="#ArrayList集合" class="headerlink" title="ArrayList集合"></a>ArrayList集合</h4><p><code>ArrayList</code>集合就像是一个收纳盒，它可以容纳不同类型的对象。例如，可以将int、string、object等类型的对象同时加入到<code>ArrayList</code>集合中。<br>ArrayList集合的常用方法如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>int Add(object value)</td>
<td>将元素添加到ArrayList集合</td>
</tr>
<tr>
<td>void AddRange(ICollection c)</td>
<td>将集合或者数组添加到ArrayList集合</td>
</tr>
<tr>
<td>void Clear()</td>
<td>从ArrayList中移除所有元素</td>
</tr>
<tr>
<td>bool Contains(object item)</td>
<td>判断某元素是否在ArrayList中</td>
</tr>
<tr>
<td>int IndexOf(object value)</td>
<td>查找指定元素，并返回该元素在ArrayList中第一个匹配项的索引</td>
</tr>
<tr>
<td>void Insert(int index,object value)</td>
<td>将元素插入ArrayList的指定索引处</td>
</tr>
<tr>
<td>int LastIndexOf(object value)</td>
<td>查找指定元素，并返回该元素在ArrayList中最后一个匹配项的索引</td>
</tr>
<tr>
<td>void Remove(object obj)</td>
<td>从ArrayList中移除指定元素的第一个匹配项</td>
</tr>
<tr>
<td>void RemoveAt(int index)</td>
<td>从ArrayList中移除指定索引处的元素</td>
</tr>
<tr>
<td>void Reverse()</td>
<td>将整个ArrayList中元素的顺序反转</td>
</tr>
<tr>
<td>void Sort()</td>
<td>对整个ArrayList中的元素进行排序(默认小到大)</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li><p><strong>添加元素</strong><br>调用ArrayList对象的<code>Add()</code>方法、<code>AddRange()</code>方法、<code>Insert()</code>方法来添加元素</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            ArrayList arr1 = <span class="keyword">new</span> ArrayList();<span class="comment">//创建 ArrayList 集合</span></span><br><span class="line">            <span class="comment">//使用不同的方法向集合中添加多个元素</span></span><br><span class="line">            arr1.Add(<span class="number">666</span>);</span><br><span class="line">            arr1.AddRange(<span class="keyword">new</span> ArrayList() &#123; <span class="string">&quot;张三&quot;</span>, <span class="string">&quot;李四&quot;</span> &#125;);</span><br><span class="line">            arr1.Insert(<span class="number">2</span>, <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">            ErgodicArr(arr1);</span><br><span class="line">            <span class="comment">//使用Count属性获取元素个数</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;arr1的实际长度为：&quot;</span> + arr1.Count);</span><br><span class="line">            <span class="comment">//使用Capacity属性获取集合的容量</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;arr1的容量为：&quot;</span> + arr1.Capacity);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ErgodicArr</span>(<span class="params">ArrayList arr</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Count; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(arr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//666</span></span><br><span class="line">        <span class="comment">//张三</span></span><br><span class="line">        <span class="comment">//a</span></span><br><span class="line">        <span class="comment">//李四</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//arr1的实际长度为：4</span></span><br><span class="line">        <span class="comment">//arr1的容量为：4</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>需要注意的是，集合的长度就是元素的个数，集合的容量是随集合长度变化而变化的。如果集合的长度在1~4之间，容量的值就是4。如果集合的实际长度在5~8之间，那容量的值就变为8。以此类推，ArrayList的容量值总是以<code>4</code>为基本单位递增或递减。</li>
<li>使用Insert()方法向集合中添加元素时，允许插入元素的索引值比集合的最大索引值大1，如果元素的索引值超过集合的最大索引值且范围在1以上(<code>arr.Insert(arr.Count+1,&quot;异常&quot;)</code>)，编译时就会报异常。</li>
</ul>
</li>
<li><p><strong>删除元素</strong><br>调用ArrayList的<code>Remove()</code>方法或<code>RemoveAt()</code>方法或<code>Clear()</code>方法删除元素</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            ArrayList arr1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">            <span class="comment">//将新建的集合对象添加到arr1集合的末尾</span></span><br><span class="line">            arr1.AddRange(<span class="keyword">new</span> ArrayList() &#123; <span class="string">&quot;张三&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;王五&quot;</span>&#125;);</span><br><span class="line">            ErgodicArr(arr1);<span class="comment">//1. 添加元素中有定义</span></span><br><span class="line">            arr1.Remove(<span class="string">&quot;张三&quot;</span>); <span class="comment">//从集合中移除指定元素的第一个匹配项</span></span><br><span class="line">            ErgodicArr(arr1);</span><br><span class="line">            arr1.RemoveAt(<span class="number">0</span>);   <span class="comment">//从集合中移除指定索引位置的元素</span></span><br><span class="line">            ErgodicArr(arr1);</span><br><span class="line">            arr1.Clear();   <span class="comment">//删除集合中的所有元素</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;arr1的实际长度为：&quot;</span> + arr1.Count);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;arr1的容量为：&quot;</span> + arr1.Capacity);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//张三</span></span><br><span class="line"><span class="comment">//李四</span></span><br><span class="line"><span class="comment">//王五</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//李四</span></span><br><span class="line"><span class="comment">//王五</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//王五</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//arr1的实际长度为：0</span></span><br><span class="line"><span class="comment">//arr1的容量为：4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>修改元素</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">             ArrayList arr1 = <span class="keyword">new</span> ArrayList(<span class="keyword">new</span> ArrayList() &#123; <span class="string">&quot;张三&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;王五&quot;</span>&#125;);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;修改前的元素：&quot;</span>);</span><br><span class="line">            ErgodicArr(arr1);<span class="comment">//1. 添加元素中有定义</span></span><br><span class="line">            arr1[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">            arr1[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">            arr1[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;修改后的元素：&quot;</span>);</span><br><span class="line">            ErgodicArr(arr1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//修改前的元素：</span></span><br><span class="line"><span class="comment">//张三</span></span><br><span class="line"><span class="comment">//李四</span></span><br><span class="line"><span class="comment">//王五</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//修改后的元素：</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="comment">//3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>查询元素</strong><br>调用<code>IndexOf()</code>方法或<code>LastIndexOf()</code>方法查询指定元素的索引，调用<code>Contains()</code>方法判断集合中是否存在某个元素</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            ArrayList arr1 = <span class="keyword">new</span> ArrayList(<span class="keyword">new</span> ArrayList() &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span> &#125;);</span><br><span class="line">            <span class="comment">//查找指定元素，并返回该元素在集合中第一个匹配项的索引</span></span><br><span class="line">            <span class="built_in">int</span> index = arr1.IndexOf(<span class="number">1</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;集合中第一个1的索引值为：&quot;</span> + index);</span><br><span class="line">            <span class="comment">//查找指定元素，并返回该元素在集合中的最后一个匹配项的索引</span></span><br><span class="line">            <span class="built_in">int</span> lastIndex = arr1.LastIndexOf(<span class="number">1</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;集合中最后一个1的索引值为：&quot;</span> + lastIndex);</span><br><span class="line">            <span class="comment">//判断元素是否在集合中</span></span><br><span class="line">            <span class="built_in">bool</span> result = arr1.Contains(<span class="number">2</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;集合中是否包含元素2：&quot;</span> + result);</span><br><span class="line">            <span class="comment">//对集合中的元素按照默认顺序进行排序</span></span><br><span class="line">            arr1.Sort();</span><br><span class="line">            ErgodicArr(arr1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ErgodicArr</span>(<span class="params">ArrayList arr</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Count; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.Write(arr[i]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//集合中第一个1的索引值为：0</span></span><br><span class="line">        <span class="comment">//集合中最后一个1的索引值为：3</span></span><br><span class="line">        <span class="comment">//集合中是否包含元素2：True</span></span><br><span class="line">        <span class="comment">//1 1 2 3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="通过foreach循环遍历ArrayList集合"><a href="#通过foreach循环遍历ArrayList集合" class="headerlink" title="通过foreach循环遍历ArrayList集合"></a>通过foreach循环遍历ArrayList集合</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> collection)&#123;</span><br><span class="line">    执行语句;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>item变量用于存储每次遍历的元素，默认情况下item为var类型，in为关键字，collection表示被遍历的集合。</p>
<div class="note warning modern"><p>foreach循环只能对遍历的元素进行读操作，而且只能单向遍历，也就是一个元素在整个foreach循环中只能被访问一次，因此在遍历集合中的元素时可以优先选择foreach循环，如果需要修改或多次访问集合中某个元素时，考虑使用for循环。</p>
</div>
<h4 id="Hashtable集合"><a href="#Hashtable集合" class="headerlink" title="Hashtable集合"></a>Hashtable集合</h4><p>在ArrayList集合中查询某个元素时，是从索引为0的元素逐一查询的，这就好像是在一本没有目录的字典中查询某个汉字一样，查询效率非常低。</p>
<p>C#中提供了一个Hashtable集合，该集合又被称为键值对集合，所谓键就类似于字典中的目录，值就类似于字典中的具体汉字信息，键与值是一一对应的关系，通过唯一的键能找到对应的值，因此Hashtable集合的这种特性大大提高了查询元素的效率。</p>
<p>Hashtable集合中的常用方法如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>void Add(object key,object value)</td>
<td>将带有指定键和值的元素添加到Hashtable集合中</td>
</tr>
<tr>
<td>void Clear()</td>
<td>从Hashtable集合中移除所有元素</td>
</tr>
<tr>
<td>bool Contains(object key)</td>
<td>判断Hashtable集合中是否包含指定的键</td>
</tr>
<tr>
<td>bool ContainsValue(object value)</td>
<td>判断Hashtable集合是否包含指定的值</td>
</tr>
<tr>
<td>void Remove(object key)</td>
<td>从Hashtable集合中移除带有指定键的元素</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            Hashtable ht = <span class="keyword">new</span> Hashtable();<span class="comment">//创建Hashtable集合</span></span><br><span class="line">            ht.Add(<span class="number">1</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">            ht.Add(<span class="string">&#x27;A&#x27;</span>, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">            ht.Add(<span class="string">&quot;BB&quot;</span>, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">            ErgodicHash(ht);</span><br><span class="line">            ht.Remove(<span class="string">&quot;BB&quot;</span>);<span class="comment">//移除键为&quot;BB&quot;的元素</span></span><br><span class="line">            ErgodicHash(ht);</span><br><span class="line">            ht.Clear(); <span class="comment">//移除ht中的所有元素</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;集合ht中元素的个数：&quot;</span> + ht.Count);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ErgodicHash</span>(<span class="params">Hashtable ht</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="built_in">object</span> key <span class="keyword">in</span> ht.Keys)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(key + <span class="string">&quot;:&quot;</span> + ht[key]);</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note warning modern"><p>Hashtable集合中的键和值的默认类型都是object，因此可以向该集合的键和值中添加任意类型的对象。</p>
</div>
<h5 id="Hashtable集合的多种遍历方式"><a href="#Hashtable集合的多种遍历方式" class="headerlink" title="Hashtable集合的多种遍历方式"></a>Hashtable集合的多种遍历方式</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            Hashtable ht = <span class="keyword">new</span> Hashtable();<span class="comment">//创建Hashtable集合</span></span><br><span class="line">            ht.Add(<span class="number">1</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">            ht.Add(<span class="string">&#x27;A&#x27;</span>, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">            ht.Add(<span class="string">&quot;BB&quot;</span>, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">            <span class="comment">//使用foreach语句来循环遍历集合中的值</span></span><br><span class="line">            <span class="keyword">foreach</span> (<span class="built_in">object</span> <span class="keyword">value</span> <span class="keyword">in</span> ht.Values)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;当前遍历到的值为：&quot;</span> + <span class="keyword">value</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//使用foreach语句来循环遍历集合对象本身</span></span><br><span class="line">            <span class="keyword">foreach</span> (DictionaryEntry dicEn <span class="keyword">in</span> ht)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(dicEn.Key + <span class="string">&quot;:&quot;</span> + dicEn.Value);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//当前遍历到的值为：李四</span></span><br><span class="line">            <span class="comment">//当前遍历到的值为：王五</span></span><br><span class="line">            <span class="comment">//当前遍历到的值为：张三</span></span><br><span class="line">            <span class="comment">//A:李四</span></span><br><span class="line">            <span class="comment">//BB:王五</span></span><br><span class="line">            <span class="comment">//1:张三</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note warning modern"><p>在遍历集合对象时，集合对象的类型是DictionaryEntry，通过该类型的对象dicEn可以获取集合中的键与值。</p>
</div>
<h3 id="泛型集合"><a href="#泛型集合" class="headerlink" title="泛型集合"></a>泛型集合</h3><h4 id="List-lt-T-gt-泛型集合"><a href="#List-lt-T-gt-泛型集合" class="headerlink" title="List&lt;T&gt;泛型集合"></a>List&lt;T&gt;泛型集合</h4><p>C#提供了一个<code>List&lt;T&gt;</code>泛型集合，该集合不仅具备<code>ArrayList</code>集合的功能，而且还可以保证<code>List&lt;T&gt;</code>集合只能添加同类型元素，不会出现类型转换的问题。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//创建一个List&lt;string&gt;泛型集合</span></span><br><span class="line">            List&lt;<span class="built_in">string</span>&gt; list = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">            <span class="comment">//向List&lt;string&gt;集合中添加3个string类型元素</span></span><br><span class="line">            list.Add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">            list.Add(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">            list.Add(<span class="string">&quot;Orange&quot;</span>);</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="built_in">string</span> item <span class="keyword">in</span> list)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.Write(item + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Dictionary-lt-TKey-TValue-gt-泛型集合"><a href="#Dictionary-lt-TKey-TValue-gt-泛型集合" class="headerlink" title="Dictionary&lt;TKey,TValue&gt;泛型集合"></a>Dictionary&lt;TKey,TValue&gt;泛型集合</h4><p><code>Hashtable</code>集合中的键与值在默认情况下都是object类型，这使得在取值时不可避免的遇到类型转换的问题。为了解决这个问题，C#中提供了泛型集合<code>Dictionary&lt;Tkey,TValue&gt;</code>，该集合中的键与值都只能是一种类型。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;();</span><br><span class="line">            dic.Add(<span class="number">1</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">            dic.Add(<span class="number">2</span>, <span class="string">&quot;李四&quot;</span>);</span><br><span class="line">            dic.Add(<span class="number">3</span>, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">            <span class="comment">//通过遍历集合中的键获取对应的值</span></span><br><span class="line">            <span class="keyword">foreach</span> (<span class="built_in">int</span> key <span class="keyword">in</span> dic.Keys)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(key + <span class="string">&quot;:&quot;</span> + dic[key]);</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine();</span><br><span class="line">            <span class="comment">//从集合中移除指定的键值</span></span><br><span class="line">            dic.Remove(<span class="number">2</span>);</span><br><span class="line">            <span class="comment">//通过遍历键值对的方式来获取键与值</span></span><br><span class="line">            <span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">int</span>,<span class="built_in">string</span>&gt; kv <span class="keyword">in</span> dic)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(kv.Key + <span class="string">&quot;:&quot;</span> + kv.Value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note warning modern"><p>集合<code>Dictionary&lt;TKey,TValue&gt;</code>中的键值对类型为<code>KeyValuePair&lt;int,string&gt;</code>，通过该类型的对象就可以获取集合中的键和值</p>
</div>
<h4 id="自定义泛型"><a href="#自定义泛型" class="headerlink" title="自定义泛型"></a>自定义泛型</h4><p>在程序开发中，如果泛型集合<code>List&lt;T&gt;</code>与<code>Dictionary&lt;TKey,TValue&gt;</code>都不能满足实际需求，此时还可以自定义泛型。自定义泛型可以根据不同需求，灵活的设计集合中的属性和方法。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] <span class="keyword">class</span>类名&lt;类型占位符&gt;&#123;</span><br><span class="line">      程序代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过自定义泛型格式可以看出，自定义泛型与普通类的语法格式相似，唯一的区别是多了一个类型占位符，类型占位符通常用T来表示。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//创建自定义泛型对象myClass</span></span><br><span class="line">            MyClass&lt;<span class="built_in">string</span>&gt; myClass = <span class="keyword">new</span> MyClass&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">            myClass.Add(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;自定义泛型中的元素：&quot;</span> + myClass.Get());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//自定义泛型MyClass&lt;T&gt;</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title">MyClass</span>&lt;<span class="title">T</span>&gt; &#123;</span><br><span class="line">        T myElement; <span class="comment">//定义一个T类型字段</span></span><br><span class="line">        <span class="comment">//创建Add()方法，指定参数类型为T</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T elem</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.myElement = elem;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//创建Get()方法，指定返回类型为T</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">Get</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.myElement;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="WinForm窗体"><a href="#WinForm窗体" class="headerlink" title="WinForm窗体"></a>WinForm窗体</h2><h3 id="创建WinFrom窗体"><a href="#创建WinFrom窗体" class="headerlink" title="创建WinFrom窗体"></a>创建WinFrom窗体</h3><ol>
<li><p>创建项目<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-26-21-41-40.png" alt="创建WinFrom窗体"></p>
</li>
<li><p>向窗体中添加控件<br>选中导航栏中的【视图】→【工具箱】<strong>快捷键</strong><code>Ctrl+Alt+X</code><br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-26-22-30-39.png" alt="向窗体中添加控件"></p>
</li>
<li><p>运行结果<br>单击工具栏中的<strong>启动按钮</strong>或者按快捷键<code>F5</code>启动程序，显示窗体的运行结果<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-26-22-35-50.png" alt="运行结果"><br>之所以出现这样的结果，是因为当程序运行时，系统首先查找<code>Program.cs</code>文件中的<code>Application.Run()</code>方法，该方法就<strong>是窗体程序的入口</strong>，该方法中<strong>传递的参数是运行程序后首先出现的窗体对象</strong>。</p>
</li>
</ol>
<h3 id="Windows窗体应用程序结构"><a href="#Windows窗体应用程序结构" class="headerlink" title="Windows窗体应用程序结构"></a>Windows窗体应用程序结构</h3><blockquote class="pullquote right"><p><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-26-22-38-18.png" alt="Windows窗体应用程序结构"></p>
</blockquote>
<ul>
<li><code>Properties</code>:用于设置项目的属性</li>
<li><code>引用</code>:用于设置对其他项目命名空间的引用</li>
<li><code>App.config</code>:用于设置数据库的配置信息</li>
<li><code>Form1.cs</code>:用于设置窗体的界面以及编写逻辑代码</li>
<li><code>Form1.Designer.cs</code>:用于在窗体类中自动生成控件的初始化代码</li>
<li><code>Form1.resx</code>:只有在创建控件对象或为控件注册事件时才会出现，用于存放窗体中使用的资源信息</li>
<li><code>Program.cs</code>:用来设置项目运行时的主窗体</li>
</ul>
<p>在WinFrom窗体应用程序中，最常用的文件为<code>Form1.cs</code>、<code>Form1.Designer.cs</code>、<code>Program.cs</code></p>
<div class="tabs" id="winform"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="winform-1">Form1.cs</button><button type="button" class="tab " data-href="winform-2">Form1.Designer.cs</button><button type="button" class="tab " data-href="winform-3">Program.cs</button></ul><div class="tab-contents"><div class="tab-item-content active" id="winform-1"><ul>
<li><code>Form1.cs</code>文件本身由<code>Form.cs[设计]</code>与<code>Form1.cs逻辑代码</code>两个部分构成</li>
<li><code>Form.cs[设计]</code>用于设计窗体</li>
<li><code>Form1.cs逻辑代码</code>用于存放交互功能的逻辑代码</li>
</ul>
<div class="note info modern"><p>切换：<br>右键单击<code>Form1.cs</code>文件 →【查看代码】<br>右击单击<code>Form1.cs</code>文件 →【查看设计器】</p>
</div></div><div class="tab-item-content" id="winform-2"><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">WindowsFormsApp1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Form1</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 必需的设计器变量。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> System.ComponentModel.IContainer components = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 清理所有正在使用的资源。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;disposing&quot;&gt;</span>如果应释放托管资源，为 true；否则为 false。<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Dispose</span>(<span class="params"><span class="built_in">bool</span> disposing</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (disposing &amp;&amp; (components != <span class="literal">null</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                components.Dispose();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">base</span>.Dispose(disposing);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> Windows 窗体设计器生成的代码</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.Label label1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在<code>Form1.Designer.cs</code>的末尾，自动生成了一行代码，表示<code>Form1</code>窗体中添加了一个名称为<code>label1</code>的文本</p></div><div class="tab-item-content" id="winform-3"><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WindowsFormsApp1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 应用程序的主入口点。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        [<span class="meta">STAThread</span>]</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Application.EnableVisualStyles();</span><br><span class="line">            Application.SetCompatibleTextRenderingDefault(<span class="literal">false</span>);</span><br><span class="line">            Application.Run(<span class="keyword">new</span> Form1());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
<h3 id="WinForm窗体属性"><a href="#WinForm窗体属性" class="headerlink" title="WinForm窗体属性"></a>WinForm窗体属性</h3><p>窗体常用属性：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
<th>可选参数</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Size</code></td>
<td>窗体的宽高</td>
</tr>
<tr>
<td><code>MinimumSize</code></td>
<td>窗体最小宽高</td>
</tr>
<tr>
<td><code>MaximumSize</code></td>
<td>窗体最大宽高</td>
</tr>
<tr>
<td><code>Text</code></td>
<td>窗体标题栏上显示的内容</td>
<td><code>string</code></td>
</tr>
<tr>
<td><code>StartPosition</code></td>
<td>窗体第一次出现的位置</td>
<td><code>CenterParent</code>:设置窗体在父窗体居中显示<br><code>CenterScreen</code>:设置窗体在当前显示窗口居中<br><code>Manual</code>:窗体位置由Location属性指定<br><code>WindowsDefaultBounds</code>:设置窗体为Windows系统默认位置<br><code>WindowsDefaultLocation</code>:和前者差不多</td>
</tr>
<tr>
<td><code>FormBoarderStyle</code></td>
<td>窗体的边框和标题栏的外观和行为</td>
</tr>
<tr>
<td><code>Icon</code></td>
<td>窗体的系统菜单框中显示的图标</td>
<td>图标资源格式必须为<code>.ico</code></td>
</tr>
<tr>
<td><code>IsMdiContainer</code></td>
<td>窗体是否为MDI容器</td>
</tr>
<tr>
<td><code>BackgroundImage</code></td>
<td>窗体背景图像</td>
<td>【本地资源】 or 【项目文件资源】<br> 项目资源文件导入的图片保存到项目资源文件<code>Resources</code>文件夹中<br>本地资源方式设置的背景图片保存在<code>Form1.resx</code> 文件中</td>
</tr>
<tr>
<td><code>BackgroundImageLayout</code></td>
<td>窗体的背景布局</td>
</tr>
<tr>
<td><code>MaximizeBox</code></td>
<td>是否显示窗体最大化按钮，默认<code>True</code></td>
<td><code>True</code> or <code>False</code></td>
</tr>
<tr>
<td><code>MinimizeBox</code></td>
<td>是否显示窗体最小化按钮，默认<code>True</code></td>
<td><code>True</code> or <code>False</code></td>
</tr>
<tr>
<td><code>Cursor</code></td>
<td>鼠标在窗体上的形状</td>
</tr>
</tbody>
</table>
</div>
<h3 id="WinFrom-窗体的事件"><a href="#WinFrom-窗体的事件" class="headerlink" title="WinFrom 窗体的事件"></a>WinFrom 窗体的事件</h3><p>Windows 是事件驱动的操作系统，对From(窗体)类的任何交互都是基于事件来实现的。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>事件</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Load</code></td>
<td>窗体加载时被触发</td>
</tr>
<tr>
<td><code>MouseClick</code></td>
<td>鼠标单击事件</td>
</tr>
<tr>
<td><code>MouseDoubleClick</code></td>
<td>鼠标双击事件</td>
</tr>
<tr>
<td><code>MouseMove</code></td>
<td>窗体移动鼠标事件</td>
</tr>
<tr>
<td><code>KeyDown</code></td>
<td>键盘按下事件</td>
</tr>
<tr>
<td><code>KeyUp</code></td>
<td>键盘释放时触发事件</td>
</tr>
<tr>
<td><code>FormClosing</code></td>
<td>窗体关闭时事件</td>
</tr>
</tbody>
</table>
</div>
<div class="note info modern"><p>在【属性】窗口单击⚡图标，列出窗体所有事件</p>
</div>
<h4 id="设置FormClosing事件"><a href="#设置FormClosing事件" class="headerlink" title="设置FormClosing事件"></a>设置FormClosing事件</h4><p>设置名称<code>Form1Closing</code><br>双击进入事件方法中</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 窗体关闭时触发</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sender&quot;&gt;</span>表示事件源，这里指发起该事件的对象关闭按钮<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;e&quot;&gt;</span>事件所携带的信息<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form1Closing</span>(<span class="params"><span class="built_in">object</span> sender, FormClosingEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//MessageBox.Show()方法显示具有文本、标题和按钮的消息框</span></span><br><span class="line">    <span class="keyword">if</span> (MessageBox.Show(<span class="string">&quot;是否关闭窗体？&quot;</span>,<span class="string">&quot;询问&quot;</span>,MessageBoxButtons.YesNo)==DialogResult.Yes)</span><br><span class="line">    &#123;</span><br><span class="line">        e.Cancel = <span class="literal">false</span>;   <span class="comment">//关闭窗体</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        e.Cancel = <span class="literal">true</span>;    <span class="comment">//取消关闭</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="MDI窗体"><a href="#MDI窗体" class="headerlink" title="MDI窗体"></a>MDI窗体</h3><h4 id="MDI窗体的概念"><a href="#MDI窗体的概念" class="headerlink" title="MDI窗体的概念"></a>MDI窗体的概念</h4><p><strong>单文档窗体</strong>(Single Document InterFace,SDI)，SDI窗体只能在窗体中显示一个文档。<br>如果需要在一个窗体中打开多个文档，需要使用<strong>多文档窗体</strong>(Multiple-Document Interface,MDI)。<br>MDI窗体用于在一个窗体中同时显示多个文档，每个文档显示在各自的窗体中。</p>
<h4 id="设置MDI窗体"><a href="#设置MDI窗体" class="headerlink" title="设置MDI窗体"></a>设置MDI窗体</h4><ol>
<li><p>设置父窗体<br>将<code>IsMdiContainer</code>属性值设置为<code>True</code></p>
</li>
<li><p>设置子窗体<br>通过设置窗体的<code>MdiParent</code>属性将该窗体设置为子窗体</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form2_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">       &#123;</span><br><span class="line">           Form1 form1 = <span class="keyword">new</span> Form1();  <span class="comment">//创建Form1窗体对象</span></span><br><span class="line">           form1.MdiParent = <span class="keyword">this</span>;     <span class="comment">//将Form1窗体设置为子窗体</span></span><br><span class="line">           form1.Show();               <span class="comment">//调用Show()方法显示Form1窗体</span></span><br><span class="line">           Form3 form3 = <span class="keyword">new</span> Form3();</span><br><span class="line">           form3.MdiParent = <span class="keyword">this</span>;</span><br><span class="line">           form3.Show();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="MDI子窗体的排列"><a href="#MDI子窗体的排列" class="headerlink" title="MDI子窗体的排列"></a>MDI子窗体的排列</h4><p>使用Form 类的<code>LayoutMdi(MdiLayout value)</code>方法排列多文档界面父窗体中的子窗体。<br>MdiLayout枚举用于指定MDI父窗体中子窗体的布局</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>枚举成员</th>
<th>描述</th>
<th>Show()</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Cascade</code></td>
<td>所有MDI子窗体均层叠在MDI父窗体工作区内</td>
<td><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-27-10-50-58.png" alt="Cascade层叠"></td>
</tr>
<tr>
<td><code>TileHorizontal</code></td>
<td>所有MDI子窗体均水平平铺在MDI父窗体工作区内</td>
<td><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-27-10-54-28.png" alt="TileHorizontal水平平铺"></td>
</tr>
<tr>
<td><code>TileVertical</code></td>
<td>所有MDI子窗体均垂直平铺在MDI父窗体工作区内</td>
<td><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-27-10-57-08.png" alt="TileVertical垂直平铺"></td>
</tr>
</tbody>
</table>
</div>
<mark class="hl-label pink">1.创建程序</mark> 
<p>创建项目名为<code>MDISort</code>的<strong>Windows窗体应用程序</strong>。<br><mark class="hl-label pink">2.设置父窗体</mark> </p>
<ul>
<li><code>Text</code>:Form_MDIParent</li>
<li><code>Name</code>:Form_MDIParent</li>
<li><code>IsMdiContainer</code>:<code>True</code></li>
</ul>
<mark class="hl-label pink">3.在父窗体中添加菜单栏</mark> 
<ul>
<li>添加【菜单和工具栏】→【MenuStrip】控件</li>
<li>设置4个横向菜单项的文本为“显示子窗体”“水平平铺”“垂直平铺”“层叠平铺”</li>
<li>Name属性分别为<code>ShowSubform</code> <code>HorizontalTile</code> <code>VerticalTile</code> <code>StackedTiling</code></li>
</ul>
<mark class="hl-label pink">4.在项目中添加子窗体</mark> 
<p>添加3个子窗体，命名为 <code>Form_ChildOne.cs</code> <code>Form_ChildTwo.cs</code> <code>Form_ChildThree.cs</code></p>
<mark class="hl-label pink">5.实现【显示子窗体】菜单项功能</mark> 
<p>设置<code>Click</code>单击事件<strong>ShowSubform_Click()</strong></p>
<pre><code class="lang-c#">private void ShowSubform_click(object sender, EventArgs e)
&#123;
    //显示Form_ChildOne窗体
    Form_ChildOne form_ChildOne = new Form_ChildOne();
    form_ChildOne.MdiParent = this;
    form_ChildOne.Show();
    //显示Form_ChildTwo窗体
    Form_ChildTwo form_ChildTwo =new Form_ChildTwo();
    form_ChildTwo.MdiParent = this;
    form_ChildTwo.Show();
    //显示Form_ChildThree窗体
    Form_ChildThree form_ChildThree = new Form_ChildThree();
    form_ChildThree.MdiParent = this;
    form_ChildThree.Show();
&#125;
</code></pre>
<mark class="hl-label pink">6.实现排列子窗体功能</mark> 
<ul>
<li>设置【水平平铺】<code>Click</code>单击事件<strong>HorizontalTile_Click()</strong></li>
<li>设置【垂直平铺】<code>Click</code>单击事件<strong>VerticalTile_Click()</strong></li>
<li>设置【层叠平铺】<code>Click</code>单击事件<strong>StackedTiling_Click()</strong></li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">HorizontalTile_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//调用LayoutMdi()方法，实现在MDI父窗体排列子窗体的功能</span></span><br><span class="line">    LayoutMdi(MdiLayout.TileHorizontal);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">VerticalTile_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    LayoutMdi(MdiLayout.TileVertical);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">StackedTiling_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    LayoutMdi(MdiLayout.Cascade);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="WinForm控件"><a href="#WinForm控件" class="headerlink" title="WinForm控件"></a>WinForm控件</h2><h3 id="WinForm简单控件"><a href="#WinForm简单控件" class="headerlink" title="WinForm简单控件"></a>WinForm简单控件</h3><h4 id="控件的常用属性与事件"><a href="#控件的常用属性与事件" class="headerlink" title="控件的常用属性与事件"></a>控件的常用属性与事件</h4><div class="note info modern"><p>在C#中，所有控件都直接或间接的继承自<code>Control</code>类</p>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Name</code></td>
<td>控件对象名称</td>
</tr>
<tr>
<td><code>Text</code></td>
<td>控件关联文本</td>
</tr>
<tr>
<td><code>Visible</code></td>
<td>控件可见性</td>
</tr>
<tr>
<td><code>BackColor</code></td>
<td>控件背景颜色</td>
</tr>
<tr>
<td><code>Cursor</code></td>
<td>移至控件指针样式</td>
</tr>
<tr>
<td><code>Dock</code></td>
<td>定义要绑定到容器的控件边框</td>
</tr>
<tr>
<td><code>Enabled</code></td>
<td>是否启用控件</td>
</tr>
<tr>
<td><code>Font</code></td>
<td>控件中文本的字体</td>
</tr>
<tr>
<td><code>ForeColor</code></td>
<td>控件的前景色，用于显示文本</td>
</tr>
<tr>
<td><code>Size</code></td>
<td>控件的大小（像素）</td>
</tr>
<tr>
<td><code>Tag</code></td>
<td>与对象关联的用户定义数据</td>
</tr>
<tr>
<td><code>TextAlign</code></td>
<td>控件文本对齐方式</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>事件</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Click</code></td>
<td>控件单击事件</td>
</tr>
<tr>
<td><code>MouseEnter</code></td>
<td>鼠标进入控件可见部分发生</td>
</tr>
<tr>
<td><code>MouseLeave</code></td>
<td>鼠标离开控件可见部分发生</td>
</tr>
<tr>
<td><code>BackColorChanged</code></td>
<td>在控件的<code>BackColor</code>属性值更改时发生</td>
</tr>
<tr>
<td><code>FontChanged</code></td>
<td>在控件的<code>Font</code>属性值更改时发生</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Button控件、TextBox控件、Label控件"><a href="#Button控件、TextBox控件、Label控件" class="headerlink" title="Button控件、TextBox控件、Label控件"></a>Button控件、TextBox控件、Label控件</h4><p>登录窗体</p>
<details class="toggle"><summary class="toggle-button" style>登录窗体</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：Login</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.认识工具箱窗口</strong><br>【视图】→【工具箱】(<code>Ctrl+Alt+X</code>)<br>【工具箱】对WinForm的所有控件进行了分类<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-27-11-27-06.png" alt="【工具箱】对WinForm的所有控件进行了分类"></p>
<p><strong>3.设计登录窗体</strong><br>自定义布局</p>
<p><strong>4.实现登录功能</strong></p>
<p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoginClick</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//判断输入的用户名和密码是否为空</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(textName.Text) &amp;&amp; !<span class="built_in">string</span>.IsNullOrEmpty(textPassword.Text))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//用户名为test，密码为123，则登录成功</span></span><br><span class="line">        <span class="keyword">if</span> (textName.Text==<span class="string">&quot;test&quot;</span>&amp;&amp; textPassword.Text==<span class="string">&quot;123&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;登录成功!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;用户名或者密码错误!&quot;</span>);</span><br><span class="line">            textPassword.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;用户名或密码不能为空！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><code>IsNullOrEmpty()</code>方法判断文本框是否为空。</p>
<p><strong>5.运行程序，验证登录功能</strong><br><code>F5</code></p>
</div></details>
<h4 id="RichTextBox控件"><a href="#RichTextBox控件" class="headerlink" title="RichTextBox控件"></a>RichTextBox控件</h4><p><strong>RichTextBox控件</strong>允许用户输入和编辑文本，提供和比<strong>TextBox控件</strong>更高级的格式属性。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Multiline</code></td>
<td>控制文本是否可以跨行显示</td>
</tr>
<tr>
<td><code>ScrollBars</code></td>
<td>设置滚动条的显示样式，<code>Multiline</code>：<code>True</code>,才会显示滚动条样式</td>
</tr>
<tr>
<td><code>SelectionFont</code></td>
<td>获取或设置字体大小和样式</td>
</tr>
<tr>
<td><code>SelectionColor</code></td>
<td>获取或设置字体的颜色</td>
</tr>
<tr>
<td><code>SelectionBullet</code></td>
<td>将选定的段落设置为项目符号列表的格式</td>
</tr>
<tr>
<td><code>SelectionIndent</code></td>
<td>获取或设置以像素为单位的长度作为缩进量，对所选内容排版</td>
</tr>
</tbody>
</table>
</div>
<p><code>ScrollBars</code> 属性有7个属性值</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Both</code></td>
<td>只有当文本超过控件的宽度或长度时，才显示水平滚动条或垂直关东条，或两个滚动条都显示</td>
</tr>
<tr>
<td><code>None</code></td>
<td>从不显示任何类型的滚动条</td>
</tr>
<tr>
<td><code>Horizontal</code></td>
<td>当文本超过控件的宽度时，显示水平滚动条，必须将<code>WordWrap</code>属性（多行编辑控件是否自动换行）的值为false，才会出现这种情况</td>
</tr>
<tr>
<td><code>Vertical</code></td>
<td>只有文本超过控件高度时，才会显示垂直滚动条</td>
</tr>
<tr>
<td><code>ForcedHorizontal</code></td>
<td><code>WordWrap</code>:<code>false</code>,显示水平滚动条，文本未超过控件宽度时，滚动条显示为浅灰色</td>
</tr>
<tr>
<td><code>ForcedVertical</code></td>
<td>始终显示垂直滚动条，文本未超过控件宽度时，滚动条显示为浅灰色</td>
</tr>
<tr>
<td><code>ForcedBoth</code></td>
<td>始终显示垂直滚动条，<code>WordWrap</code>:<code>false</code>,显示水平滚动条，文本未超过控件宽度时，滚动条显示为浅灰色</td>
</tr>
</tbody>
</table>
</div>
<div class="note info modern"><p><strong>RichTextBox控件</strong>中不仅可以显示普通文本，还可以显示<strong>超链接</strong>，超链接的样式为下划线形式</p>
</div>
<details class="toggle"><summary class="toggle-button" style>RichTextBox控件用法</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：RichTextBox</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计项目的窗体</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>RichTextBox.cs</code></li>
<li><code>Text</code>:有格式文本框</li>
<li>添加<strong>RichTextBox控件</strong></li>
<li>控件<code>Multiline</code>:<code>True</code></li>
<li><code>ScrollBars</code>:<code>Both</code></li>
<li><code>WordWrap</code>(自动换行):<code>False</code></li>
</ul>
<p><strong>3.在RichTextBox控件添加超链接</strong><br>设置<strong>窗体</strong>的<code>Load</code>事件<code>RichTextBox_Load()</code></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RichTextBox_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Font font1 = <span class="keyword">new</span> Font(<span class="string">&quot;宋体&quot;</span>, <span class="number">8</span>, FontStyle.Bold);</span><br><span class="line">    richTextBox1.SelectionFont = font1;</span><br><span class="line">    richTextBox1.SelectionColor = Color.Red;</span><br><span class="line">    richTextBox1.AppendText(</span><br><span class="line">        <span class="string">&quot;百度：https://www.baidu.com \n&quot;</span> +</span><br><span class="line">        <span class="string">&quot;CSDN：https://www.csdn.net \n&quot;</span> +</span><br><span class="line">        <span class="string">&quot;网易：https://www.163.com \n&quot;</span>);</span><br><span class="line">    Font font2 = <span class="keyword">new</span> Font(<span class="string">&quot;楷体&quot;</span>, <span class="number">9</span>, FontStyle.Bold);</span><br><span class="line">    richTextBox1.SelectionFont = font2;</span><br><span class="line">    richTextBox1.SelectionColor = Color.Green;</span><br><span class="line">    richTextBox1.AppendText(</span><br><span class="line">        <span class="string">&quot;腾讯：https://www.qq.com \n&quot;</span> +</span><br><span class="line">        <span class="string">&quot;qq空间：https://www.qzone.com&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.开启超链接</strong><br>设置<strong>RichTextBox控件</strong>的<code>LinkClicked</code>（单击文本中的超链接时发生）事件<code>RichTextBox_LinkClicked()</code></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RichTextBox_LinkClicked</span>(<span class="params"><span class="built_in">object</span> sender, LinkClickedEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Process.Start(e.LinkText);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>5.运行程序，验证登录功能</strong><br><code>F5</code></p>
</div></details>
<h4 id="CheckBox控件、RadioButton控件"><a href="#CheckBox控件、RadioButton控件" class="headerlink" title="CheckBox控件、RadioButton控件"></a>CheckBox控件、RadioButton控件</h4><ul>
<li><strong>CheckBox（复选框）</strong>，可以被同时选中</li>
<li><strong>RadioButton（单选按钮）</strong>多个RadioButton控件位于同一组，只能有一个被选中</li>
<li>二者都只有选中或未选中两种状态</li>
</ul>
<details class="toggle"><summary class="toggle-button" style>注册窗体</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：Register</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计项目的窗体</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>RegisterForm.cs</code></li>
<li><code>Text</code>:注册</li>
<li>添加4个<strong>Label控件</strong>，设置<code>Text</code>：“账户””密码”“性别”“爱好”</li>
<li>添加2个<strong>TextBox控件</strong>用于数账户与密码</li>
<li>“性别”添加2个<strong>RadioButton控件</strong>，设置<code>Text</code>：“男♂”“女♀”</li>
<li>“爱好”添加3个<strong>CheckBox控件</strong>，设置<code>Text</code>：“篮球🏀”“游泳🏊‍”“看书📕”</li>
<li>添加2个<strong>Button控件</strong>，设置<code>Text</code>：“注册”“重置”</li>
</ul>
<p><strong>3.实现窗体的加载事件</strong><br>设置窗体的<code>Load</code>事件<code>RegisterForm_Load()</code></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RegisterForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//窗体在加载时设置radioButton_Man值为true</span></span><br><span class="line">    radioButton_Man.Checked = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.实现注册功能</strong><br>设置“注册”按钮的<code>Click</code>事件<code>Register_Click()</code></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Register_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//设置标记变量</span></span><br><span class="line">    <span class="built_in">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//遍历窗体中所有控件</span></span><br><span class="line">    <span class="keyword">foreach</span> (Control item <span class="keyword">in</span> <span class="keyword">this</span>.Controls)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//判断当前控件是否为空</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(item.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;请确定已填写全部信息！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;注册成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>5.实现重置用户信息的功能</strong><br>设置“重置”按钮的<code>Click</code>事件<code>Reset_Click()</code></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Reset_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//遍历窗体中所有控件</span></span><br><span class="line">    <span class="keyword">foreach</span> (Control item <span class="keyword">in</span> <span class="keyword">this</span>.Controls)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(item <span class="keyword">is</span> TextBox)</span><br><span class="line">        &#123;</span><br><span class="line">            item.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (item <span class="keyword">is</span> RadioButton)</span><br><span class="line">        &#123;</span><br><span class="line">            radioButton_Man.Checked = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (item <span class="keyword">is</span> CheckBox)</span><br><span class="line">        &#123;</span><br><span class="line">            CheckBox check = (CheckBox)item;</span><br><span class="line">            check.Checked = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>6.运行程序，验证注册和重置功能</strong><br><code>F5</code></p>
</div></details>
<h4 id="GroupBox容器"><a href="#GroupBox容器" class="headerlink" title="GroupBox容器"></a>GroupBox容器</h4><p><strong>GroupBox容器</strong>可以使窗体的布局整齐、美观，对窗体中的控件进行统一管理。</p>
<p>需求：由于窗体中所有的<strong>RadioButton控件</strong>只能选中一个，因此，无法完成两个题的解答，解决这个问题可以使用<strong>GroupBox容器</strong>实现。</p>
<details class="toggle"><summary class="toggle-button" style>GroupBox的使用</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：GroupBox</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计容器窗体</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>GroupBoxForm.cs</code></li>
<li><code>Text</code>:容器</li>
<li>添加2个<strong>GroupBox容器</strong>，设置<code>Text</code>：“题目一””题目二”</li>
<li>题目自定义</li>
</ul>
<p><strong>3.运行程序，验证容器的分组功能</strong><br><code>F5</code></p>
</div></details>
<h4 id="TreeView控件"><a href="#TreeView控件" class="headerlink" title="TreeView控件"></a>TreeView控件</h4><ul>
<li>在程序开发中，经常需要设计树状结构目录，例如Windows中资源管理器</li>
<li><strong>TreeView（树状图）控件</strong>就是以树状结构显示数据</li>
<li>在<strong>TreeView控件</strong>中每个节点都有一个与之相关的<code>TreeNode</code>对象</li>
<li>每个<code>TreeNode</code>对象都包含一个<code>Nodes</code>属性和一个<code>Level</code>属性</li>
<li><code>Nodes</code>表示TreeNode对象的集合</li>
<li><code>Level</code>用于获取TreeNode对象在控件中的深度（深度从0开始）</li>
</ul>
<details class="toggle"><summary class="toggle-button" style>TreeView的使用</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：TreeView</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计【树状图】窗体</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>TreeViewForm.cs</code></li>
<li><code>Text</code>:树状图</li>
<li>添加1个<strong>TreeView控件</strong>，单击该控件【属性】窗口中<code>Nodes</code>属性下的<strong>编辑节点</strong>—→【TreeNode编辑器】界面</li>
<li>添加节点与子节点</li>
</ul>
<p><strong>3.实现【树状图】船体的加载功能</strong><br>通过设置【树状图】窗体的<code>Load</code>事件<code>TreeViewForm_Load()</code></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">TreeViewForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//ExpandAll()用于展开所有树节点</span></span><br><span class="line">    treeView1.ExpandAll();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.实现TreeView控件更改选定内容的功能</strong><br>通过设置<strong>TreeView控件</strong>的<code>AfterSelect</code>(更改选定内容)事件<code>treeView1_AfterSelect()</code></p>
<p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">treeView1_AfterSelect</span>(<span class="params"><span class="built_in">object</span> sender, TreeViewEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (treeView1.SelectedNode.Level!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//获取当前TreeView控件中被选中的树节点的Text属性</span></span><br><span class="line">        <span class="built_in">string</span> text = treeView1.SelectedNode.Text;</span><br><span class="line">        <span class="built_in">string</span> parentText = treeView1.SelectedNode.Parent.Text;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;您现在单击到的是：&quot;</span> + parentText + text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>5.运行程序</strong><br><code>F5</code></p>
</div></details>
<h4 id="Timer控件"><a href="#Timer控件" class="headerlink" title="Timer控件"></a>Timer控件</h4><p><strong>Timer控件</strong>用于周期性执行某个操作。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Enabled</code></td>
<td>获取或设置计时器是否正运行</td>
</tr>
<tr>
<td><code>Interval</code></td>
<td>用于设置<strong>Timer控件</strong>执行一次的间隔时间（毫秒为单位）</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Start</code></td>
<td>启动计时器</td>
</tr>
<tr>
<td><code>Stop</code></td>
<td>停止计时器</td>
</tr>
</tbody>
</table>
</div>
<details class="toggle"><summary class="toggle-button" style>Timer控件的使用</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：Timer</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计窗体界面</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>TimerForm.cs</code></li>
<li><code>Text</code>:双色球选号器</li>
<li>添加9个<strong>Label控件</strong>，设置其中2个<code>Text</code>：“红球”“蓝球”；另外7个<code>Text</code>：“00”<code>padding</code>:<code>10,10,10,10</code></li>
<li>添加2个<strong>Button控件</strong>作为【开始】【停止】按钮</li>
<li>添加<strong>Timer控件</strong>，设置<code>Interval</code>:200</li>
</ul>
<p><strong>3.实现双色球选号的功能</strong><br>设置按钮<code>Click</code>事件</p>
<p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button_Start_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    timer1.Start();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">timer1_Tick</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Random random = <span class="keyword">new</span> Random();</span><br><span class="line">    label3.Text = random.Next(<span class="number">1</span>, <span class="number">33</span>).ToString(<span class="string">&quot;00&quot;</span>);</span><br><span class="line">    label4.Text = random.Next(<span class="number">1</span>, <span class="number">33</span>).ToString(<span class="string">&quot;00&quot;</span>);</span><br><span class="line">    label5.Text = random.Next(<span class="number">1</span>, <span class="number">33</span>).ToString(<span class="string">&quot;00&quot;</span>);</span><br><span class="line">    label6.Text = random.Next(<span class="number">1</span>, <span class="number">33</span>).ToString(<span class="string">&quot;00&quot;</span>);</span><br><span class="line">    label7.Text = random.Next(<span class="number">1</span>, <span class="number">33</span>).ToString(<span class="string">&quot;00&quot;</span>);</span><br><span class="line">    label8.Text = random.Next(<span class="number">1</span>, <span class="number">33</span>).ToString(<span class="string">&quot;00&quot;</span>);</span><br><span class="line">    label9.Text = random.Next(<span class="number">1</span>, <span class="number">33</span>).ToString(<span class="string">&quot;00&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button_Stop_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    timer1.Stop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>4.运行程序</strong><br><code>F5</code></p>
</div></details>
<h4 id="ProgressBar控件"><a href="#ProgressBar控件" class="headerlink" title="ProgressBar控件"></a>ProgressBar控件</h4><ul>
<li><strong>ProgressBar控件</strong>用于表示进度条</li>
<li><code>Value</code>表示进度条当前位置</li>
<li><code>Minimum</code>表示进度条范围下限</li>
<li><code>Maximum</code>表示进度条范围上限</li>
</ul>
<details class="toggle"><summary class="toggle-button" style>ProgressBar的使用</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：ProgressBar</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计窗体界面</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>ProgressBarForm.cs</code></li>
<li><code>Text</code>:英雄血条</li>
<li>添加1个<strong>Label控件</strong>，设置<code>Text</code>：“英雄血条”</li>
<li>添加<strong>ProgressBar控件</strong>设置<code>Name</code>:pbBlood,<code>Minimum</code>:0,<code>Maximum</code>:100</li>
<li>添加1个<strong>Label控件</strong>，设置<code>Text</code>：“血量”,<code>Name</code>:labelBlood</li>
<li>添加2个<strong>Button控件</strong>作为【加血】【减血】按钮</li>
</ul>
<p><strong>3.实现窗体加载功能</strong><br>设置窗体<code>Load</code>事件</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ProgressBarForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//窗体加载时获取当前的血量值</span></span><br><span class="line">    labelBlood.Text = pbBlood.Value.ToString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.实现加血功能</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//当血量小于最大值时，血量增加5</span></span><br><span class="line">    <span class="keyword">if</span> (pbBlood.Value &lt; pbBlood.Maximum)</span><br><span class="line">    &#123;</span><br><span class="line">        pbBlood.Value += <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;英雄血已经加满！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    labelBlood.Text = pbBlood.Value.ToString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>5.实现减血功能</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">private void button2_Click(object sender, EventArgs e)</span><br><span class="line">&#123;</span><br><span class="line">    if (pbBlood.Value &gt; pbBlood.Minimum)</span><br><span class="line">    &#123;</span><br><span class="line">        pbBlood.Value -= 5;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(&quot;英雄死亡！&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    labelBlood.Text = pbBlood.Value.ToString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>6.运行程序</strong><br><code>F5</code></p>
</div></details>
<h3 id="WinForm列表和数据控件"><a href="#WinForm列表和数据控件" class="headerlink" title="WinForm列表和数据控件"></a>WinForm列表和数据控件</h3><p>WinForm中的列表和数据控件包括<strong>ListBox列表框</strong>、<strong>ComboBox下拉列表框</strong>、<strong>ListView列表</strong>和<strong>DataGridView数据控件</strong>。</p>
<h4 id="ListBox控件"><a href="#ListBox控件" class="headerlink" title="ListBox控件"></a>ListBox控件</h4><p>ListBox控件又成为列表框，他用于显示选项列表，用户可以从中选择一项或多项，如果列表中选项的总数超过可以显示的总数，则控件会自动添加滚动条。</p>
<p><strong>1.在ListBox控件中添加和移除项。</strong><br>在ListBox列表框中选项的集合通过Items属性表示，该属性提供了一个<code>Add()</code>方法，用于向ListBox列表框中添加数据，另外，Items属性也提供了一个<code>RemoveAt()</code>方法，用于删除在ListBox列表框选中的数据。</p>
<figure class="highlight c#"><figcaption><span>向ListBox控件中添加选项</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">listBox1.Items.Add(“华为手机”);</span><br><span class="line">listBox1.Items.Add(“小米手机”);</span><br><span class="line">listBox1.Items.Add(“Oppo手机”);</span><br><span class="line">listBox1.Items.Add(“荣耀手机”);</span><br><span class="line">listBox1.Items.Add(“魅族手机”);</span><br><span class="line">listBox1.Items.Add(“Vivo手机”);</span><br></pre></td></tr></table></figure>
<p>删除<strong>ListBox控件</strong>中选中项<br><figure class="highlight c#"><figcaption><span>Button控件Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取到ListBox控件中被选中项的从零开始的索引</span></span><br><span class="line"><span class="built_in">int</span> index = listBox1.SelectedIndex;</span><br><span class="line">listBox1.Items.RemoveAt(index);</span><br></pre></td></tr></table></figure><br><strong>2.创建显示滚动条的列表控件</strong></p>
<ul>
<li>通过设置<strong>ListBox控件</strong>的<code>HorizontalScrollbar</code>属性和<code>ScrollAlwaysVisible</code>属性的值可以使列表框显示滚动条。</li>
<li>如果将<code>HorizontalScrollbar</code>属性设置为True，则显示水平滚动条，如果设置为False，则不显示水平滚动条。</li>
<li>如果将<code>ScrollAlwaysVisible</code>属性设置为true，则会显示垂直滚动条，如果设置为False，，则不显示垂直滚动条。</li>
</ul>
<figure class="highlight c#"><figcaption><span>使ListBox控件显示水平和垂直方向的滚动条</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">listBox1.HorizontalScrollbar = <span class="literal">true</span>;   <span class="comment">//使列表框水平滑动</span></span><br><span class="line">listBox1.ScrollAlwaysVisible = <span class="literal">true</span>;   <span class="comment">//使列表框垂直滑动</span></span><br></pre></td></tr></table></figure>
<p><strong>3.在ListBox列表框选择多项</strong><br>在ListBox列表框中选择多个选项的操作是通过设置<code>SelectionMode</code>属性的值实现的，<code>SelectionMode</code>属性值是<code>SelectionMode</code><strong>枚举</strong>成员之一，默认为<code>SelectionMode.One</code>。    </p>
<div class="table-container">
<table>
<thead>
<tr>
<th>枚举成员</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MultiExtended</code></td>
<td>可以选择多项，并且可使用【Shift】键、【Ctrl】键以选择内容</td>
</tr>
<tr>
<td><code>MultiSimple</code></td>
<td>可以选择多项</td>
</tr>
<tr>
<td><code>None</code></td>
<td>无法选择项</td>
</tr>
<tr>
<td><code>One</code></td>
<td>只能选择一项</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><figcaption><span>实现在控件中选择多个项，并且用户可使用SHIFT键、CTRL键和方向键选择内容的功能</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listBox1.SelectionMode = SelectionMode.MultiExtended;</span><br></pre></td></tr></table></figure>
<h4 id="ComboBox控件"><a href="#ComboBox控件" class="headerlink" title="ComboBox控件"></a>ComboBox控件</h4><p>与ListBox相比，ComboBox下拉列表框也是用来显示列表的，不同的是，它主要用于在下拉组合框中显示数据，并且<strong>该列表框中的选项只能被选中一个</strong>。</p>
<details class="toggle"><summary class="toggle-button" style>ComboBox控件</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：ComboBox</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计窗体界面</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>ComboBoxForm.cs</code></li>
<li><code>Text</code>:省市选择</li>
<li>添加一个Label控件，设置<code>Text</code>:请选择所在城市</li>
<li>添加2个ComboBox控件，设置<code>Name</code>:”cmbProvince””cmbCity”用于表示省市</li>
</ul>
<p><strong>3.实现窗体的加载事件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">private void ComboBoxForm_Load(object sender, EventArgs e)</span><br><span class="line">&#123;</span><br><span class="line">    //向cmbProvince中添加下拉列表项河北省、湖北省</span><br><span class="line">    cmbProvince.Items.AddRange(new string[] &#123; &quot;河北省&quot;, &quot;湖北省&quot; &#125;);</span><br><span class="line">    //设置当前选定项的索引</span><br><span class="line">    cmbProvince.SelectedIndex = 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.实现更改下拉框的选项功能</strong></p>
<figure class="highlight c#"><figcaption><span>【cmbProvince下拉列表框】SelectedIndexChanged事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">cmbProvince_SelectedIndexChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//清除下拉框列表中的选项</span></span><br><span class="line">    cmbCity.Items.Clear();</span><br><span class="line">    <span class="comment">//选中项的索引为0时展开河北省下的子节点</span></span><br><span class="line">    <span class="keyword">if</span> (cmbProvince.SelectedIndex==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//向cmbCity的Tag属性中添加所需数据</span></span><br><span class="line">        cmbCity.Tag = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        cmbCity.Items.AddRange(<span class="keyword">new</span> <span class="built_in">string</span>[] &#123; <span class="string">&quot;唐山市&quot;</span>, <span class="string">&quot;石家庄市&quot;</span>, <span class="string">&quot;邯郸市&quot;</span> &#125;);</span><br><span class="line">        cmbCity.SelectedIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//选中项的索引为1时展开湖北省下的子节点</span></span><br><span class="line">    <span class="keyword">if</span> (cmbProvince.SelectedIndex == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//向cmbCity的Tag属性中添加所需数据</span></span><br><span class="line">        cmbCity.Tag = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        cmbCity.Items.AddRange(<span class="keyword">new</span> <span class="built_in">string</span>[] &#123; <span class="string">&quot;武汉市&quot;</span>, <span class="string">&quot;荆州市&quot;</span>, <span class="string">&quot;十堰市&quot;</span> &#125;);</span><br><span class="line">        cmbCity.SelectedIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details>
<p><strong>5.运行程序</strong><br><code>F5</code></p>
<h4 id="ListView控件"><a href="#ListView控件" class="headerlink" title="ListView控件"></a>ListView控件</h4><p><strong>ListView控件</strong>又称为列表视图控件，他主要用于显示带图标的项列表，项列表中可以显示大图标、小图标和数据。</p>
<p><strong>1.ListView控件中添加项</strong><br>需要用到Items(控件中所有项的集合)属性的<code>Add()</code>方法，该方法主要用于将项添加到Items集合中。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> ListViewItem <span class="title">Add</span>(<span class="params">ListViewItem <span class="keyword">value</span></span>)</span></span><br></pre></td></tr></table></figure></p>
<p><strong>2.ListView控件中移除项</strong><br>ListView控件中移除项：移除ListView控件中项时可以使用Items属性的<code>RemoveAt()</code>方法或者<code>Clear()</code>方法，其中<code>RemoveAt()</code>方法用于移除指定的项，而<code>Clear ()</code>方法用于从集合中移除所有项。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">listView1.Items.RemoveAt(<span class="number">2</span>);</span><br><span class="line">listView1.Items.Clear();</span><br></pre></td></tr></table></figure></p>
<div class="note warning modern"><p>如果要移除ListView控件的所有项和列，需要使用<strong>ListView控件的Clear()方法</strong>，而<strong>Items属性的Clear()方法</strong>只能移除Items属性集合中的所有项。</p>
</div>
<p><strong>3.选择ListView控件中的项</strong><br>选择ListView控件中的项时可以使用<code>Selected</code>属性(bool)，该属性主要用于获取或设置一个值，该值指示是否选定此项。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调用Selected属性选中ListView的第2项</span></span><br><span class="line">listView1.Items[<span class="number">1</span>].Selected = <span class="literal">true</span>; </span><br></pre></td></tr></table></figure><br><strong>4.ListView的五种视图：LargeIcon视图、SmallIcon视图、List视图、Details视图和Tile视图</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>视图</th>
<th>描述</th>
<th>Show</th>
</tr>
</thead>
<tbody>
<tr>
<td>Details视图</td>
<td>可以显示任意的列，但只有第一列可以包含一个小图标和标签，其他的列项只能显示文字信息，有列表头。</td>
<td><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-30-18-02-26.png" alt="Details视图"></td>
</tr>
<tr>
<td>LargeIcon视图</td>
<td>每个项都显示一个最大化图标，在他的下面有一个标签。</td>
<td><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-30-18-03-09.png" alt="LargeIcon视图"></td>
</tr>
<tr>
<td>SmallIcon视图</td>
<td>每个项都显示一个小图标，在他的右边有一个标签。</td>
<td><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-30-18-03-56.png" alt="SmallIcon视图"></td>
</tr>
<tr>
<td>List视图</td>
<td>每个项都显示一个小图标，在他的右边有一个标签。各项排列在列中，没有列标头。</td>
<td><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-30-18-04-24.png" alt="List视图"></td>
</tr>
<tr>
<td>Tile</td>
<td>每个项都显示为一个完整大小的图标，在他的右边带项标签和子项信息。（只有Window XP和Windows Server 2003系列支持）</td>
</tr>
</tbody>
</table>
</div>
<p><strong>5.ListView控件分组</strong><br>通过设置ListView控件中各个项的<code>System.Windows.Forms.ListViewItem.Group</code>属性，可以向组分配项或在组移动项。</p>
<figure class="highlight c#"><figcaption><span>将ListView控件的第一项分配到第一个组中</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listView1.Items[<span class="number">0</span>].Group = listView1.Groups[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>
<details class="toggle"><summary class="toggle-button" style>ListView控件的使用</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：ListView</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计窗体界面</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>ListViewForm.cs</code></li>
<li><code>Text</code>:列表视图</li>
<li>添加1个ListView控件用于显示列表视图</li>
<li>添加1个ImageList控件，用于管理由其他控件（例如ListView、TreeView）使用的图像集合</li>
<li>添加5个Button控件，设置<code>Text</code>:”Details””SmallIcon””List””LargeIcon””分组”</li>
</ul>
<p><strong>3.在ImageList控件中添加图片</strong><br>单击该控件右上角按钮选择图像添加即可</p>
<p><strong>4.实现Details视图功能</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    listView1.Clear();</span><br><span class="line">    listView1.ShowGroups= <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//设置项在ListView控件中的显示方式为Details视图</span></span><br><span class="line">    <span class="keyword">this</span>.listView1.View = View.Details;</span><br><span class="line">    <span class="comment">//添加列标题</span></span><br><span class="line">    <span class="comment">//第一个参数表示列标题文本信息，第二个参数表示标题初始化宽度，第三个参数表示列对齐方式</span></span><br><span class="line">    <span class="keyword">this</span>.listView1.Columns.Add(<span class="string">&quot;列标题1&quot;</span>, <span class="number">100</span>, HorizontalAlignment.Center);</span><br><span class="line">    <span class="keyword">this</span>.listView1.Columns.Add(<span class="string">&quot;列标题2&quot;</span>, <span class="number">100</span>, HorizontalAlignment.Center);</span><br><span class="line">    <span class="keyword">this</span>.listView1.Columns.Add(<span class="string">&quot;列标题3&quot;</span>, <span class="number">100</span>, HorizontalAlignment.Center);</span><br><span class="line">    listView1.SmallImageList = imageList1;</span><br><span class="line">    <span class="comment">//添加数据项</span></span><br><span class="line">    <span class="comment">//数据更新，UI暂时挂起，直到EndUpdate绘制控件</span></span><br><span class="line">    <span class="comment">//可有效避免闪烁并大大提高加载速度</span></span><br><span class="line">    <span class="keyword">this</span>.listView1.BeginUpdate();</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ListViewItem item = <span class="keyword">new</span> ListViewItem();</span><br><span class="line">        item.Text = <span class="string">&quot;subitem&quot;</span> + i;</span><br><span class="line">        item.SubItems.Add(<span class="string">&quot;第2列，第&quot;</span> + i + <span class="string">&quot;行&quot;</span>);</span><br><span class="line">        item.SubItems.Add(<span class="string">&quot;第3列，第&quot;</span> + i + <span class="string">&quot;行&quot;</span>);</span><br><span class="line">        item.ImageIndex = i;</span><br><span class="line">        <span class="keyword">this</span>.listView1.Items.Add(item);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.listView1.EndUpdate();<span class="comment">//结束数据处理，UI界面一次性绘制</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>5.实现SmallIcon视图功能</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button2_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    listView1.Clear();</span><br><span class="line">    listView1.ShowGroups = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.listView1.View = View.SmallIcon;</span><br><span class="line">    <span class="keyword">this</span>.listView1.SmallImageList = imageList1;</span><br><span class="line">    <span class="keyword">this</span>.listView1.BeginUpdate();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ListViewItem item = <span class="keyword">new</span> ListViewItem();</span><br><span class="line">        item.ImageIndex = i;</span><br><span class="line">        item.Text = <span class="string">&quot;item&quot;</span> + i;</span><br><span class="line">        listView1.Items.Add(item);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.listView1.EndUpdate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>6.实现List视图功能</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button3_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    listView1.Clear();</span><br><span class="line">    listView1.ShowGroups = <span class="literal">false</span>;</span><br><span class="line">    listView1.View = View.List;</span><br><span class="line">    listView1.SmallImageList = imageList1;</span><br><span class="line">    listView1.BeginUpdate();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ListViewItem item = <span class="keyword">new</span> ListViewItem();</span><br><span class="line">        item.Text = <span class="string">&quot;item&quot;</span> + i;</span><br><span class="line">        item.ImageIndex = i;</span><br><span class="line">        listView1.Items.Add(item);</span><br><span class="line">    &#125;</span><br><span class="line">    listView1.EndUpdate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>7.实现LargeIcon功能</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button4_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    listView1.Items.Clear();</span><br><span class="line">    listView1.ShowGroups = <span class="literal">false</span>;</span><br><span class="line">    listView1.View = View.LargeIcon;</span><br><span class="line">    listView1.LargeImageList = imageList1;</span><br><span class="line">    listView1.BeginUpdate();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ListViewItem item = <span class="keyword">new</span> ListViewItem();</span><br><span class="line">        item.ImageIndex = i;</span><br><span class="line">        item.Text = <span class="string">&quot;item&quot;</span> + i;</span><br><span class="line">        listView1.Items.Add(item);</span><br><span class="line">    &#125;</span><br><span class="line">    listView1.EndUpdate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>8.编写分组功能</strong></p>
<p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button5_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    listView1.Clear();</span><br><span class="line">    listView1.Groups.Clear();</span><br><span class="line">    listView1.Items.Clear();</span><br><span class="line">    <span class="comment">//设置ShowGroups属性为true(默认false)，否则不显示出分组</span></span><br><span class="line">    listView1.ShowGroups = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//创建男生分组</span></span><br><span class="line">    ListViewGroup man = <span class="keyword">new</span> ListViewGroup();</span><br><span class="line">    man.Header = <span class="string">&quot;男生&quot;</span>;<span class="comment">//设置组的标题</span></span><br><span class="line">    <span class="comment">//设置组标题文本对齐方式（默认Left）</span></span><br><span class="line">    man.HeaderAlignment = HorizontalAlignment.Left;</span><br><span class="line">    <span class="comment">//创建女生分组</span></span><br><span class="line">    ListViewGroup women = <span class="keyword">new</span> ListViewGroup();</span><br><span class="line">    women.Header = <span class="string">&quot;女生&quot;</span>;</span><br><span class="line">    <span class="comment">//组标题居中对齐</span></span><br><span class="line">    women.HeaderAlignment = HorizontalAlignment.Center;</span><br><span class="line">    listView1.Groups.Add(man);</span><br><span class="line">    listView1.Groups.Add(women);</span><br><span class="line">    <span class="comment">//添加项</span></span><br><span class="line">    listView1.Items.Add(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">    listView1.Items.Add(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">    listView1.Items.Add(<span class="string">&quot;娜娜&quot;</span>);</span><br><span class="line">    listView1.Items.Add(<span class="string">&quot;玲玲&quot;</span>);</span><br><span class="line">    <span class="comment">//将索引为0和1的项添加到男生分组</span></span><br><span class="line">    listView1.Items[<span class="number">0</span>].Group = listView1.Groups[<span class="number">0</span>];</span><br><span class="line">    listView1.Items[<span class="number">1</span>].Group = listView1.Groups[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">//将索引为2和3的项添加到女生分组</span></span><br><span class="line">    listView1.Items[<span class="number">2</span>].Group = listView1.Groups[<span class="number">1</span>];</span><br><span class="line">    listView1.Items[<span class="number">3</span>].Group = listView1.Groups[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-11-30-18-08-37.png" alt="分组"></p>
<p><strong>9.运行程序</strong><br><code>F5</code></p>
</div></details>
<h4 id="DataGridView控件"><a href="#DataGridView控件" class="headerlink" title="DataGridView控件"></a>DataGridView控件</h4><p><strong>DataGridView控件</strong>是用于显示表格的数据控件，该控件在实际应用中非常实用，特别需要表格显示数据时。我们可以通过添加属性的方式来控制表格的样式。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DataSource</code></td>
<td>指示DataGridView控件的数据源</td>
</tr>
<tr>
<td><code>GridColor</code></td>
<td>设置单元格网格线的颜色</td>
</tr>
<tr>
<td><code>DefaultCellStyle</code></td>
<td>单元格的默认样式(对齐方式，前景色，后景色，字体等)</td>
</tr>
<tr>
<td><code>RowHeadersVisible</code></td>
<td>左侧标题栏是否隐藏</td>
</tr>
<tr>
<td><code>AllowUserToAddRows</code></td>
<td>是否向用户显示用于添加行的选项</td>
</tr>
<tr>
<td><code>AllowUserToDeleteRows</code></td>
<td>是否允许用户DataGridView控件的单元格</td>
</tr>
<tr>
<td><code>ReaderStyle</code></td>
<td>DataGridView控件网格样式</td>
</tr>
<tr>
<td><code>ReaderOnly</code></td>
<td>用户是否可以编辑DataGridView控件的单元格</td>
</tr>
<tr>
<td><code>ScrollBars</code></td>
<td>设置DataGridView控件显示的滚动条类型</td>
</tr>
</tbody>
</table>
</div>
<details class="toggle"><summary class="toggle-button" style>DataGridView控件的使用</summary><div class="toggle-content"><p><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：DataGridView</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计窗体界面</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>DataGridViewForm.cs</code></li>
<li><code>Text</code>:课程表</li>
<li>添加1个<strong>DataGridView控件</strong></li>
</ul>
<p><strong>3.实现课程表的功能</strong></p>
<figure class="highlight c#"><figcaption><span>【课程表】控件Load事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">DataGridViewForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DataTable dataTable = <span class="keyword">new</span> DataTable();</span><br><span class="line">    <span class="comment">//添加列集</span></span><br><span class="line">    dataTable.Columns.Add(<span class="string">&quot;周数/节数&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">string</span>));</span><br><span class="line">    dataTable.Columns.Add(<span class="string">&quot;周一&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">string</span>));</span><br><span class="line">    dataTable.Columns.Add(<span class="string">&quot;周二&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">string</span>));</span><br><span class="line">    dataTable.Columns.Add(<span class="string">&quot;周三&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">string</span>));</span><br><span class="line">    dataTable.Columns.Add(<span class="string">&quot;周四&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">string</span>));</span><br><span class="line">    dataTable.Columns.Add(<span class="string">&quot;周五&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">string</span>));</span><br><span class="line">    <span class="comment">//添加行</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        DataRow dr = dataTable.NewRow();</span><br><span class="line">        dataTable.Rows.Add(dr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//向表格中添加数据</span></span><br><span class="line">    <span class="comment">//向第一行的第一个格中添加“第1节”的文本信息</span></span><br><span class="line">    dataTable.Rows[<span class="number">0</span>][<span class="number">0</span>] = <span class="string">&quot;第1节&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">0</span>][<span class="number">1</span>] = <span class="string">&quot;语文&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">0</span>][<span class="number">2</span>] = <span class="string">&quot;语文&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">0</span>][<span class="number">3</span>] = <span class="string">&quot;语文&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">0</span>][<span class="number">4</span>] = <span class="string">&quot;语文&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">0</span>][<span class="number">5</span>] = <span class="string">&quot;语文&quot;</span>;</span><br><span class="line">    <span class="comment">//向第一行的第一个格中添加“第2节”的文本信息</span></span><br><span class="line">    dataTable.Rows[<span class="number">1</span>][<span class="number">0</span>] = <span class="string">&quot;第2节&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">1</span>][<span class="number">1</span>] = <span class="string">&quot;数学&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">1</span>][<span class="number">2</span>] = <span class="string">&quot;数学&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">1</span>][<span class="number">3</span>] = <span class="string">&quot;数学&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">1</span>][<span class="number">4</span>] = <span class="string">&quot;数学&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">1</span>][<span class="number">5</span>] = <span class="string">&quot;数学&quot;</span>;</span><br><span class="line">    <span class="comment">//向第一行的第一个格中添加“第3节”的文本信息</span></span><br><span class="line">    dataTable.Rows[<span class="number">2</span>][<span class="number">0</span>] = <span class="string">&quot;第3节&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">2</span>][<span class="number">1</span>] = <span class="string">&quot;英语&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">2</span>][<span class="number">2</span>] = <span class="string">&quot;英语&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">2</span>][<span class="number">3</span>] = <span class="string">&quot;英语&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">2</span>][<span class="number">4</span>] = <span class="string">&quot;英语&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">2</span>][<span class="number">5</span>] = <span class="string">&quot;英语&quot;</span>;</span><br><span class="line">    <span class="comment">//向第一行的第一个格中添加“第4节”的文本信息</span></span><br><span class="line">    dataTable.Rows[<span class="number">3</span>][<span class="number">0</span>] = <span class="string">&quot;第4节&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">3</span>][<span class="number">1</span>] = <span class="string">&quot;体育&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">3</span>][<span class="number">2</span>] = <span class="string">&quot;体育&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">3</span>][<span class="number">3</span>] = <span class="string">&quot;体育&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">3</span>][<span class="number">4</span>] = <span class="string">&quot;体育&quot;</span>;</span><br><span class="line">    dataTable.Rows[<span class="number">3</span>][<span class="number">5</span>] = <span class="string">&quot;体育&quot;</span>;</span><br><span class="line">    <span class="comment">//在表格中添加数据</span></span><br><span class="line">    dataGridView1.DataSource = dataTable;</span><br><span class="line">    dataGridView1.RowHeadersVisible = <span class="literal">false</span>; <span class="comment">//关闭第一列的空白列</span></span><br><span class="line">    dataGridView1.ReadOnly = <span class="literal">true</span>;  <span class="comment">//表格中的数据只读，不能编辑</span></span><br><span class="line">    dataGridView1.AllowUserToAddRows = <span class="literal">false</span>;    <span class="comment">//不显示添加行的选项</span></span><br><span class="line">    dataGridView1.BackgroundColor = Color.White;    <span class="comment">//表格背景颜色</span></span><br><span class="line">    dataGridView1.Width = <span class="number">600</span>;  <span class="comment">//表格宽度</span></span><br><span class="line">    dataGridView1.ColumnHeadersDefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleCenter;</span><br><span class="line">    dataGridView1.DefaultCellStyle.Alignment = DataGridViewContentAlignment.MiddleCenter;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.运行程序</strong><br><code>F5</code></p>
</div></details>
<h3 id="菜单、工具栏与状态栏"><a href="#菜单、工具栏与状态栏" class="headerlink" title="菜单、工具栏与状态栏"></a>菜单、工具栏与状态栏</h3><h4 id="MenuStrip控件"><a href="#MenuStrip控件" class="headerlink" title="MenuStrip控件"></a>MenuStrip控件</h4><p><strong>MenuStrip控件</strong>用于表示WinForm窗体中的菜单，该控件支持多文档界面、菜单合并、工具提示和溢出等功能，开发人员可以通过添加访问键、快捷键、选中标记、图像和分隔条增强菜单的可用性和可读性。</p>
<p><strong>1.添加访问键</strong><br>在窗体中添加<strong>MenuStrip控件</strong>，该控件自动位于窗体左侧顶部，可以看到“请在此处键入”文本框。由一级菜单依次建立多级菜单。<br><img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-05-14-18-10.png" style="height:200px"><img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-05-14-19-27.png" style="height:200px"></p>
<p><strong>2.添加快捷键</strong><br>单击需要添加快捷键的菜单项，在该菜单项的<code>Text</code>属性值中添加(&amp;+快捷键)即可。例如为【文件】菜单项添加快捷键为【Alt+F】，首先单击【文件】菜单项，将该项的Text属性值设置为“文件(&amp;F)”。<br>运行项目后，当按下【Alt+F】快捷键时，即可打开【文件】菜单项的二级菜单。<br><img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-05-14-39-24.png" style="height:300px"><img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-05-14-37-10.png" style="height:200px"></p>
<p><strong>3.为菜单项添加图像</strong><br>右键单击需要添加图像的菜单键，在弹出框中选择【设置图像(M)…】按钮，跳转到【选择资源】窗口，导入图片资源即可。</p>
<p><strong>4.添加分割线</strong><br>在需要添加分隔线的“请在此处键入”文本框输入<code>“-”</code>，之后按下【Enter】键就可以为菜单项添加分隔线。</p>
<h4 id="实例：可拉伸菜单"><a href="#实例：可拉伸菜单" class="headerlink" title="实例：可拉伸菜单"></a>实例：可拉伸菜单</h4><p>如果应用程序分类中菜单项过多，而用户只使用一些常用的菜单项，此时可以将菜单中不常用的菜单项隐藏起来。这种显示方式类似于对菜单进行拉伸。使用时，只需要点击展开菜单，即可显示相应的菜单功能。<br><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：StretchMenu</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计窗体界面</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>StretchMenuForm.cs</code></li>
<li><code>Text</code>:可拉伸菜单</li>
<li>添加1个<strong>StretchMenu控件</strong></li>
<li>添加一级菜单【会员管理】，<code>Name</code>:”ManagementItem”</li>
<li>添加二级菜单“会员登记” “会员刷卡” “会员列表” “等级设置” “业务调整” “批量发卡” “会员导入” “展示（关闭）其他项” “设置密码” “修改密码” “忘记密码”，对应的<code>Name</code>属性为”RegisterItem” “CreditCardItem” “ListItem” “SettingItem” “AdjustmentItem” “BatchCardItem” “ImportItem” “OpenOrCloseItem” “SetPasswordItem” “ChangePasswordItem” “ForgetPasswordItem”<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-05-15-16-59.png" alt="【可拉伸菜单】窗体"></li>
</ul>
<p><strong>3.实现窗体加载功能</strong><br><figure class="highlight c#"><figcaption><span>【可拉伸菜单】窗体Load事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WindowsFormsApp1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">StretchMenuForm</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">StretchMenuForm</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">StretchMenuForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SetPasswordItem.Visible = <span class="literal">false</span>;<span class="comment">//【设置密码】菜单项</span></span><br><span class="line">            ChangePasswordItem.Visible = <span class="literal">false</span>; <span class="comment">//【修改密码】菜单项</span></span><br><span class="line">            ForgetPasswordItem.Visible = <span class="literal">false</span>;<span class="comment">//【忘记密码】菜单项</span></span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>4.实现展开与关闭菜单项的功能</strong><br><figure class="highlight c#"><figcaption><span>【展开（关闭）其他项】Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OpenOrCloseItem_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">switch</span> (flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="literal">false</span>:</span><br><span class="line">            SetPasswordItem.Visible = <span class="literal">false</span>;</span><br><span class="line">            ChangePasswordItem.Visible = <span class="literal">false</span>;</span><br><span class="line">            ForgetPasswordItem.Visible = <span class="literal">false</span>;</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">            ManagementItem.ShowDropDown();<span class="comment">//该方法会显示【会员管理】菜单下面的二级菜单</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="literal">true</span>:</span><br><span class="line">            SetPasswordItem.Visible = <span class="literal">true</span>;</span><br><span class="line">            ChangePasswordItem.Visible = <span class="literal">true</span>;</span><br><span class="line">            ForgetPasswordItem.Visible = <span class="literal">true</span>;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            ManagementItem.ShowDropDown();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>5.运行程序</strong><br><code>F5</code></p>
<h4 id="ToolStrip控件"><a href="#ToolStrip控件" class="headerlink" title="ToolStrip控件"></a>ToolStrip控件</h4><p><strong>ToolStrip控件</strong>用于显示工具栏，该控件可以创建具有Windows、Office、IE或自定义的外观和行为的工具栏及其他用户界面元素，这些元素支持溢出及运行时项重新排序。</p>
<p><strong>1.添加工具栏控件</strong><br>在窗体中添加1个<strong>ToolStrip控件</strong>，该控件默认显示在窗体的左侧顶部，如果窗体中已经存在菜单栏，则默认显示在菜单栏的下方。<br><strong>2.设置工具栏样式</strong><br>窗体添加<strong>ToolStrip控件</strong>之后，上面并没有控件，只显示一个占位符，可以在工具栏中添加控件来定义工具栏显示的具体样式，单击工具栏上向下箭头的提示图标，在下拉菜单中显示8种不同类型的控件。<br><img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-05-16-16-38.png" style="height:230px"><img class="inline-img" src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-05-16-21-17.png" style="height:230px"></p>
<ul>
<li><code>Button</code>:包含文本和图像的项，用户可以选择是否显示文本和图像，默认只显示图像。</li>
<li><code>Label</code>:包含文本和图像的项，用户不可以选择是否显示文本和图像，可以显示超链接。</li>
<li><code>SplitButton</code>:在Button的基础上添加了下拉菜单。</li>
<li><code>DropDownButton</code>:用于下拉菜单选择项。</li>
<li><code>Separator</code>:分隔符。</li>
<li><code>ComboBox</code>:显示一个ComboBox的项。</li>
<li><code>TextBox</code>:显示一个TextBox的项。</li>
<li><code>ProgressBar</code>:显示一个进度条的项。</li>
</ul>
<div class="note warning modern"><p>当上述控件使用<code>ToolTipText</code>属性来显示提示功能的时，需要将<strong>ToolStrip控件</strong>的<code>ShowItemToolTips</code>属性的值设置为<code>True</code>(默认)，<code>ShowItemToolstrip</code>属性用于指定是否显示项的ToolTip信息提示框。</p>
</div>
<h4 id="实例：具有提示功能的工具栏"><a href="#实例：具有提示功能的工具栏" class="headerlink" title="实例：具有提示功能的工具栏"></a>实例：具有提示功能的工具栏</h4><p>通常情况下，当鼠标指针悬停在Word文档工具栏中的按钮时，会出现一个提示框，提示框内描述了工具栏中按钮所提供的功能，<strong>ToolStrip控件</strong>可以实现具有提示功能的工具栏。<br><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：WordToolbar</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计窗体界面</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>ToolbarForm.cs</code></li>
<li><code>Text</code>:工具栏</li>
<li>添加<strong>ToolStrip控件</strong>，用于显示工具栏，在该工具栏中添加4个Label控件，设置Text属性为“文字方向” “页边距” “纸张方向” “纸张大小”</li>
<li>添加分隔符，右键单击“页边距”文本信息，选择【插入(I)】选项，然后选中【Separator】，即可在“文字方向”和“页边距”文本信息间插入分隔符。</li>
<li><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2023-01-05-16-47-16.png" alt="添加分隔符"></li>
</ul>
<p><strong>3.添加提示信息</strong><br>分别选中工具栏中的“文字方向” “页边距” “纸张方向” “纸张大小”，在这些控件对应的<code>ToolTipText</code>属性值分别设置为“自定义文档或所选文本框中的文本方向” “选择整个文档或当前节的边距大小” “切换页面的纵向布局和横向布局” “将文字拆分两栏或更多栏”。</p>
<p><strong>4.运行程序</strong><br><code>F5</code></p>
<h4 id="StatusStrip控件"><a href="#StatusStrip控件" class="headerlink" title="StatusStrip控件"></a>StatusStrip控件</h4><p><strong>StatusStrip控件</strong>表示状态栏，它通常放置在窗体的最底部，用于显示窗体上一些对象的相关信息或者显示应用程序的信息。</p>
<p><strong>1.添加状态栏控件</strong><br>在窗体中 添加<strong>StatusStrip控件</strong>，该控件默认显示在窗体左侧底部。</p>
<p><strong>2.状态栏中显示的控件类型</strong><br>窗体中添加<strong>StatusStrip控件</strong>之后，上面并没有显示数据，只显示一个占位符，可在该状态栏中添加控件来定义具体的显示样式，单击状态栏上的向下箭头图标，下拉菜单显示4中不同类型的控件。</p>
<ul>
<li><code>StatusLabel</code>:包含文本和图像的项。</li>
<li><code>ProgressBar</code>:显示一个进度条。</li>
<li><code>DropDownButton</code>:用于下拉列表选项，可以从中选择单个项目。</li>
<li><code>SplitButton</code>:由一个标准按钮和一个下拉菜单组成的控件。</li>
</ul>
<h4 id="实例：在状态栏中显示当前系统时间"><a href="#实例：在状态栏中显示当前系统时间" class="headerlink" title="实例：在状态栏中显示当前系统时间"></a>实例：在状态栏中显示当前系统时间</h4><p>状态栏经常用于显示应用程序当前的状态信息或用户操作信息。这里实现在状态栏中显示当前系统时间的功能。<br><strong>1.创建项目</strong></p>
<ul>
<li>项目名称：ShowTimeStatusBar</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.设计窗体界面</strong><br>步骤</p>
<ul>
<li>修改<code>Form1.cs</code>文件名为<code>StatusBarForm.cs</code></li>
<li><code>Text</code>:状态栏</li>
<li>在【状态栏】窗体上添加1个<strong>Timer控件</strong>，用于每隔一秒获取一次系统当前时间</li>
<li>添加1个<strong>StatusStrip控件</strong>，用于显示状态栏，在该状态栏中添加<strong>StatusLabel控件</strong>，用于显示当前系统时间</li>
</ul>
<p><strong>3.实现获取系统时间的功能</strong><br>设置【状态栏】窗体的<code>Load</code>事件与<strong>Timer控件</strong>的<code>Tick</code>事件<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WindowsFormsApp1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">StatusBarForm</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">StatusBarForm</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">StatusBarForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            timer1.Enabled = <span class="literal">true</span>;</span><br><span class="line">            timer1.Interval = <span class="number">1000</span>;<span class="comment">//时间间隔为1000毫秒</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">timer1_Tick</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.toolStripStatusLabel1.Text = <span class="string">&quot;当前时间：&quot;</span> + System.DateTime.Now.ToString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>4.运行程序</strong><br><code>F5</code></p>
<h2 id="C-常用类"><a href="#C-常用类" class="headerlink" title="C#常用类"></a>C#常用类</h2><h3 id="string类"><a href="#string类" class="headerlink" title="string类"></a>string类</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str1 = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="built_in">string</span> str2 = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">Console.WriteLine(str1 == str2);</span><br><span class="line"><span class="comment">//True</span></span><br></pre></td></tr></table></figure>
<h4 id="string类的初始化"><a href="#string类的初始化" class="headerlink" title="string类的初始化"></a>string类的初始化</h4><ul>
<li>字符串就是指一连串的字符，表示字符串的类为string。</li>
<li>string字符串中可以包含任意字符，这些字符必须包含在一对英文双引号<code>&quot;&quot;</code>之内，例如”Hello World”。</li>
<li>在使用string字符串之前首先需要对string类进行<strong>初始化</strong></li>
</ul>
<p>1.使用字符串常量直接初始化一个string对象<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str=<span class="string">&quot;abc&quot;</span>;</span><br></pre></td></tr></table></figure><br>2.使用string类的构造方法初始化字符串对象，常用的有两个构造方法</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法名称</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>string(Char[] charArray)</td>
<td>将string类的新实例初始化为由Unicode字符数组指示的值。</td>
</tr>
<tr>
<td>string(Char ch,int num)</td>
<td>将string类的新实例初始化为由重复指定次数的指定Unicode 字符指示的值。</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">char</span>[] chs = &#123; <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span> &#125;;</span><br><span class="line">        <span class="built_in">string</span> str1 = <span class="keyword">new</span> <span class="built_in">string</span>(chs);  <span class="comment">//&quot;123&quot;</span></span><br><span class="line">        <span class="comment">//使用字符&#x27;a&#x27;重复5次创建字符串&quot;aaaaa&quot;</span></span><br><span class="line">        <span class="built_in">string</span> str2 = <span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">5</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;str1 = &quot;</span> + str1);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;str2 = &quot;</span> + str2);</span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note warning modern"><ul>
<li>在程序中，string 和String类都可以创建字符串对象。</li>
<li>不同的是，string类型是C#语言中用来表示字符串的类型，而String类型是.NET Framework 通用类型系统中用来表示字符串的类型。</li>
<li>在程序开发过程中，这两种类型之所以都能表示字符串，是因为程序编译时，C#语言中的string类型会被编译成.NET Framework通用类型系统的String类型。</li>
</ul>
</div>
<ul>
<li><p>在编码过程中，定义string类型的变量后如果不需要立即对其进行初始化，一般会将其初始化为一个空字符串。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str1 = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="built_in">string</span> str2 = <span class="string">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>.NET平台中提供了一个空字符串常量String.Empty，该常量可以代替上述空字符串。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str1 = String.Empty;</span><br><span class="line"><span class="built_in">string</span> str2 = String.Empty;</span><br></pre></td></tr></table></figure>
</li>
<li><p>由于字符串拘留池机制，使用空字符串（“”）和使用String.<br>Empty是同一个对象，因此，这两种空字符串的定义是一样的。</p>
</li>
</ul>
<h4 id="字符串的不可变性"><a href="#字符串的不可变性" class="headerlink" title="字符串的不可变性"></a>字符串的不可变性</h4><p>字符串的不可变性指的是字符串对象一旦创建，就无法对其进行修改。例如，有一个字符串“abc”，如果对其进行修改，其内存就会发生变化。</p>
<ul>
<li>在代码编写过程中，有时需要创建多个字符串对象，由于字符串具有不可变性，因此这些字符串对象对应的值都会占用内存空间。</li>
<li>为此，.NET框架的底层提供了一种机制，当一个字符串已经被创建，那么以后每次创建相同值的字符串时会直接引用他的地址值，而无需为自己的值开辟新的内存空间。这种机制称为字符串拘留池机制。</li>
<li>字符串拘留池机制是由.NET框架来完成的，不用人为的管理，这样可以提高字符串使用的效率。</li>
</ul>
<h4 id="字符串与字符数组"><a href="#字符串与字符数组" class="headerlink" title="字符串与字符数组"></a>字符串与字符数组</h4><ul>
<li>在程序开发中，为了方便访问字符串中的某个字符，可以将字符串看作一个char类型的数组，即<strong>字符数组</strong>。</li>
<li>需要注意的是，由于字符串是不可变的，str字符串只能看作是<strong>只读的字符数组</strong>。</li>
<li>同字符数组类似，字符串可以通过<code>Length</code>属性来获取长度</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program02</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> str = <span class="string">&quot;欢迎来到.NET世界&quot;</span>;</span><br><span class="line">            Console.WriteLine(str[<span class="number">0</span>]);</span><br><span class="line">            Console.WriteLine(str[<span class="number">5</span>]);</span><br><span class="line">            Console.WriteLine(str[<span class="number">9</span>]);</span><br><span class="line">            <span class="comment">//通过Length属性获取字符串的长度</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; str.Length; i++)&#123;</span><br><span class="line">                Console.WriteLine(str[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="string类的静态方法"><a href="#string类的静态方法" class="headerlink" title="string类的静态方法"></a>string类的静态方法</h4><div class="table-container">
<table>
<thead>
<tr>
<th>方法声明</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>int Compare(string str1,string str2)</td>
<td>比较两个字符串是否相等</td>
</tr>
<tr>
<td>string Format(string str,object obj)</td>
<td>格式化字符串</td>
</tr>
<tr>
<td>bool IsNullOrEmpty(string str)</td>
<td>判断一个字符串是否为空或长度为0</td>
</tr>
<tr>
<td>string Join(string str,string[] strarr)</td>
<td>使用指定分隔字符连接字符串数组</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Compare()方法</strong><br>如果第一个字符串大于第二个字符串，则返回一个大于0的int整数；如果两个字符串相同，则返回0；若第一个字符串小于第二个字符串，则返回一个小于0的int整数。<br>字符串比较时，采用了<strong>字典排序法</strong>，所谓字典排序法就是首先比较两个字符串的第一个字符，第一个字符大的字符串就大，如果两个字符串的第一个字符相同，那么就比较第二个字符，依此类推，最终得到较大的字符串。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program04</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> str1 = <span class="string">&quot;abcdefg&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> str2 = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> str3 = <span class="string">&quot;bbc&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> str4 = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">            Console.WriteLine(<span class="built_in">string</span>.Compare(str1, str2));<span class="comment">//1</span></span><br><span class="line">            Console.WriteLine(<span class="built_in">string</span>.Compare(str2, str3));<span class="comment">//-1</span></span><br><span class="line">            Console.WriteLine(<span class="built_in">string</span>.Compare(str2, str4));<span class="comment">//0</span></span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Format()方法</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program05</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> str = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> res = <span class="built_in">string</span>.Format(<span class="string">&quot;字符串&#123;0&#125;包含&#123;1&#125;个字符&quot;</span>, str, str.Length);</span><br><span class="line">            Console.WriteLine(res);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>IsNullOrEmpty()方法</strong><br>当字符串为空或者长度为0时，该方法的返回值为true，否则返回值为false。<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s1 = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">string</span> s2 = <span class="string">&quot;&quot;</span>;</span><br><span class="line">     <span class="built_in">string</span> s3 = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">     Check(s1, <span class="string">&quot;s1&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Check</span>(<span class="params"><span class="built_in">string</span> s, <span class="built_in">string</span> name</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(s))&#123;</span><br><span class="line">       Console.WriteLine(<span class="string">&quot;&#123;0&#125;是为空或长度为0&quot;</span>, name);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Join()方法</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">string</span>[] strs = &#123; <span class="string">&quot;字符串&quot;</span>, <span class="string">&quot;使用竖线&quot;</span>, <span class="string">&quot;连接&quot;</span> &#125;;</span><br><span class="line">        <span class="built_in">string</span> res = <span class="built_in">string</span>.Join(<span class="string">&quot;|&quot;</span>, strs);</span><br><span class="line">        Console.WriteLine(res);</span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//字符串|使用竖线|连接</span></span><br></pre></td></tr></table></figure></p>
<h4 id="string类的实例方法"><a href="#string类的实例方法" class="headerlink" title="string类的实例方法"></a>string类的实例方法</h4><p>与静态方法不同的是，实例方法需要先创建实例对象才能使用</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bool Contains(string str)</td>
<td>判断当前字符串中是否包含指定字符串</td>
</tr>
<tr>
<td>bool EndsWith(string str)</td>
<td>判断当前字符串是否使用指定字符串结尾</td>
</tr>
<tr>
<td>int IndexOf(char ch)</td>
<td>获得指定字符或字符串在当前字符串中的位置</td>
</tr>
<tr>
<td>string[] Split(char[] charArray)</td>
<td>将字符串以某种字符分隔</td>
</tr>
<tr>
<td>string Substring(int index)</td>
<td>从index索引处截取当前字符串</td>
</tr>
<tr>
<td>char[] ToCharArray()</td>
<td>将当前字符串转换为字符数组</td>
</tr>
<tr>
<td>string ToUpper()</td>
<td>将当前字符串中的英文转化成大写</td>
</tr>
<tr>
<td>string Trim()</td>
<td>去除字符串两边空格</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Contains()方法</strong><br><figure class="highlight c#"><figcaption><span>调用Contains()方法判断字符串str1是否包含str2</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program08</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> str1 = <span class="string">&quot;这是一个测试字符串&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> str2 = <span class="string">&quot;测试&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (str1.Contains(str2))&#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;str2包含在str1中&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;str1不包含str2&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//str2包含在str1中</span></span><br></pre></td></tr></table></figure></p>
<p><strong>EndsWith()方法</strong><br><figure class="highlight c#"><figcaption><span>调用EndsWith()方法判断字符串input是否以“.mp3”结尾</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program09</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">           Console.WriteLine(<span class="string">&quot;请输入mp3文件名&quot;</span>);</span><br><span class="line">           <span class="built_in">string</span> input = Console.ReadLine();<span class="comment">//获取用户从控制台输入的字符串</span></span><br><span class="line">           <span class="keyword">if</span> (input.EndsWith(<span class="string">&quot;.mp3&quot;</span>))&#123;</span><br><span class="line">               Console.WriteLine(<span class="string">&quot;文件格式正确&quot;</span>);</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               Console.WriteLine(<span class="string">&quot;输入文件不是mp3格式&quot;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>IndexOf()方法</strong><br><figure class="highlight c#"><figcaption><span>通过IndexOf()方法查询字符串“e”的位置并复制给变量index</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program10</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> str = <span class="string">&quot;abcdefefghefg&quot;</span>;</span><br><span class="line">            <span class="comment">//查找第一个&#x27;e&#x27;字符的位置</span></span><br><span class="line">            <span class="built_in">int</span> index = str.IndexOf(<span class="string">&quot;e&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;找到e，索引为&#123;0&#125;&quot;</span>, index);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//找到e，索引为4</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Split()方法</strong><br><figure class="highlight c#"><figcaption><span>调用Split()方法通过''分隔符将字符串str分割为一个字符串数组strs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program11</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> str = <span class="string">&quot;I have a dream&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span>[] strs = str.Split(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;一共有&#123;0&#125;个单词，分别是：&quot;</span>, strs.Length);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; strs.Length; i++)&#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;第&#123;0&#125;个单词是：&#123;1&#125;&quot;</span>, i + <span class="number">1</span>, strs[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Substring()方法</strong><br><figure class="highlight c#"><figcaption><span>通过Substring()方法从指定位置截取文件名后缀名</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program12</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="comment">// 注意C#中的转义字符,这里加上@取消转义</span></span><br><span class="line">            <span class="built_in">string</span> path=<span class="string">@&quot;D:\workspeace\chapter8\Program11\program.cs&quot;</span>;</span><br><span class="line">            <span class="built_in">int</span> index = path.IndexOf(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">            <span class="comment">// 从&#x27;.&#x27;的下一个位置开始截取</span></span><br><span class="line">            <span class="built_in">string</span> fileType = path.Substring(index + <span class="number">1</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;文件后缀名为：&#123;0&#125;&quot;</span>, fileType);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//文件后缀名为：cs</span></span><br></pre></td></tr></table></figure></p>
<p><strong>ToCharArray()方法</strong><br><figure class="highlight c#"><figcaption><span>将字符串转换成字符数组</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program13</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> str = <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">            <span class="built_in">char</span>[] chs = str.ToCharArray();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; chs.Length / <span class="number">2</span>; i++)&#123;</span><br><span class="line">                <span class="built_in">char</span> temp = chs[i];</span><br><span class="line">                chs[i] = chs[chs.Length - i - <span class="number">1</span>];</span><br><span class="line">                chs[chs.Length - i - <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">string</span> s1 = <span class="keyword">new</span> <span class="built_in">string</span>(chs);</span><br><span class="line">            Console.WriteLine(s1);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//fedcba</span></span><br></pre></td></tr></table></figure></p>
<p><strong>ToUpper()方法</strong><br>与之相对应的是<code>ToLower()</code>方法<br><figure class="highlight c#"><figcaption><span>将字符串中所有英文字母都变成大写字母</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program14</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> s = <span class="string">&quot;itcast&quot;</span>;</span><br><span class="line">            s = s.ToUpper();</span><br><span class="line">            Console.WriteLine(s);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Trim()方法</strong><br><figure class="highlight c#"><figcaption><span>用来去除字符串两端的空格</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program15</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> str = <span class="string">&quot;   ab   cd   &quot;</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;|&quot;</span> + str + <span class="string">&quot;|&quot;</span>);</span><br><span class="line">            str = str.Trim();</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;|&quot;</span> + str + <span class="string">&quot;|&quot;</span>);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//|   ab   cd   |</span></span><br><span class="line"><span class="comment">//|ab   cd|</span></span><br></pre></td></tr></table></figure></p>
<h3 id="高效的StringBuilder"><a href="#高效的StringBuilder" class="headerlink" title="高效的StringBuilder"></a>高效的StringBuilder</h3><ul>
<li>C#中提供了<code>StringBuilder</code>类，它和<code>string</code>类都用于操作字符串。</li>
<li>与<code>string</code>类不同的是，<code>StringBuilder</code>类创建的字符串的长度是可以改变的，他类似一个字符容器，当在其中添加或删除字符时，并不会产生新的StringBuilder对象，因此可以让字符串的拼接操作变的更加高效。针对添加和删除字符串有以下操作。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StringBuilder Append(string str)</code></td>
<td>将字符串str添加到StringBuilder对象的末尾</td>
</tr>
<tr>
<td><code>StringBuilder Insert(int offset,string str)</code></td>
<td>在字符串中的offset位置处插入字符串str</td>
</tr>
<tr>
<td><code>StringBuilder Replace(string str1,string str2)</code></td>
<td>使用字符串str2替换StringBuilder对象中的字符串str1</td>
</tr>
<tr>
<td><code>StringBuilder Remove(int index int length)</code></td>
<td>将字符串从指定索引位置index开始，移除 length长度字符串</td>
</tr>
<tr>
<td><code>string ToString()</code></td>
<td>将StringBuilder类型转换成string 类型</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program16</span></span><br><span class="line">    <span class="title">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span> &#123;</span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            sb.Append(<span class="string">&quot;abcd&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;追加字符串:&quot;</span> + sb.ToString());</span><br><span class="line">            sb.Insert(<span class="number">3</span>, <span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;插入字符串:&quot;</span> + sb.ToString());</span><br><span class="line">            sb.Remove(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;移除字符串:&quot;</span> + sb.ToString());</span><br><span class="line">            sb.Replace(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;替换字符串:&quot;</span> + sb.ToString());</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;sb的长度是:&quot;</span> + sb.Length);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="hide-block"><button type="button" class="hide-button" style>执行结果
    </button><div class="hide-content"><p>追加字符串:abcd<br>插入字符串:abcaaad<br>移除字符串:abcd<br>替换字符串:bbcd<br>sb的长度是:4</p>
</div></div>
<h4 id="StringBuilder性能分析"><a href="#StringBuilder性能分析" class="headerlink" title="StringBuilder性能分析"></a>StringBuilder性能分析</h4><ul>
<li><code>Stopwatch</code>类的命名空间为System.Diagnostics。</li>
<li><code>Stopwatch</code>类用于<strong>测量代码执行的时间</strong>，他有两个方法<code>Start()</code>和<code>Stop()</code>，其中Start()方法表示计时开始，Stop()方法表示计时结束，该类还有一个属性<code>Elapsed</code>用于获取代码执行的总运行时间。</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">string</span> str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        Stopwatch sp = <span class="keyword">new</span> Stopwatch();</span><br><span class="line">        sp.Start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)&#123;</span><br><span class="line">            str += i.ToString();</span><br><span class="line">        &#125;</span><br><span class="line">        sp.Stop(); <span class="comment">// 停止计时</span></span><br><span class="line">        Console.WriteLine(sp.Elapsed);</span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//00:00:00.0229812</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    Stopwatch sp = <span class="keyword">new</span> Stopwatch();</span><br><span class="line">    sp.Start(); <span class="comment">// 开始计时</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)&#123;</span><br><span class="line">        builder.Append(i.ToString());</span><br><span class="line">    &#125;</span><br><span class="line">    sp.Stop(); <span class="comment">// 停止计时</span></span><br><span class="line">    Console.WriteLine(sp.Elapsed);</span><br><span class="line">    Console.ReadKey();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//00:00:00.0004089</span></span><br></pre></td></tr></table></figure>
<p>可见，在同等情况下StringBuilder类的性能远远高于string类，因此在进行字符串进行拼接优先使用StringBuilder类。</p>
<h3 id="DateTime类"><a href="#DateTime类" class="headerlink" title="DateTime类"></a>DateTime类</h3><p><code>DateTime</code>类用于表示时间。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DateTime(int year,int month,int day)</code></td>
<td>将 DateTime 结构的新实例初始化为指定的年、月和日</td>
</tr>
<tr>
<td><code>DateTime(int year,int month,int day,int hour,int minute,int second)</code></td>
<td>将 DateTime 结构的新实例初始化为指定的年、月、日、小时、分钟和秒</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Program17</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            DateTime dt1 = <span class="keyword">new</span> DateTime(<span class="number">2022</span>, <span class="number">12</span>, <span class="number">28</span>);</span><br><span class="line">            DateTime dt2 = <span class="keyword">new</span> DateTime(<span class="number">2022</span>, <span class="number">12</span>, <span class="number">28</span>, <span class="number">17</span>, <span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;dt1:&quot;</span> + dt1);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;dt2:&quot;</span> + dt2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//dt1:2022/12/28 0:00:00</span></span><br><span class="line"><span class="comment">//dt2:2022/12/28 17:05:05</span></span><br></pre></td></tr></table></figure>
<h4 id="TimeSpan类"><a href="#TimeSpan类" class="headerlink" title="TimeSpan类"></a>TimeSpan类</h4><p>TimeSpan 对象用于表示时间间隔，在使用Data类时经常需要通过该对象增加时间间隔。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>构造方法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TimeSpan(int hour,int minute,int seconds)</code></td>
<td>将新的TimeSpan对象初始为指定的小时数，分钟数，秒数</td>
</tr>
<tr>
<td><code>TimeSpan(int day,int hour,int minute,int second)</code></td>
<td>将新的TimeSpan对象初始为指定的天数，小时数，分钟数，秒数</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">        TimeSpan ts1 = <span class="keyword">new</span> TimeSpan(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ts1的时间间隔为：&quot;</span> + ts1);</span><br><span class="line">        TimeSpan ts2 = <span class="keyword">new</span> TimeSpan(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ts2的时间间隔为：&quot;</span> + ts2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ts1的时间间隔为：01:02:03</span></span><br><span class="line"><span class="comment">//ts2的时间间隔为：1.02:03:04.0050000</span></span><br></pre></td></tr></table></figure>
<h4 id="DateTime类的常用属性"><a href="#DateTime类的常用属性" class="headerlink" title="DateTime类的常用属性"></a>DateTime类的常用属性</h4><p>在日期数据处理的过程中，经常需要通过DateTime对象的属性来获取日期中的某一部分的信息。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>名称</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Date</code></td>
<td>获取此实例的日期部分</td>
</tr>
<tr>
<td><code>Day</code></td>
<td>获取此实例所表示的日期为该月中的第几天</td>
</tr>
<tr>
<td><code>Hour</code></td>
<td>获取此实例所表示日期的小时部分</td>
</tr>
<tr>
<td><code>Minute</code></td>
<td>获取此实例所表示日期的分钟部分</td>
</tr>
<tr>
<td><code>Month</code></td>
<td>获取此实例所表示日期的月份部分</td>
</tr>
<tr>
<td><code>Today</code></td>
<td>获取当前日期</td>
</tr>
<tr>
<td><code>Year</code></td>
<td>获取此实例所表示日期的年份部分</td>
</tr>
<tr>
<td><code>Now</code></td>
<td>获取一个 DateTime 对象，该对象的时间为本地时间</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    DateTime dt = DateTime.Now;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;当前时间是：&quot;</span> + dt);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;年：&quot;</span> + dt.Year);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;月：&quot;</span> + dt.Month);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;日：&quot;</span> + dt.Day);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;时：&quot;</span> + dt.Hour);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;分：&quot;</span> + dt.Minute);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;秒：&quot;</span> + dt.Second);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="DateTime类的常用方法"><a href="#DateTime类的常用方法" class="headerlink" title="DateTime类的常用方法"></a>DateTime类的常用方法</h4><div class="table-container">
<table>
<thead>
<tr>
<th>名称</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DateTime Add(TimeSpan ts)</code></td>
<td>返回一个 DateTime对象，他将指定 时间间隔添加到此实例的值上</td>
</tr>
<tr>
<td><code>bool Equals(DateTime dt)</code></td>
<td>返回一个bool值，指示此实例是否与指定的 DateTime 实例相等</td>
</tr>
<tr>
<td><code>string ToShortTimeString()</code></td>
<td>将当前 DateTime 对象的值转换为其等效的短时间字符串表示</td>
</tr>
<tr>
<td><code>int Compare(DateTime dt1,DateTime dt2)</code></td>
<td>将两个DateTime对象进行比较，如果dt1早于dt2，返回整数-1，如果dt1等于dt2.返回整数0，如果dt1晚于dt2，返回整数1</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    DateTime dt = DateTime.Now;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;dt:&quot;</span> + dt);</span><br><span class="line">    <span class="comment">//定义一个时间对象</span></span><br><span class="line">    TimeSpan ts = <span class="keyword">new</span> TimeSpan(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="comment">//当前时间小时部分加1</span></span><br><span class="line">    dt = dt.Add(ts);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;dt:&quot;</span> + dt);</span><br><span class="line">    <span class="comment">//判断两个时间是否相等</span></span><br><span class="line">    <span class="built_in">bool</span> b = dt.Equals(DateTime.Now);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;判断改变后的dt是否与系统时间相等：&quot;</span> + b);</span><br><span class="line">    <span class="comment">//将DateTime对象转换为其等效的短时间字符串</span></span><br><span class="line">    <span class="built_in">string</span> s = dt.ToShortDateString();</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;dt转换为短时间字符串为：&quot;</span> + s);</span><br><span class="line">    <span class="comment">//将dt对象的时间和当前时间进行比较</span></span><br><span class="line">    <span class="built_in">int</span> result = DateTime.Compare(dt, DateTime.Now);</span><br><span class="line">    <span class="keyword">if</span> (result&gt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;dt晚于系统当前时间&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (result == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;dt等于系统当前时间&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;dt早于系统当前时间&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//dt:2022/12/28 18:00:54</span></span><br><span class="line"><span class="comment">//dt:2022/12/28 19:00:54</span></span><br><span class="line"><span class="comment">//判断改变后的dt是否与系统时间相等：False</span></span><br><span class="line"><span class="comment">//dt转换为短时间字符串为：2022/12/28</span></span><br><span class="line"><span class="comment">//dt晚于系统当前时间</span></span><br></pre></td></tr></table></figure>
<h3 id="Random类"><a href="#Random类" class="headerlink" title="Random类"></a>Random类</h3><p>在C#语言中提供了一个<code>Random</code>类，该类是一个伪随机数生成器，它可以随机产生数字。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>名称</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Random()</code></td>
<td>使用与时间相关的默认种子值，初始化Random类的新实例对象</td>
</tr>
<tr>
<td><code>Random(int seed)</code></td>
<td>用指定的种子值初始化Random类的新实例对象</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    Random rd = <span class="keyword">new</span> Random();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> temp = rd.Next(); <span class="comment">//生成一个非负的随机数</span></span><br><span class="line">        Console.WriteLine(temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><figcaption><span>如果指定了相同的种子，则每个实例对象产生的随机数具有相同的序列</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    Random rd = <span class="keyword">new</span> Random(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> temp = rd.Next();</span><br><span class="line">        Console.WriteLine(temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Random类常用方法"><a href="#Random类常用方法" class="headerlink" title="Random类常用方法"></a>Random类常用方法</h4><div class="table-container">
<table>
<thead>
<tr>
<th>名称</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int Next()</code></td>
<td>返回在指定范围内的任意整数</td>
</tr>
<tr>
<td><code>int Next(int max)</code></td>
<td>返回一个小于所指定最大值的非负随机整数</td>
</tr>
<tr>
<td><code>int Next(int min,int max)</code></td>
<td>返回在指定范围内的任意整数</td>
</tr>
<tr>
<td><code>double NextDouble()</code></td>
<td>返回一个介于 0.0 和 1.0 之间的随机浮点数</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    Random rd = <span class="keyword">new</span> Random();</span><br><span class="line">    <span class="built_in">int</span> temp;</span><br><span class="line">    Console.Write(<span class="string">&quot;生成一个随机数字:            &quot;</span>);</span><br><span class="line">    temp = rd.Next();</span><br><span class="line">    Console.WriteLine(temp);</span><br><span class="line">    Console.Write(<span class="string">&quot;生成一个小于10随机数字:      &quot;</span>);</span><br><span class="line">    temp = rd.Next(<span class="number">10</span>);</span><br><span class="line">    Console.WriteLine(temp);</span><br><span class="line">    Console.Write(<span class="string">&quot;生成一个大于10小于20随机数字:&quot;</span>);</span><br><span class="line">    temp = rd.Next(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">    Console.WriteLine(temp);</span><br><span class="line">    Console.Write(<span class="string">&quot;生成一个浮点随机数字:        &quot;</span>);</span><br><span class="line">    <span class="built_in">double</span> temp1 = rd.NextDouble();</span><br><span class="line">    Console.WriteLine(temp1);</span><br><span class="line">    Console.ReadKey();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h3 id="流和文件流"><a href="#流和文件流" class="headerlink" title="流和文件流"></a>流和文件流</h3><p>在计算机中，无论是文本、图片、音频还是视频，所有的文件都是以<strong>二进制(字节)</strong>形式存储的。为此，C#专门针对文件的输入输出操作提供了一系列的流，统称为<strong>文件流</strong>。文件流是程序中最常用的流，根据数据的传输方向可将其分为<strong>输入流</strong>和<strong>输出流</strong>。</p>
<p>为了方便理解，可以把输入流和输出流比作两根“水管”<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-29-11-20-06.png" alt="输入流和输出流"><br>输入流被看作是一个输入管道，输出流被看作是一个输出管道，数据通过输入流从源设备输入到程序中，通过输出流从程序中输出到目标设备中，从而实现数据的传输。由此可见，文件流中的输入输出都是相对于程序而言的。</p>
<h3 id="System-IO命名空间"><a href="#System-IO命名空间" class="headerlink" title="System.IO命名空间"></a>System.IO命名空间</h3><p>在C#中，文件操作类都位于System.IO命名空间中，因此在使用这些类时需要引入System.IO命名空间。该命名空间中包含了很多类，如下图：<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-29-11-39-19.png" alt="System.IO命名空间中常用类"><br>这些类大致可分为操作目录的类、操作文件的类、操作文件路径的类等。其中，Directory和DirectoryInfo属于操作目录的类，FileStream、File和FileInfo属于操作文件的类，StreamReader、StreamWriter类属于操作文本文件的类，Path类属于操作文件路径的类。</p>
<h3 id="File类和FileInfo类"><a href="#File类和FileInfo类" class="headerlink" title="File类和FileInfo类"></a>File类和FileInfo类</h3><h4 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h4><p><code>File</code>类是一个静态类，它提供了许多静态方法，用于处理文件，使用这些方法可以对文件进行创建、移动、查询和删除等操作，下面是File类中的一些常用静态方法</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>FileStream Create(string path)</td>
<td>根据传入的路径创建一个文件，如果文件不存在，则创建文件，如果存在且不是只读的，则覆盖其内容</td>
</tr>
<tr>
<td>void Delete(string path)</td>
<td>如果文件存在，则删除指定的文件，如果指定的文件不存在也不引发异常</td>
</tr>
<tr>
<td>bool Exists(string path)</td>
<td>判断指定文件是否存在，若存在则返回ture，否则返回false</td>
</tr>
<tr>
<td>void Move(string sourceFileName,string destFileName)</td>
<td>将指定的文件移动到新位置，可以在新位置为文件指定不同的名称</td>
</tr>
<tr>
<td>FileStream Open(string path,FileMode mode)</td>
<td>打开指定路径上的文件并返回FileStream对象</td>
</tr>
<tr>
<td>void Copy(string sourceFileName,string destFileName)</td>
<td>将现有的文件内容复制到新文件中，可以指定是否允许覆盖同名的文件</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program01</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            File.Create(<span class="string">&quot;Data.txt&quot;</span>);        <span class="comment">//创建文件，创建好的文件放在项目路径\bin\Debug目录下</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;文件创建成功&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (File.Exists(<span class="string">&quot;Data.txt&quot;</span>))&#123;  <span class="comment">//判断文件是否存在</span></span><br><span class="line">                Console.WriteLine(<span class="string">&quot;Data.txt文件存在&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;Data.txt文件不存在&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="FileInfo类"><a href="#FileInfo类" class="headerlink" title="FileInfo类"></a>FileInfo类</h4><p><code>FileInfo</code>类与File类比较类似，它们都可以对磁盘上的文件进行操作。不同的是<strong>FileInfo类是实例类</strong>，所有的方法都只能在实例化对象后才能调用。</p>
<figure class="highlight c#"><figcaption><span>创建FileInfo类的对象时必须传递一个文件路径作为参数</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileInfo aFile = <span class="keyword">new</span> FileInfo(<span class="string">@&quot;D:\Data.txt&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>上述代码表示使用FileInfo类创建一个对象，将文件路径作为参数，而路径中<code>@</code>符号表示不解析转义字符，如果没有<code>@</code>前缀就需要用<code>\\</code>替代<code>\</code>。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileInfo aFile = <span class="keyword">new</span> FileInfo(<span class="string">&quot;D:\\Data.txt&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>FileInfo类中除了有许多与File类相似的方法外，同时也有它特有的属性</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Directory</td>
<td>该属性用于检索一个DirectoryInfo对象，表示当前文件所在的目录</td>
</tr>
<tr>
<td>DirectoryName</td>
<td>该属性用于返回文件目录，而且这个属性是只读的</td>
</tr>
<tr>
<td>IsReadOnly</td>
<td>该属性用于判断文件是否是只读的</td>
</tr>
<tr>
<td>Length</td>
<td>该属性用于获取文件的大小（以字节为单位），并返回long值</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">        FileInfo aFile = <span class="keyword">new</span> FileInfo(<span class="string">&quot;Data.txt&quot;</span>);</span><br><span class="line">        aFile.Create();     <span class="comment">//创建文件</span></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;文件创建成功&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (aFile.Exists)&#123; <span class="comment">//判断文件是否存在</span></span><br><span class="line">             Console.WriteLine(<span class="string">&quot;Data.txt文件存在&quot;</span>);</span><br><span class="line">         &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">             Console.WriteLine(<span class="string">&quot;Data.txt文件不存在&quot;</span>);</span><br><span class="line">         &#125;</span><br><span class="line">         Console.WriteLine(<span class="string">&quot;文件当前目录为：&quot;</span> + aFile.Directory);</span><br><span class="line">         Console.WriteLine(<span class="string">&quot;文件大小为：&quot;</span> + aFile.Length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Directory类和DirectoryInfo类"><a href="#Directory类和DirectoryInfo类" class="headerlink" title="Directory类和DirectoryInfo类"></a>Directory类和DirectoryInfo类</h3><h4 id="Directory类"><a href="#Directory类" class="headerlink" title="Directory类"></a>Directory类</h4><p><code>Directory</code>类是一个静态类，不可实例化，并且提供了许多静态方法用于对文件的存放目录进行操作，例如创建、删除、查询和移动目录等。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>DirectoryInfo CreateDirectory(string path)</td>
<td>创建指定路径的所有目录和子目录</td>
</tr>
<tr>
<td>void Delete(string path)</td>
<td>删除指定路径的空目录</td>
</tr>
<tr>
<td>bool Exists(string path)</td>
<td>判断指定路径目录是否存在，若存在，则返回ture，否则，返回false</td>
</tr>
<tr>
<td>DirectoryInfo GetParent()</td>
<td>查找指定路径的父目录，包括相对路径和绝对路径</td>
</tr>
<tr>
<td>void Move(string sourceDirName,string destDirName)</td>
<td>将文件或目录及其内容移动到新位置</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//创建多级目录</span></span><br><span class="line">       Directory.CreateDirectory(<span class="string">@&quot;D:\C#\ConsoleApp\&quot;</span>);</span><br><span class="line">       <span class="keyword">if</span> (Directory.Exists(<span class="string">@&quot;D:\C#\ConsoleApp\&quot;</span>))&#123;<span class="comment">//判断目录是否存在</span></span><br><span class="line">              Console.WriteLine(<span class="string">&quot;文件存在&quot;</span>);</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">             Console.WriteLine(<span class="string">&quot;文件不存在&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">        <span class="comment">//删除没有内容的目录</span></span><br><span class="line">        Directory.Delete(<span class="string">@&quot;D:\C#\ConsoleApp\&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="DirectoryInfo类"><a href="#DirectoryInfo类" class="headerlink" title="DirectoryInfo类"></a>DirectoryInfo类</h4><p><code>DirectoryInfo</code>类是一个非静态类，可以进行实例化。该类的功能与Directory类相似，也可以对文件的目录进行创建、删除、查询、移动等操作。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>属性或方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parent</td>
<td>属性，获取指定子目录的父目录</td>
</tr>
<tr>
<td>Root</td>
<td>属性，获取路径的根目录</td>
</tr>
<tr>
<td>Name</td>
<td>属性，获取当前DirectoryInfo对象的名称</td>
</tr>
<tr>
<td>Exists</td>
<td>属性，判断指定目录是否存在</td>
</tr>
<tr>
<td>Create()</td>
<td>方法，创建目录</td>
</tr>
<tr>
<td>GetDirectories(string path)</td>
<td>方法，获取当前目录的子目录</td>
</tr>
<tr>
<td>CreateSubdirectory(string path)</td>
<td>方法，在指定路径中创建一个或多个子目录</td>
</tr>
<tr>
<td>GetFiles()</td>
<td>方法，获取当前目录的文件列表</td>
</tr>
<tr>
<td>Delete()</td>
<td>方法，删除指定的目录及其内容</td>
</tr>
<tr>
<td>GetFileSystemInfos()</td>
<td>方法，获取当前目录的子目录和文件列表</td>
</tr>
<tr>
<td>MoveTo(string destDirName)</td>
<td>方法，将指定目录及其内容移到新位置</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">string</span> path = <span class="string">@&quot;D:\C#\ConsoleApp2\bin\Debug\Test&quot;</span>;</span><br><span class="line">    DirectoryInfo di = <span class="keyword">new</span> DirectoryInfo(path); <span class="comment">//创建一个DirectoryInfo对象</span></span><br><span class="line">    di.Create();</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;当前目录名称为：&quot;</span> + di.Name);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;父目录名为：&quot;</span> + di.Parent);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;根目录为：&quot;</span> + di.Root);</span><br><span class="line">    <span class="built_in">string</span> path1 = <span class="string">@&quot;D:\C#\ConsoleApp2\bin\Debug\netcoreapp3.1&quot;</span>;</span><br><span class="line">    DirectoryInfo di1 = <span class="keyword">new</span> DirectoryInfo(path1);</span><br><span class="line">    <span class="comment">//遍历目录下的所有文件，并找出包含P字符的文件名</span></span><br><span class="line">    FileInfo[] files1 = di1.GetFiles(<span class="string">&quot;*P*&quot;</span>);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> files1)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;包含P字符的文件名称为：&quot;</span> + item.Name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//当前目录名称为：Test</span></span><br><span class="line">    <span class="comment">//父目录名为：D:\C#\ConsoleApp2\bin\Debug</span></span><br><span class="line">    <span class="comment">//根目录为：D:\</span></span><br><span class="line">    <span class="comment">//包含P字符的文件名称为：ConsoleApp2.deps.json</span></span><br><span class="line">    <span class="comment">//包含P字符的文件名称为：ConsoleApp2.dll</span></span><br><span class="line">    <span class="comment">//包含P字符的文件名称为：ConsoleApp2.exe</span></span><br><span class="line">    <span class="comment">//包含P字符的文件名称为：ConsoleApp2.pdb</span></span><br><span class="line">    <span class="comment">//包含P字符的文件名称为：ConsoleApp2.runtimeconfig.dev.json</span></span><br><span class="line">    <span class="comment">//包含P字符的文件名称为：ConsoleApp2.runtimeconfig.json</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="FileStream类"><a href="#FileStream类" class="headerlink" title="FileStream类"></a>FileStream类</h3><h4 id="FileStream类简介"><a href="#FileStream类简介" class="headerlink" title="FileStream类简介"></a>FileStream类简介</h4><p><code>FileStream</code>类表示在磁盘或网络路径上指向文件的流，并提供了在文件中读写字节和字节数组的方法，通过这些方法FileStream对象可以读取诸如图像、声音、视频、文本文件等，也就是说FileStream能够处理各种数据文件。</p>
<figure class="highlight plaintext"><figcaption><span>FileStream类有很多重载的构造方法，其中最常用的是带有三个参数的构造方法</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileStream(string path, FileMode mode, FileAccess access);</span><br></pre></td></tr></table></figure>
<p>FileStream类一些常用的方法如下</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>int ReadByte()</td>
<td>从文件中读取一个字节，并将读取位置提升一个字节</td>
</tr>
<tr>
<td>void Flush()</td>
<td>清除此流的缓冲区，使得所有缓冲的数据都写入到文件中</td>
</tr>
<tr>
<td>void WriteByte(byte value)</td>
<td>将一个字节写入文件流的当前位置</td>
</tr>
<tr>
<td>void Write(byte[] array,int offset,int count)</td>
<td>从缓冲区读取数据将字节块写入该流</td>
</tr>
<tr>
<td>int Read(byte[] array,int offset,int count)</td>
<td>从流中读取字节块并将该数据写入给定缓冲区中</td>
</tr>
<tr>
<td>long Seek(long offset,SeekOrigin origin)</td>
<td>将该流的当前位置设置为给定值</td>
</tr>
</tbody>
</table>
</div>
<h4 id="FileStream类读取文件"><a href="#FileStream类读取文件" class="headerlink" title="FileStream类读取文件"></a>FileStream类读取文件</h4><p>FileStream类除了可以以字节的方式读取文件外，还可以对文件任意位置进行读取，在FileStream类的内部有一个文件指针用于维护文件的位置，该指针指向文件进行下一次读写操作的位置。大多数情况下，当打开文件时，指针就指向文件的开始位置，如果想修改指针的位置可以使用FileStream对象的Seek()方法。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FileStream aFile=File.OpenRead(<span class="string">&quot;Data.txt&quot;</span>);</span><br><span class="line">aFile.Seek(<span class="number">8</span>,SeekOrigin.Current);</span><br></pre></td></tr></table></figure>
<div class="note info modern"><p><code>Seek()</code>方法中的第一个参数表示文件指针移动距离（以字节为单位）；第二个参数表示开始计算的起始位置，用SeekOrigin枚举类型的一个值表示，Begin表示文件开始位置，Current表示文件当前位置，End表示文件结束位置。</p>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">byte</span>[] byteData = <span class="keyword">new</span> <span class="built_in">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="built_in">char</span>[] charData = <span class="keyword">new</span> <span class="built_in">char</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">using</span> (FileStream aFile=<span class="keyword">new</span> FileStream(<span class="string">&quot;Data.txt&quot;</span>,FileMode.Open))<span class="comment">//创建文件，创建好的文件放在项目路径\bin\Debug目录下</span></span><br><span class="line">            &#123;</span><br><span class="line">                aFile.Seek(<span class="number">0</span>, SeekOrigin.Begin);<span class="comment">//设置当前流的位置</span></span><br><span class="line">                <span class="comment">//从流中读取字节块到byteData数组中</span></span><br><span class="line">                aFile.Read(byteData, <span class="number">0</span>, <span class="number">1024</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//将字节数组和内部缓冲区的字节解码为字符数组</span></span><br><span class="line">            Decoder d = Encoding.Default.GetDecoder();</span><br><span class="line">            d.GetChars(byteData, <span class="number">0</span>, byteData.Length, charData, <span class="number">0</span>);</span><br><span class="line">            Console.WriteLine(charData);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info modern"><p>一个文字3个字节</p>
</div>
<h4 id="FileStream类写入文件"><a href="#FileStream类写入文件" class="headerlink" title="FileStream类写入文件"></a>FileStream类写入文件</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">byte</span>[] byteData;  <span class="comment">//定义一个字节数组</span></span><br><span class="line">            <span class="built_in">char</span>[] charData;  <span class="comment">//定义一个字符数组</span></span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//创建FileStream流对象，并使用using关键字包含执行代码</span></span><br><span class="line">                <span class="keyword">using</span> (FileStream aFile = <span class="keyword">new</span> FileStream(<span class="string">&quot;Data.txt&quot;</span>, FileMode.Create))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//写一段字符串并使用ToCharArray()方法转换为字符存储到字符数组中</span></span><br><span class="line">                    charData = <span class="string">&quot;Hello world by C#&quot;</span>.ToCharArray();</span><br><span class="line">                    byteData = <span class="keyword">new</span> <span class="built_in">byte</span>[charData.Length];</span><br><span class="line">                    Encoder e = Encoding.Default.GetEncoder(); <span class="comment">//使用Encoder类将字符数组转换为字节数组</span></span><br><span class="line">                    e.GetBytes(charData, <span class="number">0</span>, charData.Length, byteData, <span class="number">0</span>, <span class="literal">true</span>);</span><br><span class="line">                    aFile.Seek(<span class="number">0</span>, SeekOrigin.Begin); <span class="comment">//文件指针指向文件开始位置</span></span><br><span class="line">                    aFile.Write(byteData, <span class="number">0</span>, byteData.Length); <span class="comment">//开始将字节数组中的数据写入文件</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (IOException ex)<span class="comment">//处理相关异常</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;文件操作异常&quot;</span>);</span><br><span class="line">                Console.WriteLine(ex.ToString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="实例：复制文件"><a href="#实例：复制文件" class="headerlink" title="实例：复制文件"></a>实例：复制文件</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">string</span> source = <span class="string">&quot;Data.txt&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span> target = <span class="string">&quot;Data(1).txt&quot;</span>;</span><br><span class="line">            <span class="comment">//创建文件流</span></span><br><span class="line">            <span class="keyword">using</span> (FileStream fsRead=<span class="keyword">new</span> FileStream(source,FileMode.Open))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">using</span> (FileStream fsWrite=<span class="keyword">new</span> FileStream(target,FileMode.Create))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">byte</span>[] bytes = <span class="keyword">new</span> <span class="built_in">byte</span>[<span class="number">1024</span>];<span class="comment">//创建缓冲区</span></span><br><span class="line">                    <span class="comment">//循环读取文件</span></span><br><span class="line">                    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="built_in">int</span> r = fsRead.Read(bytes, <span class="number">0</span>, bytes.Length);</span><br><span class="line">                        <span class="keyword">if</span> (r &lt;= <span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        fsWrite.Write(bytes, <span class="number">0</span>, bytes.Length);<span class="comment">//写入文件</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;文件Data内容已写入文件Data(1)中&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="StreamReader类和StreamWriter类"><a href="#StreamReader类和StreamWriter类" class="headerlink" title="StreamReader类和StreamWriter类"></a>StreamReader类和StreamWriter类</h3><h4 id="StreamWriter类"><a href="#StreamWriter类" class="headerlink" title="StreamWriter类"></a>StreamWriter类</h4><p>StreamWriter类用于将字符和字符串写入到文件中，它实际上是先转换为FileStream对象，然后向文件中写入数据，所以在创建对象时可以通过FileStream类的对象来创建StreamWriter类的对象，同时也可以直接创建StreamWriter类对象。</p>
<figure class="highlight c#"><figcaption><span>当FileStream类的对象存在时，可以通过该对象来创建StreamWriter类的对象</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FileStream aFile = <span class="keyword">new</span> FileStream(<span class="string">&quot;Data.txt&quot;</span>,FileMode.CreateNew);<span class="comment">//FileMode.CreateNew模式可以创建第一个参数指定的文件，文件存在会引发异常</span></span><br><span class="line">StreamWriter sw = <span class="keyword">new</span> StreamWriter(aFile);</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><figcaption><span>还可以通过指定文件来创建StreamWriter类的对象</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">StreamWriter sw = <span class="keyword">new</span> StreamWriter(<span class="string">&quot;Data.txt&quot;</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//创建文件流对象,如果文件不存在则创建Data.txt文件</span></span><br><span class="line">        StreamWriter sw = <span class="keyword">new</span> StreamWriter(<span class="string">&quot;Data.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//向文件中写入一段文字</span></span><br><span class="line">        sw.WriteLine(<span class="string">&quot;传智播客是国内一流教育培训机构&quot;</span>);</span><br><span class="line">        sw.Close();     <span class="comment">//关闭当前流对象</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (IOException ex)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;文件操作异常&quot;</span>);</span><br><span class="line">        Console.WriteLine(ex.ToString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><figcaption><span>使用StreamWriter类的对象对文件进行追加内容的操作</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//对上面项目中的Data.txt进行追加操作</span></span><br><span class="line">        <span class="built_in">string</span> path = <span class="string">@&quot;Data.txt&quot;</span>;</span><br><span class="line">        StreamWriter sw = <span class="keyword">new</span> StreamWriter(path, <span class="literal">true</span>);</span><br><span class="line">        sw.WriteLine(<span class="string">&quot;网址：www.itcast.cn&quot;</span>); <span class="comment">//向文件中追加一段文字</span></span><br><span class="line">        sw.Close();            <span class="comment">//关闭当前流对象</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (IOException ex)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;文件操作异常&quot;</span>);</span><br><span class="line">        Console.WriteLine(ex.ToString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="StreamReader类"><a href="#StreamReader类" class="headerlink" title="StreamReader类"></a>StreamReader类</h4><p>当FileStream类的对象存在时，可以通过该对象来创建StreamWriter类的对象</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FileStream aFile = <span class="keyword">new</span> FileStream(<span class="string">&quot;Data.txt&quot;</span>,FileMode.Open);</span><br><span class="line">StreamReader sr = <span class="keyword">new</span> StreamReader(aFile);</span><br></pre></td></tr></table></figure>
<p>StreamReader类与StreamWriter类一样，可以通过具体文件路径的字符串来创建StreamReader类的对象</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">StreamReader sr = <span class="keyword">new</span> StreamReader(<span class="string">&quot;Data.txt&quot;</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">string</span> line;</span><br><span class="line">    <span class="built_in">string</span> path = <span class="string">@&quot;Data.txt&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        FileStream aFile = <span class="keyword">new</span> FileStream(path, FileMode.Open); <span class="comment">//打开路径为path的文件</span></span><br><span class="line">        StreamReader sr = <span class="keyword">new</span> StreamReader(aFile); <span class="comment">//创建读取流对象</span></span><br><span class="line">        line = sr.ReadLine(); <span class="comment">//读取文件中的第一行</span></span><br><span class="line">        <span class="keyword">while</span> (line != <span class="literal">null</span>)</span><br><span class="line">        &#123;<span class="comment">//如果文件不为空,则继续读取文件并输出至控制台</span></span><br><span class="line">            Console.WriteLine(line);</span><br><span class="line">            line = sr.ReadLine();</span><br><span class="line">        &#125;</span><br><span class="line">        sr.Close();               <span class="comment">//当文件读取完毕后，关闭当前流对象</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (IOException ex)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;文件操作异常&quot;</span>);</span><br><span class="line">        Console.WriteLine(ex.ToString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="实例：读写文件"><a href="#实例：读写文件" class="headerlink" title="实例：读写文件"></a>实例：读写文件</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">string</span> temp;</span><br><span class="line">    StreamWriter sw = <span class="keyword">new</span> StreamWriter(<span class="string">&quot;Data.txt&quot;</span>, <span class="literal">true</span>, Encoding.Default);</span><br><span class="line">    sw.WriteLine(<span class="string">&quot;传智播客是国内一流IT教育培训机构&quot;</span>);</span><br><span class="line">    sw.Close();          <span class="comment">//关闭StreamWriter文件流</span></span><br><span class="line">    StreamReader sr = <span class="keyword">new</span> StreamReader(<span class="string">&quot;Data.txt&quot;</span>, Encoding.Default);</span><br><span class="line">    <span class="comment">//逐行读取数据，如果未读取到数据则返回null</span></span><br><span class="line">    <span class="keyword">while</span> ((temp = sr.ReadLine()) != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(temp);</span><br><span class="line">    &#125;</span><br><span class="line">    sr.Close();         <span class="comment">//关闭StreamReader文件流</span></span><br><span class="line">    sr.Dispose();       <span class="comment">//释放StreamReader对象</span></span><br><span class="line">    sw.Dispose();       <span class="comment">//释放StreamWriter对象  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Path类"><a href="#Path类" class="headerlink" title="Path类"></a>Path类</h3><p><code>Path</code>类中包含了一系列用于对文件路径进行操作的方法</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>string Combine(params string[] paths)</td>
<td>将字符串或字符串数组组合成一个路径</td>
</tr>
<tr>
<td>string GetDirectoryName(string path)</td>
<td>返回指定路径字符串的目录信息</td>
</tr>
<tr>
<td>string GetExtension(string path)</td>
<td>返回指定路径字符串的扩展名</td>
</tr>
<tr>
<td>string GetFileName(string path)</td>
<td>返回指定路径字符串的文件名和扩展名</td>
</tr>
<tr>
<td>string GetFullPath(string path)</td>
<td>返回指定路径字符串的绝对路径</td>
</tr>
<tr>
<td>bool HasExtension(string path)</td>
<td>确定路径是否包括文件扩展名</td>
</tr>
<tr>
<td>string GetPathRoot(string path)</td>
<td>获取指定路径的根目录信息</td>
</tr>
<tr>
<td>string GetTempPath()</td>
<td>返回当前用户的临时文件夹的路径</td>
</tr>
<tr>
<td>string GetTempFileName()</td>
<td>创建磁盘上唯一命名的零字节的临时文件并返回该文件的完整路径</td>
</tr>
<tr>
<td>string ChangeExtension(string path,string extension)</td>
<td>更改路径字符串的扩展名</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">string</span> path = <span class="string">@&quot;D:\C#\ConsoleApp2\bin\Debug\netcoreapp3.1\Data.txt&quot;</span>;</span><br><span class="line">    <span class="comment">//修改文件的扩展名</span></span><br><span class="line">    <span class="built_in">string</span> str = Path.ChangeExtension(path, <span class="string">&quot;exe&quot;</span>);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;修改文件扩展名后：&quot;</span> + str);</span><br><span class="line">    <span class="comment">//拼接路径D:\C#\ConsoleApp2\bin\Debug\netcoreapp3.1\Data.txt</span></span><br><span class="line">    <span class="built_in">string</span> path1 = Path.Combine(<span class="string">@&quot;D:\C#\ConsoleApp2\bin\Debug\&quot;</span>, <span class="string">@&quot;netcoreapp3.1\Data.txt&quot;</span>);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;拼接后的路径：&quot;</span> + path1);</span><br><span class="line">    <span class="comment">//获取文件或文件夹的路径 </span></span><br><span class="line">    <span class="built_in">string</span> path2 = Path.GetDirectoryName(path);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;返回的目录信息为：&quot;</span> + path2);</span><br><span class="line">    <span class="comment">//获取扩展名 </span></span><br><span class="line">    <span class="built_in">string</span> ext = Path.GetExtension(path);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;获取扩展名为：&quot;</span> + ext);</span><br><span class="line">    <span class="comment">//获取文件名 </span></span><br><span class="line">    Console.WriteLine(<span class="string">&quot;包含扩展名：&quot;</span> + Path.GetFileName(path));</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;不包含扩展名：&quot;</span> + Path.GetFileNameWithoutExtension(path));</span><br><span class="line">    <span class="comment">//获取根目录信息</span></span><br><span class="line">    Console.WriteLine(<span class="string">&quot;根目录信息为：&quot;</span> + Path.GetPathRoot(path));</span><br><span class="line">    <span class="comment">//由相对路径获取绝对路径</span></span><br><span class="line">    <span class="built_in">string</span> str1 = Path.GetFullPath(<span class="string">&quot;Data.txt&quot;</span>);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;全路径名字：&quot;</span> + str1);</span><br><span class="line">    <span class="comment">//修改文件扩展名后：D:\C#\ConsoleApp2\bin\Debug\netcoreapp3.1\Data.exe</span></span><br><span class="line">    <span class="comment">//拼接后的路径：D:\C#\ConsoleApp2\bin\Debug\netcoreapp3.1\Data.txt</span></span><br><span class="line">    <span class="comment">//返回的目录信息为：D:\C#\ConsoleApp2\bin\Debug\netcoreapp3.1</span></span><br><span class="line">    <span class="comment">//获取扩展名为：.txt</span></span><br><span class="line">    <span class="comment">//包含扩展名：Data.txt</span></span><br><span class="line">    <span class="comment">//不包含扩展名：Data</span></span><br><span class="line">    <span class="comment">//根目录信息为：D:\</span></span><br><span class="line">    <span class="comment">//全路径名字：D:\C#\ConsoleApp2\bin\Debug\netcoreapp3.1\Data.txt</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="BufferedStream类"><a href="#BufferedStream类" class="headerlink" title="BufferedStream类"></a>BufferedStream类</h3><p>前面的各种操作类及方法都是将文件存储到硬盘，但有时希望将文件临时存储到缓冲区，以便读取。<br>为此，c#中提供<code>BufferedStream</code>类，该类必须与其他流一起使用，并将这些流写入内存中，这样可以提高读取和写入速度。<br>BufferedStream提供了几个常用的操作方法，Read()方法、Write()方法和Flush()方法</p>
<ol>
<li><p>Read()方法<br><code>Read()</code>方法用于读取缓冲区中的数据</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">int</span> <span class="title">Read</span>(<span class="params"><span class="built_in">byte</span>[] array,<span class="built_in">int</span> offset, <span class="built_in">int</span> count</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Write()方法<br><code>Write()</code>方法用于将字节复制到缓冲流，并在缓冲流内的当前位置继续写入字节</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">int</span> <span class="title">Write</span>(<span class="params"><span class="built_in">byte</span>[] array,<span class="built_in">int</span> offset,<span class="built_in">int</span> count</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Flush()方法<br><code>Flush()</code>方法用于清除当前流中的所有缓冲区，使得所有缓冲的数据都被写入到存储设备中</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Flush</span>()</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight c#"><figcaption><span>创建Data1.txt文件（输入测试BufferedStream类成功！）与Data2.txt文件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">int</span> i;</span><br><span class="line">    FileStream myStream1, myStream2;</span><br><span class="line">    BufferedStream myBStream1, myBStream2;</span><br><span class="line">    <span class="built_in">byte</span>[] myByte = <span class="keyword">new</span> <span class="built_in">byte</span>[<span class="number">1024</span>]; <span class="comment">//定义字节数组</span></span><br><span class="line">    Console.WriteLine(<span class="string">&quot;读写前&quot;</span>);</span><br><span class="line">    Print(<span class="string">&quot;Data2.txt&quot;</span>);</span><br><span class="line">    myStream1 = File.OpenRead(<span class="string">&quot;Data1.txt&quot;</span>);    <span class="comment">//打开文件</span></span><br><span class="line">    myStream2 = File.OpenWrite(<span class="string">&quot;Data2.txt&quot;</span>);</span><br><span class="line">    myBStream1 = <span class="keyword">new</span> BufferedStream(myStream1); <span class="comment">//实例化缓冲流对象</span></span><br><span class="line">    myBStream2 = <span class="keyword">new</span> BufferedStream(myStream2);</span><br><span class="line">    <span class="comment">//开始读取myBStream1流对象中的内容，返回读取的字节数</span></span><br><span class="line">    i = myBStream1.Read(myByte, <span class="number">0</span>, <span class="number">1024</span>);</span><br><span class="line">    <span class="keyword">while</span> (i &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        myBStream2.Write(myByte, <span class="number">0</span>, i);<span class="comment">//向myBStream2流对象中写入内容</span></span><br><span class="line">        i = myStream1.Read(myByte, <span class="number">0</span>, <span class="number">1024</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    myBStream2.Flush(); <span class="comment">//清空当前流的缓冲空间</span></span><br><span class="line">    myStream1.Close();</span><br><span class="line">    myStream2.Close(); <span class="comment">//关闭当前流对象</span></span><br><span class="line">    Console.WriteLine(<span class="string">&quot;读写后&quot;</span>);</span><br><span class="line">    Print(<span class="string">&quot;Data2.txt&quot;</span>);</span><br><span class="line">    <span class="comment">//读写前</span></span><br><span class="line">    <span class="comment">//文件Data2.txt内容为：</span></span><br><span class="line">    <span class="comment">//读写后</span></span><br><span class="line">    <span class="comment">//文件Data2.txt内容为：测试BufferedStream类成功！</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Print</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> (StreamReader sr = <span class="keyword">new</span> StreamReader(path, Encoding.Default))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> content = sr.ReadToEnd();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;文件&#123;0&#125;内容为：&#123;1&#125;&quot;</span>, path, content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info modern"><p>由于缓冲流在内存的缓冲区中直接读取数据，而不是从磁盘中直接读取数据，所以它处理大容量的文件尤为合适。</p>
</div>
<h3 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h3><p>在程序开发中有时需要传输和保存对象，但对象是无法直接进行数据传输和保存的，所以C#中提供了序列化和反序列化。<strong>序列化是指将对象状态转换为可传输或可保存的过程</strong>，此时必须使用Serializable标签标记该对象。<strong>反序列化是指将存储的流转换为对象的过程</strong>。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.Serialization.Formatters.Binary;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span>&#123;</span><br><span class="line">            Person p = <span class="keyword">new</span> Person();<span class="comment">//构造一个用于序列化操作的对象</span></span><br><span class="line">            p.Name = <span class="string">&quot;IT&quot;</span>;</span><br><span class="line">            p.Age = <span class="number">8</span>;</span><br><span class="line">            <span class="comment">//构造序列化对象</span></span><br><span class="line">            BinaryFormatter bf = <span class="keyword">new</span> BinaryFormatter();</span><br><span class="line">            <span class="comment">//构造输出流</span></span><br><span class="line">            <span class="keyword">using</span> (FileStream fs=<span class="keyword">new</span> FileStream(<span class="string">&quot;Data.txt&quot;</span>,FileMode.OpenOrCreate,FileAccess.ReadWrite))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//进行序列化输出操作</span></span><br><span class="line">                bf.Serialize(fs, p);</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;序列化操作成功，对象已写入文件&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">using</span> (FileStream fs1 = <span class="keyword">new</span> FileStream(<span class="string">&quot;Data.txt&quot;</span>, FileMode.OpenOrCreate, FileAccess.ReadWrite))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//进行反序列化，返回一个object类型的对象</span></span><br><span class="line">                <span class="built_in">object</span> obj = bf.Deserialize(fs1);</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;反序列化对象数据为&quot;</span> + obj);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//序列化操作成功，对象已写入文件</span></span><br><span class="line">        <span class="comment">//反序列化对象数据为Name:IT,Age:8</span></span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="meta">Serializable</span>]<span class="comment">//使用Serializable标签标记Person类</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title">Person</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Age</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">string</span>.Format(<span class="string">&quot;Name:&#123;0&#125;,Age:&#123;1&#125;&quot;</span>, <span class="keyword">this</span>.Name, <span class="keyword">this</span>.Age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="使用ADO-NET操作数据库"><a href="#使用ADO-NET操作数据库" class="headerlink" title="使用ADO.NET操作数据库"></a>使用ADO.NET操作数据库</h2><h3 id="认识数据库"><a href="#认识数据库" class="headerlink" title="认识数据库"></a>认识数据库</h3><p>数据库（Database，DB）是按照数据结构来组织、存储和管理数据的仓库，其本身可看作电子化的文件柜，用户可以对文件中的数据进行增加、删除、修改、查找等操作。</p>
<p><strong>1.数据结构化</strong><br>数据库系统实现了整体数据的结构化，这是数据库的最主要特征之一。这里所说的“整体”结构化，是指在数据库中的数据不只是针对某个应用，而是面向全组织，面向整体的。</p>
<p><strong>2.实现数据共享</strong><br>因为数据是面向整体的，所以数据可以被多个用户、多个应用程序共享使用，可以大幅度地减少数据冗余，节约存储空间，避免数据之间的不相容性与不一致性。</p>
<p><strong>3.数据独立性高</strong><br>数据的独立性包含逻辑独立性和物理独立性，其中，逻辑独立性是指数据库中数据的逻辑结构和应用程序相互独立，物理独立性是指数据物理结构的变化不影响数据的逻辑结构。</p>
<p><strong>4.数据统一管理与控制</strong><br>数据的统一控制包含安全控制、完整控制和并发控制。简单来说就是防止数据丢失、确保数据的正确有效，并且在同一时间内，允许用户对数据进行多路存取，防止用户之间的异常交互。</p>
<ul>
<li>常见的数据库有<code>Oracle</code>、<code>SQL Server</code>、<code>MySQL</code>、<code>SQLite</code>等</li>
<li><code>Oracle</code>是一个大型数据库，具有良好的兼容性、可移值性和可可连接性</li>
<li><code>SQL Server</code>具有强大、灵活、基于Web的应用程序管理功能，而且界面友好、易于操作，但是只能在Windows上运行，对操作系统稳定性要求高</li>
<li><code>MySQL</code>是一个多用户、多线程的小型数据库服务器，存储数据速度较快，适合对数据要求不是很严格的情况</li>
<li><code>SQLite</code>是一个轻量级的数据库，常用于Android应用程序开发</li>
</ul>
<h3 id="ADO-NET常用类"><a href="#ADO-NET常用类" class="headerlink" title="ADO.NET常用类"></a>ADO.NET常用类</h3><p>ADO.NET是微软.NET数据库访问架构，它是数据库应用程序和数据源之间沟通的桥梁，主要提供一个面向对象的数据访问架构，用于实现数据的访问功能。</p>
<p>ADO.NET的名称起源于ADO（ActiveX Data Objects)，ADO是一个COM组件库，也就是一个<strong>通用框架类库</strong>。该类库是在.NET编程环境中使用的数据访问接口，而ADO.NET是与C#、.NET Framework一起使用的类集的名称。ADO.NET有两部分组成，分别是<strong>数据提供程序</strong>（Provider）与<strong>数据集</strong>（DataSet）。</p>
<ul>
<li><strong>数据提供程序</strong>（Provider）：能与数据库保持连接，并且可以执行SQL命令，还可以操纵数据集。</li>
<li><strong>数据集</strong>（DataSet）：能在与数据库断开连接的情况下，对数据库中的数据进行操作。</li>
</ul>
<p>在使用ADO.NET对数据库进行操作时，通常会用到5个类，分别是<code>Connection</code>类、<code>Command</code>类、<code>DataReader</code>类、<code>DataAdapter</code>类以及<code>DataSet</code>类。</p>
<ol>
<li><p><code>Connection</code>类<br>Connection类主要用于<strong>建立与断开数据库的连接</strong>，通过该类可以获取当前数据连接的状态。在.NET平台下，由于SQL Server数据库提供了一些额外的操作菜单便于对数据库进行操作，因此推荐使用SQL Server数据库。</p>
</li>
<li><p><code>Command</code>类<br>Command类主要用于<strong>对数据库中的数据进行增、删、改、查的操作</strong>，该类的对象可以用于执行返回数据、修改数据、运行存储过程、发送或检索参数信息的数据库命令，根据在Command类的对象中传递的SQL语句的不同，可以调用相应的方法来执行对应的SQL语句。</p>
</li>
<li><p><code>DataReader</code>类<br>DataReader类用于<strong>读取从数据库中查询到的数据</strong>，在读取数据时，只能向前读不能向后读，同时也不能修该类对象中的数据。当与数据库的连接断开时，该类对象中的数据会被清除。</p>
</li>
<li><p><code>DataAdapter</code>类<br>DataAdapter类可以看作是<strong>数据库与<code>DataSet</code>类之间的一个桥梁</strong>，主要使用Command类的对象在数据源中执行SQL命令，以便将数据加载到DataSet数据集中，并确保DataSet数据集中数据的更改与数据源保持一致。</p>
</li>
<li><p><code>DataSet</code>类<br>DataSet类与 DataReader 类相似，都<strong>用于读取从数据库中查询到的数据</strong>，不同的是DataSet类中的数据不仅可以多次重复读取，还可以修改DataSet类中读取到的数据。</p>
</li>
</ol>
<h3 id="下载并安装SQL-Server数据库"><a href="#下载并安装SQL-Server数据库" class="headerlink" title="下载并安装SQL Server数据库"></a>下载并安装SQL Server数据库</h3><p>下载安装……</p>
<h3 id="创建SQL-Server数据库"><a href="#创建SQL-Server数据库" class="headerlink" title="创建SQL Server数据库"></a>创建SQL Server数据库</h3><p><strong>方式1：传统手动创建SQL Server数据库</strong><br>图形界面操作<br><strong>方式2：使用SQL语句创建SQL Server数据库</strong><br>【新建查询】，在窗口中的出现一个空白的页面，供编写SQL语句使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">USE master</span><br><span class="line"><span class="comment">--检查数据库是否存在</span></span><br><span class="line">IF (<span class="keyword">EXISTS</span>(<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sysdatabases <span class="keyword">WHERE</span> name <span class="operator">=</span><span class="string">&#x27;School&#x27;</span>)) </span><br><span class="line">  <span class="keyword">DROP</span> DATABASE School     <span class="comment">--如果已经存在School数据库，则删除School</span></span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE School     <span class="comment">--数据库名为School</span></span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">PRIMARY</span> </span><br><span class="line">(</span><br><span class="line"> NAME <span class="operator">=</span> School,                         <span class="comment">--主数据文件逻辑名称</span></span><br><span class="line"> <span class="comment">--数据文件路径及物理名称(D:\school路径需存在)</span></span><br><span class="line"> FILENAME <span class="operator">=</span> <span class="string">&#x27;D:\school\School.mdf&#x27;</span>, </span><br><span class="line"> SIZE <span class="operator">=</span> <span class="number">5</span>MB,                             <span class="comment">--初始大小</span></span><br><span class="line"> MAXSIZE <span class="operator">=</span> UNLIMITED,                  <span class="comment">--最大尺寸</span></span><br><span class="line"> FILEGROWTH <span class="operator">=</span> <span class="number">1</span>MB                       <span class="comment">--自动增长的增量</span></span><br><span class="line">)</span><br><span class="line">LOG <span class="keyword">ON</span></span><br><span class="line">( </span><br><span class="line">NAME <span class="operator">=</span> School_log,                       <span class="comment">--日志文件逻辑名称</span></span><br><span class="line"><span class="comment">--日志文件路径及物理名称(D:\school路径需存在)</span></span><br><span class="line">FILENAME <span class="operator">=</span> <span class="string">&#x27;D:\school\School_log.ldf&#x27;</span>, </span><br><span class="line">SIZE <span class="operator">=</span> <span class="number">2</span>MB,                                  <span class="comment">--初始大小</span></span><br><span class="line">MAXSIZE <span class="operator">=</span> <span class="number">4</span>MB,                              <span class="comment">--最大尺寸</span></span><br><span class="line">FILEGROWTH <span class="operator">=</span> <span class="number">10</span><span class="operator">%</span>                            <span class="comment">--自动增长的增量</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="创建SQL-Server数据库表"><a href="#创建SQL-Server数据库表" class="headerlink" title="创建SQL Server数据库表"></a>创建SQL Server数据库表</h3><p><strong>方式1：传统手动创建SQL Server数据库表</strong><br>图形界面操作<br><strong>方式2：使用SQL语句创建数据库表</strong><br>【新建查询】，在窗口中的出现一个空白的页面，供编写SQL语句使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">use School    <span class="comment">--表示在名为School的数据库中创建表</span></span><br><span class="line">go</span><br><span class="line">if <span class="keyword">exists</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sysobjects <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;Student&#x27;</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">select</span> <span class="string">&#x27;该表已存在&#x27;</span></span><br><span class="line">    <span class="keyword">drop</span> <span class="keyword">table</span> Student    <span class="comment">--删除表</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> Student</span><br><span class="line">    (</span><br><span class="line">        <span class="comment">--设置为主键和自增长列，起始值为1，每次自增1</span></span><br><span class="line">        Id  <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>  <span class="keyword">identity</span>(<span class="number">1</span>,<span class="number">1</span>)  <span class="keyword">primary</span> key, </span><br><span class="line">        Name nvarchar(<span class="number">25</span>) <span class="keyword">null</span>,</span><br><span class="line">        Age  <span class="type">int</span>  <span class="keyword">null</span>,</span><br><span class="line">        Sex  <span class="type">nchar</span>(<span class="number">10</span>) <span class="keyword">null</span>,</span><br><span class="line">    )</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="使用ADO-NET访问数据库"><a href="#使用ADO-NET访问数据库" class="headerlink" title="使用ADO.NET访问数据库"></a>使用ADO.NET访问数据库</h3><h4 id="使用Connection对象连接SQL-Server数据库"><a href="#使用Connection对象连接SQL-Server数据库" class="headerlink" title="使用Connection对象连接SQL Server数据库"></a>使用Connection对象连接SQL Server数据库</h4><div class="note info modern"><p>Connection类有4种名称，分别是<code>SqlConnection</code>、<code>OracleConnection</code>、<code>OleDBConnection</code>和<code>OdbcConnection</code><br>其中<strong>SqlConnection类用于连接SQL Server数据库</strong>，该类的命名空间为<code>System.Data.SqlClient</code>(<strong>连接数据库需要导包</strong>)</p>
</div>
<p><strong>1.定义连接数据库的字符串</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//第1种方式：</span><br><span class="line">server=服务器名称/数据库的实例名;uid=登录名;pwd=密码;database=数据库名称</span><br><span class="line">//第2种方式：</span><br><span class="line">Data Source=服务器名称\数据库实例名;Initial Catalog=数据库名称;User ID=用户名;</span><br><span class="line">Password=密码</span><br></pre></td></tr></table></figure><br>sever与Data Source 的值可以是IP地址或者数据库所在计算机名称，如果访问的是本机数据库或使用默认数据库实例名，则可以使用<code>.</code>代替。</p>
<p><strong>2. 使用SqlConnection类的对象连接SQL Server数据库</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//第1步：创建SqlConnection类的实例</span><br><span class="line">SqlConnection 连接对象名 = new SqlConnection( 连接数据库的字符串 );</span><br><span class="line">//第2步：打开数据库连接</span><br><span class="line">数据库连接对象.Open();</span><br><span class="line">//第3步：关闭数据库连接</span><br><span class="line">数据库连接对象.Close();</span><br></pre></td></tr></table></figure></p>
<div class="note warning modern"><p>如果打开数据库连接是使用异常处理，需要将关闭数据库连接的语句放在<code>finally</code>语句中，保证无论程序是否发生异常都可以将数据库连接断开，并释放资源。</p>
</div>
<p>除了使用异常处理的方式释放资源外，还可以使用using语句的方式释放资源，具体语法如下所示：<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span>(SqlConnection 连接对象名 = <span class="keyword">new</span> SQLConnection( 连接数据库的字符串 ))&#123;</span><br><span class="line">    <span class="comment">//打开数据库连接</span></span><br><span class="line">    <span class="comment">//对数据库相关操作的语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<div class="note info modern"><p>关键字<code>using</code>有两个作用，一是引用命名空间，二是创建非托管资源对象。</p>
</div>
<details class="toggle"><summary class="toggle-button" style>连接数据库</summary><div class="toggle-content"><p><strong>1.创建程序</strong></p>
<ul>
<li>项目名称：ConnectionForm</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.窗体设计</strong><br>步骤</p>
<ul>
<li><code>Form1.cs</code>重命名为<code>ConnectionForm</code></li>
<li><code>Text</code>:连接数据库</li>
<li>添加一个<strong>Button控件</strong>，<code>Name</code>:buttonCon,<code>Text</code>:连接数据库</li>
</ul>
<p><strong>3.实现连接SQL Server数据库</strong></p>
<figure class="highlight c#"><figcaption><span>按钮Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> System.Data.SqlClient;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConnectionForm</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">ConnectionForm</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ConnectionForm</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buttonCon_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//编写连接数据库的字符串</span></span><br><span class="line">            <span class="built_in">string</span> connStr = <span class="string">&quot;Data source=.;Initial Catalog = School;User ID = sa;Password=root&quot;</span>;</span><br><span class="line">            <span class="comment">//创建SqlConnection 的实例</span></span><br><span class="line">            SqlConnection conn = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                conn = <span class="keyword">new</span> SqlConnection(connStr);</span><br><span class="line">                conn.Open();       <span class="comment">//打开数据库连接</span></span><br><span class="line">                MessageBox.Show(<span class="string">&quot;数据库连接成功！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;数据库连接失败&quot;</span> + ex.Message);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">finally</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (conn!=<span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    conn.Close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.使用using语句释放资源</strong></p>
<figure class="highlight c#"><figcaption><span>17~34行代码可替换</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> (SqlConnection conn=<span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">    &#123;</span><br><span class="line">        conn.Open();<span class="comment">//打开数据库</span></span><br><span class="line">        MessageBox.Show(<span class="string">&quot;数据库连接成功！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception ex)</span><br><span class="line">&#123;</span><br><span class="line">    MessageBox.Show(<span class="string">&quot;数据库连接失败&quot;</span> + ex.Message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details>
<h4 id="使用Command对象操作数据库"><a href="#使用Command对象操作数据库" class="headerlink" title="使用Command对象操作数据库"></a>使用Command对象操作数据库</h4><div class="note info modern"><p><code>Command</code>类在<code>System.Data.SqlClient</code>命名空间下对应的类名为<code>SqlCommand</code></p>
</div>
<p><strong>1.创建SqlCommand类的实例</strong><br>创建SqlCommand类的实例有两种方式，一种是通过命令类型为Text来创建，另一种是通过命令类型为StoredProcedure来创建<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//第1种方式:通过命令类型为Text来创建SqlCommand类的实例</span><br><span class="line">SqlCommand SqlCommand类的实例名 = new SqlCommand(SQL语句,数据库连接类的实例);</span><br><span class="line">//第2种方式:通过命令类型为StoredProcedure来创建SqlCommand类的实例</span><br><span class="line">SqlCommand SqlCommand类的实例名 = new SqlCommand(存储过程名称,数据库连接类的实例);</span><br></pre></td></tr></table></figure></p>
<p>需要注意的是，通过第二种方式创建SqlCommand类的实例过程中，存储过程必须是当前数据库实例中的存储过程。在调用带参数的存储过程时，需要在SqlCommand类的实例中添加需要的存储过程参数。为存储过程添加参数需要调用属性Parameters来设置，具体语法如下所示：<br><code>SqlCommand 类实例.Parameters.Add( 参数名 , 参数值 );</code></p>
<p><strong>2.使用SqlCommand类操作数据库</strong><br>在使用SqlCommand类执行对数据库表中的数据进行操作时，可以通过两种方式来实现，一种是执行非查询SQL语句的操作，即增加、修改、删除操作，一种是执行查询SQL语句的操作<br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第1种方式：执行非查询SQL语句</span></span><br><span class="line">SqlCommand 类的实例.ExecuteNonQuery();</span><br><span class="line"><span class="comment">//该方法返回值-1表示SQL语句执行失败，返回0时，表示执行的SQL语句对当前数据表的数据没有影响</span></span><br><span class="line"><span class="comment">//第2种：执行查询SQL语句</span></span><br><span class="line">SqlDataReader dr = SqlCommand 类的实例.ExecuteReader();</span><br><span class="line"><span class="comment">//返回一个 SqlDataReader 类型的值，遍历可以得到返回值</span></span><br><span class="line"><span class="built_in">int</span> <span class="keyword">value</span> = SqlCommand 类的实例.ExecuteScalar();</span><br><span class="line"><span class="comment">//不返回查询结果，只返回一个值，如查询表中指定信息行数</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<details class="toggle"><summary class="toggle-button" style>数据库连接实现注册</summary><div class="toggle-content"><p><strong>1.创建程序</strong></p>
<ul>
<li>项目名称：RegistrationForm</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.窗体设计</strong><br>步骤</p>
<ul>
<li><code>Form1.cs</code>重命名为<code>RegistrationForm</code></li>
<li><code>Text</code>:注册</li>
<li>添加2个<strong>Label控件</strong>，设置<code>Text</code>为：“用户”“注册”</li>
<li>添加2个<strong>TextBox控件</strong>，设置<code>Name</code>为：”tbName””tbPwd”，密码对应的控件<code>PasswordChar</code>属性设置为<code>*</code></li>
<li>添加1个<strong>Button控件</strong>，<code>Name</code>:btnRegister,<code>Text</code>:注册</li>
</ul>
<p><strong>3.创建数据库表Userinfo</strong></p>
<p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">use School</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Userinfo(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">identity</span>(<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">primary</span> key,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    password <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><br>由SQL语句可知，创建的Userinfo表中的id字段为主键和自增长列，起始值为1，每次自增1。</p>
<p><strong>4.实现注册功能</strong></p>
<p><figure class="highlight c#"><figcaption><span>注册按钮Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnRegister_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//编写连接数据库的字符串</span></span><br><span class="line">    <span class="built_in">string</span> connStr = <span class="string">&quot;server=.;uid=sa;pwd=root;database=School&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn=<span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            <span class="built_in">string</span> sql = <span class="string">&quot;insert into Userinfo(name,password) values(&#x27;&#123;0&#125;&#x27;,&#x27;&#123;1&#125;&#x27;)&quot;</span>;</span><br><span class="line">            <span class="comment">//填充SQL语句</span></span><br><span class="line">            sql = <span class="built_in">string</span>.Format(sql, tbName.Text, tbPwd.Text);</span><br><span class="line">            <span class="comment">//创建SqlCommand对象</span></span><br><span class="line">            SqlCommand cmd = <span class="keyword">new</span> SqlCommand(sql, conn);</span><br><span class="line">            <span class="built_in">int</span> returnvalue = cmd.ExecuteNonQuery();<span class="comment">//执行SQL语句</span></span><br><span class="line">            <span class="comment">//判断SQL是否执行成功</span></span><br><span class="line">            <span class="keyword">if</span> (returnvalue!=<span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;注册成功！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;注册失败&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>5.运行程序</strong><br>注册成功后去数据库查看。</p>
</div></details>
<h4 id="使用DataReader对象查询数据库"><a href="#使用DataReader对象查询数据库" class="headerlink" title="使用DataReader对象查询数据库"></a>使用DataReader对象查询数据库</h4><div class="note info modern"><p>在<code>System.Data.SqlClient</code>命名空间中，<code>DataReader</code>类对应的类名是<code>SqlDataReader</code></p>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第1步：执行SqlCommand对象中的ExecuteReader()方法</span></span><br><span class="line">SqlDataReader dr=SqlCommand 类的实例.ExecuteReader();</span><br><span class="line"><span class="comment">//第2步：遍历SqlDataReader对象中的数据</span></span><br><span class="line">dr.read();</span><br><span class="line"><span class="comment">//第3步：关闭SqlDataReader对象</span></span><br><span class="line">dr.Close();</span><br></pre></td></tr></table></figure>
<p>read()方法用于判断该类的对象中是否由数据，并且指向SqlDataReader对象中的数据的下一条记录。<br>如果read()方法的返回值为true。则可以读取该条记录，否则无法读取</p>
<details class="toggle"><summary class="toggle-button" style>连接数据库查询数据</summary><div class="toggle-content"><p><strong>1.创建程序</strong></p>
<ul>
<li>项目名称：QueryUserinfoForm</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.窗体设计</strong><br>步骤</p>
<ul>
<li><code>Form1.cs</code>重命名为<code>QueryForm</code></li>
<li><code>Text</code>:查询数据</li>
<li>添加2个<strong>Label控件</strong>，设置<code>Text</code>为：“用户名”“没有符合条件的结果”后者<code>Name</code>:lbResult</li>
<li>添加1个<strong>TextBox控件</strong>，设置<code>Name</code>为：”tbName”</li>
<li>添加1个<strong>Button控件</strong>，<code>Name</code>:btnQuery,<code>Text</code>:查询</li>
</ul>
<p><strong>3.实现查询功能</strong></p>
<figure class="highlight c#"><figcaption><span>查询按钮Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnQuery_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//编写连接数据库的字符串</span></span><br><span class="line">    <span class="built_in">string</span> connStr = <span class="string">&quot;server=.;uid=sa;pwd=root;database=School&quot;</span>;</span><br><span class="line">    SqlDataReader dr = <span class="literal">null</span>;<span class="comment">//定义SqlDataReader 类的对象</span></span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn=<span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();<span class="comment">//打开数据库连接</span></span><br><span class="line">            <span class="built_in">string</span> sql = <span class="string">&quot;select id,password from Userinfo where name=&#x27;&#123;0&#125;&#x27;&quot;</span>;</span><br><span class="line">            sql = <span class="built_in">string</span>.Format(sql, tbName.Text);<span class="comment">//填充SQL语句</span></span><br><span class="line">            SqlCommand cmd = <span class="keyword">new</span> SqlCommand(sql, conn);</span><br><span class="line">            dr = cmd.ExecuteReader();<span class="comment">//执行SQL语句</span></span><br><span class="line">            <span class="comment">//判断是否读取到信息</span></span><br><span class="line">            <span class="keyword">if</span> (dr.Read())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//读取指定用户名对应的用户编号和密码</span></span><br><span class="line">                <span class="built_in">string</span> msg = <span class="string">&quot;用户编号：&quot;</span> + dr[<span class="number">0</span>] + <span class="string">&quot; 密码：&quot;</span> + dr[<span class="number">1</span>];</span><br><span class="line">                lbResult.Text = msg;<span class="comment">//将msg值显示在界面上</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                lbResult.Text = <span class="string">&quot;没有符合条件的结果&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;查询失败！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">finally</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (dr!=<span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            dr.Close();<span class="comment">//关闭SqlDataReader类对象</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.运行结果</strong><br><code>F5</code></p>
</div></details>
<h4 id="使用DataAdapter与DataSet对象操作数据库"><a href="#使用DataAdapter与DataSet对象操作数据库" class="headerlink" title="使用DataAdapter与DataSet对象操作数据库"></a>使用DataAdapter与DataSet对象操作数据库</h4><div class="note info modern"><p>在<code>System.Data.SqlClient</code>命名空间中，<code>DataAdapter</code>类对应的类名是<code>SqlDataAdapter</code></p>
</div>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第1步：创建 SqlDataAdapter 类的对象</span></span><br><span class="line">SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(SQL语句, 数据库连接类的实例);</span><br><span class="line"><span class="comment">//第2步：创建DataSet类的对象</span></span><br><span class="line">DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line"><span class="comment">//第3步：使用SqlDataAdapter对象sda将查询结果填充到Dataset对象ds中</span></span><br><span class="line">sda.Fill(ds);</span><br></pre></td></tr></table></figure>
<p><code>DataSet</code>类也可以替换为<code>DataTable</code>类，<code>DataSet</code>类中的数据存储实际是通过<code>DataTable</code>类实现的。</p>
<details class="toggle"><summary class="toggle-button" style>连接数据库查询数据</summary><div class="toggle-content"><p><strong>1.创建程序</strong></p>
<ul>
<li>项目名称：QueryAllNameForm</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.窗体设计</strong><br>步骤</p>
<ul>
<li><code>Form1.cs</code>重命名为<code>QueryAllNameForm.cs</code></li>
<li><code>Text</code>:查询数据</li>
<li>添加1个<strong>Button控件</strong>，<code>Name</code>:btnQuery,<code>Text</code>:查询全部用户名</li>
<li>添加1个<strong>ListBox控件</strong>，用于显示查询出的所有用户信息，设置<code>Name</code>:lbList</li>
</ul>
<p>3.实现查询全部用户名功能</p>
<figure class="highlight c#"><figcaption><span>【查询全部用户】按钮Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnQuery_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//编写连接数据库的字符串</span></span><br><span class="line">    <span class="built_in">string</span> connStr = <span class="string">&quot;Data Source=.;Initial Catalog=School;;User ID=sa;Password=root&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn=<span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();<span class="comment">//打开数据库连接</span></span><br><span class="line">            <span class="built_in">string</span> sql = <span class="string">&quot;select name from Userinfo&quot;</span>;</span><br><span class="line">            <span class="comment">//创建SqlDataAdapter类的对象</span></span><br><span class="line">            SqlDataAdapter  sda = <span class="keyword">new</span> SqlDataAdapter(sql, conn);</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();<span class="comment">//创建DataSet类的对象</span></span><br><span class="line">            <span class="comment">//使用SqlDataAdapter对象sda将查询的结果填充到DataSet对象ds中</span></span><br><span class="line">            sda.Fill(ds);S</span><br><span class="line">            <span class="comment">//设置ListBox控件的数据源（DataSource）属性</span></span><br><span class="line">            lbList.DataSource = ds.Tables[<span class="number">0</span>];</span><br><span class="line">            <span class="comment">//在listBox控件中显示name列的值</span></span><br><span class="line">            lbList.DisplayMember = ds.Tables[<span class="number">0</span>].Columns[<span class="number">0</span>].ToString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;查询失败&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.将实例中的DataSet对象替换为DataTable对象</strong><br>替换11-19行替换为如下实现同样的效果</p>
<p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建SqlDataAdapter类的对象</span></span><br><span class="line">SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(sql, conn);</span><br><span class="line"><span class="comment">//创建DataTable类的对象</span></span><br><span class="line">DataTable dt = <span class="keyword">new</span> DataTable();</span><br><span class="line"><span class="comment">//使用SqlDataAdapter对象sda将查询的结果填充到DataTable对象dt中</span></span><br><span class="line">sda.Fill(dt);</span><br><span class="line"><span class="comment">//设置ListBox控件的数据源（DataSource）属性</span></span><br><span class="line">lbList.DataSource = dt;</span><br><span class="line"><span class="comment">//在listBox控件中显示name列的值</span></span><br><span class="line">lbList.DisplayMember = dt.Columns[<span class="number">0</span>].ToString();</span><br></pre></td></tr></table></figure><br><strong>5.运行程序</strong><br><code>F5</code></p>
</div></details>
<h2 id="综合项目——图书管理系统"><a href="#综合项目——图书管理系统" class="headerlink" title="综合项目——图书管理系统"></a>综合项目——图书管理系统</h2><h3 id="项目分析"><a href="#项目分析" class="headerlink" title="项目分析"></a>项目分析</h3><ul>
<li>实现项目之前的首要任务就是对项目进行分析，如需求分析、可行性分析</li>
<li>需求分析是根据用户的需求进行分析</li>
<li>可行性分析是对开发该项目在技术可行性、经济可行性、操作可行性进行分析</li>
</ul>
<h4 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h4><p>随着计算机科技的发展，人们的生活变的越来越离不开计算机，通过计算机的普及和信息技术的发展，各类计算机软件逐渐渗透到人们的生活中，迅速的改善了人们的生活质量，提高了人们的工作效率。在学校中，有很多同学会去图书馆看书、借阅图书，图书借阅是学生获取知识的一个很重要的途径。为了方便学生借书又能减轻图书管理员的工作负担，高效地完成图书借阅的管理工作，我们设计了一个图书管理系统软件，并通过C#语言开发了这款软件，供学校与校外的图书馆使用。</p>
<h4 id="可行性分析"><a href="#可行性分析" class="headerlink" title="可行性分析"></a>可行性分析</h4><ol>
<li><p>技术可行性分析<br>本书开发的图书管理系统采用的是Visual Studio Community2019+SQL Server2019开发环境，这种Microsoft官网推荐的开发环境在技术上已经十分成熟，并且可以免费下载。</p>
</li>
<li><p>经济可行性分析<br>本书开发的图书管理系统，从开发的硬件上来说，只需要一台电脑，开发环境只需要从Microsoft官网上免费下载开发工具Visual Studio Community2019与SQL Server2019。</p>
</li>
<li><p>操作可行性分析<br>图书管理系统采用C#软件研发的风格，使用.NET框架中的原生组件与自定义组件进行研发，使界面效果更炫酷，用户体验更友好，因此在操作上也是可行的。</p>
</li>
</ol>
<h3 id="项目简介"><a href="#项目简介" class="headerlink" title="项目简介"></a>项目简介</h3><h4 id="项目概述"><a href="#项目概述" class="headerlink" title="项目概述"></a>项目概述</h4><p>图书管理系统是一个适用于图书馆的项目，该项目中包含用户注册、用户登录、图书管理系统主菜单、读者类别、读者管理、图书管理以及借书与还书的管理。其中读者类别中包含读者的类别号、类别名称、可借书数量、可借书天数；读者管理中包含读者编号、类别号、姓名、单位、QQ、已借书数量；图书管理中包含书号、书名、作者、出版社、单价以及图书是否在馆的状态；借书与还书管理中包含读者的编号、书号。</p>
<p>该项目除了显示读者类别、读者管理、图书管理以及借书还书管理中包含的信息之外，还可以对这些信息进行添加、查询、修改、删除的操作。</p>
<h4 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h4><ul>
<li>操作系统：Windows 11系统</li>
<li>开发工具：Visual Studio Community 2019、SQL Server 2019</li>
<li>框架版本：.NET Framework 4.7.2</li>
</ul>
<h4 id="项目功能结构"><a href="#项目功能结构" class="headerlink" title="项目功能结构"></a>项目功能结构</h4><p>图书管理系统项目主要分为6个功能模块，分别是【登录模块】【主菜单模块】【读者类别模块】【读者管理模块】【图书管理模块】和【借书还书模块】。</p>
<h3 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h3><h4 id="登录窗体"><a href="#登录窗体" class="headerlink" title="登录窗体"></a>登录窗体</h4><p>程序启动后，首先会进入登录窗体，该窗体中主要用于展示用户名与密码的输入框，同时还展示了【登录】与【注册】按钮，单击【登录】按钮，程序会根据用户输入的用户名与密码来实现图书管理系统的登录功能，单击【注册】按钮，程序会隐藏当前窗体，显示注册窗体。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-01-12-02-08.png" alt="登录窗体"></p>
<h4 id="注册窗体"><a href="#注册窗体" class="headerlink" title="注册窗体"></a>注册窗体</h4><p>单击登录窗体中的【注册】按钮，程序会隐藏登录窗体，显示注册窗体，该窗体中主要用于展示用户名与密码的输入框，同时还展示了【注册】与【取消】按钮。单击【注册】按钮，程序会根据用户输入的用户名与密码实现注册功能，单击【取消】按钮，程序会关闭当前窗体，显示登录窗体。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-01-12-02-49.png" alt="注册窗体"></p>
<h4 id="主菜单窗体"><a href="#主菜单窗体" class="headerlink" title="主菜单窗体"></a>主菜单窗体</h4><p>当用户登录成功后，程序会进入到图书管理系统主菜单窗体，在该窗体中展示【读者类别】【图书管理】【读者管理】【借书还书】【退出系统】等按钮信息，单击【退出系统】按钮，程序会退出整个系统，单击窗体中的其他按钮，程序会隐藏当前窗体，显示每个按钮对应的窗体。<br><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-01-12-03-39.png" alt="主菜单窗体"></p>
<h4 id="读者类别窗体"><a href="#读者类别窗体" class="headerlink" title="读者类别窗体"></a>读者类别窗体</h4><p>单击主菜单窗体中的【读者类别】按钮，进入读者类别窗体。在读者类别窗体中通过一个表格展示读者类别号、类别名称、可借书数量、可借书天数信息，选中表格中的任意一行，在窗体的左侧输入框中会显示该行中的读者类别信息。在该窗体中还显示了5个按钮，分别是【返回主菜单】按钮、【添加】按钮、【查询】按钮、【删除】按钮以及【修改】按钮。</p>
<h4 id="读者管理窗体"><a href="#读者管理窗体" class="headerlink" title="读者管理窗体"></a>读者管理窗体</h4><p>单击读者类别窗体中的【读者管理】按钮，程序会隐藏主菜单窗体，显示读者管理窗体。在读者管理窗体中通过一个表格展示读者编号、类别号、姓名、单位、QQ、已借书数量信息，选中表格中的任意一行，在窗体的左侧输入框中会显示该行中的读者信息。在该窗体中还显示了5个按钮，分别是【返回主菜单】按钮、【添加】按钮、【查询】按钮、【删除】按钮以及【修改】按钮。</p>
<h4 id="图书管理窗体"><a href="#图书管理窗体" class="headerlink" title="图书管理窗体"></a>图书管理窗体</h4><p>单击读者管理窗体中的【图书管理】按钮，程序会隐藏主菜单窗体，显示图书管理窗体。在图书管理窗体中通过一个表格展示书号、书名、作者、出版社、单价、状态信息，选中表格中的任意一行，在窗体的左侧输入框中会显示该行中的图书信息。在该窗体中还显示了5个按钮，分别是【返回主菜单】按钮、【添加】按钮、【查询】按钮、【删除】按钮以及【修改】按钮。</p>
<h4 id="借书还书窗体"><a href="#借书还书窗体" class="headerlink" title="借书还书窗体"></a>借书还书窗体</h4><p>单击图书管理窗体中的【借书还书】按钮，程序会隐藏主菜单窗体，显示借书还书窗体。在借书还书窗体中通过一个表格展示读者编号、书号、借书日期、应还日期信息，选中表格中的任意一行，在窗体的左侧输入框中会显示该行中的读者编号与书号信息。在该窗体中还显示了3个按钮，分别是【返回主菜单】按钮、【借书】按钮、【还书】按钮。</p>
<h3 id="图书管理系统数据库"><a href="#图书管理系统数据库" class="headerlink" title="图书管理系统数据库"></a>图书管理系统数据库</h3><h4 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h4><p>在开发图书管理系统时，我们需要存储一些数据信息，如登录信息、图书信息、读者信息、读者类别信息等，同时也需要对这些数据进行一些增、删、改、查的操作，此时我们需要使用数据库来存储这些数据，这里使用的是SQL Server数据库，在数据库中需要设计以下数据表。</p>
<p><strong>1.登录表</strong><br>登录信息表中需要设计的字段有用户编号（Id）、用户名称（UserName）、用户密码（Password）。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
<th>长度</th>
<th>是否为空</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>Id</td>
<td>int</td>
<td></td>
<td>否</td>
<td>用户编号（主键）</td>
</tr>
<tr>
<td>UserName</td>
<td>nvarchar</td>
<td>25</td>
<td>否</td>
<td>用户名称</td>
</tr>
<tr>
<td>Password</td>
<td>nvarchar</td>
<td>25</td>
<td>否</td>
<td>用户密码</td>
</tr>
</tbody>
</table>
</div>
<p><strong>2. 图书表</strong><br>图书表中需要设计的字段有图书编号（bkID）、图书名称（bkName）、作者（bkAuthor）、出版社（bkPress）、单价（bkPrice）、是否在馆（bkStatus）。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
<th>长度</th>
<th>是否为空</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bkId</td>
<td>char</td>
<td>9</td>
<td>否</td>
<td>图书编号（主键）</td>
</tr>
<tr>
<td>bkName</td>
<td>varchar</td>
<td>50</td>
<td>是</td>
<td>图书名称</td>
</tr>
<tr>
<td>bkAuthor</td>
<td>varchar</td>
<td>50</td>
<td>是</td>
<td>作者</td>
</tr>
<tr>
<td>bkPress</td>
<td>varchar</td>
<td>50</td>
<td>是</td>
<td>出版社</td>
</tr>
<tr>
<td>bkPrice</td>
<td>decimal</td>
<td></td>
<td>是</td>
<td>单价</td>
</tr>
<tr>
<td>bkStatus</td>
<td>int</td>
<td></td>
<td>是</td>
<td>是否在馆，1：在馆，0：不在馆</td>
</tr>
</tbody>
</table>
</div>
<p><strong>3.读者类别表</strong><br>读者类别表中需要设计的字段有读者类别编号（rdType）、读者类别名称（rdTypeName）、可借书数量（canLendQty）、可借书天数（canLendDay）。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
<th>长度</th>
<th>是否为空</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>rdType</td>
<td>int</td>
<td></td>
<td>否</td>
<td>读者类别编号（主键）</td>
</tr>
<tr>
<td>rdTypeName</td>
<td>varchar</td>
<td>20</td>
<td>是</td>
<td>读者类别名称</td>
</tr>
<tr>
<td>canLendQty</td>
<td>int</td>
<td></td>
<td>是</td>
<td>可借书数量</td>
</tr>
<tr>
<td>canLendDay</td>
<td>int</td>
<td></td>
<td>是</td>
<td>可借书天数</td>
</tr>
</tbody>
</table>
</div>
<p><strong>4.读者表</strong><br>读者表中需要设计的字段有读者编号（rdID）、读者类别编号（rdType）、读者姓名（rdName）、读者单位（rdDept）、读者QQ（rdQQ）、已借书数量（rdBorrowQty）。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
<th>长度</th>
<th>是否为空</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>rdID</td>
<td>char</td>
<td>9</td>
<td>否</td>
<td>读者编号（主键）</td>
</tr>
<tr>
<td>rdType</td>
<td>int</td>
<td></td>
<td>是</td>
<td>读者类别编号</td>
</tr>
<tr>
<td>rdName</td>
<td>varchar</td>
<td>25</td>
<td>是</td>
<td>读者姓名</td>
</tr>
<tr>
<td>rdDept</td>
<td>varchar</td>
<td>40</td>
<td>是</td>
<td>读者单位</td>
</tr>
<tr>
<td>rdQQ</td>
<td>varchar</td>
<td>25</td>
<td>是</td>
<td>读者QQ</td>
</tr>
<tr>
<td>rdBorrowQty</td>
<td>int</td>
<td></td>
<td>是</td>
<td>已借书数量</td>
</tr>
</tbody>
</table>
</div>
<p><strong>5.借书表</strong><br>借书表中需要设计的字段有读者编号（rdID）、图书编号（bkID）、借书日期（DateBorrow）、还书日期（DateLendPlan）。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>字段名</th>
<th>类型</th>
<th>长度</th>
<th>是否为空</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>rdID</td>
<td>char</td>
<td>9</td>
<td>否</td>
<td>读者编号</td>
</tr>
<tr>
<td>bkId</td>
<td>char</td>
<td>9</td>
<td>否</td>
<td>图书编号</td>
</tr>
<tr>
<td>DateBorrow</td>
<td>datetime</td>
<td></td>
<td>是</td>
<td>借书日期</td>
</tr>
<tr>
<td>DateLendPlan</td>
<td>datetime</td>
<td></td>
<td>是</td>
<td>应还日期</td>
</tr>
</tbody>
</table>
</div>
<h4 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4><p>由于本项目中需要创建1个图书数据库BookDB与5个数据库表Login、Book、ReaderType、Reader、Borrow，通过SQL语句创建图书数据库与数据库表的具体内容如下。</p>
<p><strong>1.创建图书数据库BookDB</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database BooksDB</span><br><span class="line"><span class="keyword">on</span> <span class="keyword">primary</span></span><br><span class="line">(name<span class="operator">=</span><span class="string">&#x27;BooksDB_DATA&#x27;</span>,</span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\books\BooksDB.MDF&#x27;</span>,<span class="comment">-- 文件夹需要存在</span></span><br><span class="line">size<span class="operator">=</span><span class="number">5</span>MB,</span><br><span class="line">maxsize<span class="operator">=</span><span class="number">30</span>MB,</span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">20</span><span class="operator">%</span>)</span><br><span class="line">log <span class="keyword">on</span></span><br><span class="line">(name<span class="operator">=</span><span class="string">&#x27;BooksDB_LOG&#x27;</span>,</span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\books\BooksDB.LDF&#x27;</span>,</span><br><span class="line">size<span class="operator">=</span><span class="number">5</span>MB,</span><br><span class="line">maxsize<span class="operator">=</span><span class="number">30</span>MB,</span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">3</span>MB)</span><br></pre></td></tr></table></figure></p>
<p><strong>2.创建数据库表</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">use BookDB</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Login(	<span class="comment">--创建登录表</span></span><br><span class="line"><span class="comment">-- 设置为主键和自增长列，起始值为1，每次自增1</span></span><br><span class="line">Id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">identity</span>(<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">primary</span> key,</span><br><span class="line">UserName nvarchar(<span class="number">25</span>) <span class="keyword">not</span> <span class="keyword">null</span>,	<span class="comment">-- 登录名</span></span><br><span class="line">Password nvarchar(<span class="number">25</span>) <span class="keyword">not</span> <span class="keyword">null</span>, <span class="comment">-- 密码</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ReaderType( <span class="comment">-- 创建读者类别表</span></span><br><span class="line">rdType <span class="type">int</span> <span class="keyword">primary</span> key,	<span class="comment">-- 读者类别编号</span></span><br><span class="line">rdTypeName <span class="type">varchar</span>(<span class="number">20</span>),	<span class="comment">--读者类别名称</span></span><br><span class="line">canLendQty <span class="type">int</span>,					<span class="comment">-- 可借书天数</span></span><br><span class="line">canLendDay <span class="type">int</span>,					<span class="comment">-- 可借书天数</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Reader(	<span class="comment">--创建读者表</span></span><br><span class="line">rdID <span class="type">char</span>(<span class="number">9</span>) <span class="keyword">primary</span> key,	<span class="comment">-- 读者编号</span></span><br><span class="line">rdType <span class="type">int</span> <span class="keyword">references</span> ReaderType(rdType),	<span class="comment">--读者类别编号</span></span><br><span class="line">rdName <span class="type">varchar</span>(<span class="number">25</span>),	<span class="comment">-- 读者姓名</span></span><br><span class="line">rdDept <span class="type">varchar</span>(<span class="number">40</span>),	<span class="comment">-- 读者单位</span></span><br><span class="line">rdQQ <span class="type">varchar</span>(<span class="number">25</span>),	<span class="comment">-- 读者QQ</span></span><br><span class="line">rdBorrowQty <span class="type">int</span> <span class="keyword">default</span> <span class="number">0</span> <span class="keyword">check</span>(rdBorrowQty <span class="keyword">between</span> <span class="number">0</span> <span class="keyword">and</span> <span class="number">10</span>)	<span class="comment">-- 已借书数量</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Book(	<span class="comment">-- 创建图书表</span></span><br><span class="line">bkID <span class="type">char</span>(<span class="number">9</span>) <span class="keyword">primary</span> key,	<span class="comment">-- 图书编号</span></span><br><span class="line">bkName <span class="type">varchar</span>(<span class="number">50</span>),	<span class="comment">-- 图书名字</span></span><br><span class="line">bkAuthor <span class="type">varchar</span>(<span class="number">50</span>),	<span class="comment">-- 作者</span></span><br><span class="line">bkPress <span class="type">varchar</span>(<span class="number">50</span>),	<span class="comment">-- 出版社</span></span><br><span class="line">bkPrice <span class="type">decimal</span>(<span class="number">5</span>,<span class="number">2</span>), <span class="comment">--单价</span></span><br><span class="line">bkStatus <span class="type">int</span> <span class="keyword">default</span> <span class="number">1</span>,	<span class="comment">-- 是否在馆，1：在，2：不在</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Borrow(	<span class="comment">-- 创建借书表</span></span><br><span class="line">rdID <span class="type">char</span>(<span class="number">9</span>) <span class="keyword">references</span> Reader(rdID), <span class="comment">-- 读者编号</span></span><br><span class="line">bkID <span class="type">char</span>(<span class="number">9</span>) <span class="keyword">references</span> Book(bkID),	<span class="comment">-- 图书编号</span></span><br><span class="line">DateBorrow DateTime,	<span class="comment">-- 借书日期</span></span><br><span class="line">DateLendPlan DateTime,	<span class="comment">-- 还书日期</span></span><br><span class="line"><span class="keyword">primary</span> key(rdID,bkID)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p><strong>3.向数据库表中添加数据</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">use BookDB</span><br><span class="line">go</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> ReaderType <span class="comment">-- 向读者类别表添加数据</span></span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;教师&#x27;</span>,<span class="string">&#x27;10&#x27;</span>,<span class="string">&#x27;60&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;本科生&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;30&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;硕士研究生&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;40&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;博士研究生&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;50&#x27;</span>)</span><br><span class="line">go</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Reader <span class="comment">-- 向读者表添加数据</span></span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;rd2022001&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;黑马&#x27;</span>,<span class="string">&#x27;计算机科学学院&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;0&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;rd2022002&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;Qing&#x27;</span>,<span class="string">&#x27;软件学院&#x27;</span>,<span class="string">&#x27;1234567890&#x27;</span>,<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">go</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Book <span class="comment">-- 向图书表中添加数据</span></span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;bk2020001&#x27;</span>,<span class="string">&#x27;C#程序设计基础入门教程&#x27;</span>,<span class="string">&#x27;黑马程序员&#x27;</span>,<span class="string">&#x27;人民邮电出版社&#x27;</span>,<span class="string">&#x27;59.80&#x27;</span>,<span class="string">&#x27;1&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="登录功能业务实现"><a href="#登录功能业务实现" class="headerlink" title="登录功能业务实现"></a>登录功能业务实现</h3><h4 id="登录窗体设计"><a href="#登录窗体设计" class="headerlink" title="登录窗体设计"></a>登录窗体设计</h4><p>登录窗体实现【登录】【注册】<br><strong>1.创建程序</strong></p>
<ul>
<li>项目名称：BookManagementSystem</li>
<li>项目类型:Windows窗体应用程序</li>
</ul>
<p><strong>2.窗体设计</strong><br>步骤</p>
<ul>
<li><code>Form1.cs</code>重命名为<code>LoginForm.cs</code></li>
<li><code>Text</code>:管理员登录</li>
<li><code>BackgroundImage</code>:”login.png”,<code>BackgroundImageLayout</code>:Stretch</li>
<li>添加2个<strong>TextBox控件</strong>用于输入用户名和密码，<code>Name</code>:”tbUserName””tbPassword”,<code>Font</code>:”宋体””10.5pt(五号)”,密码框<code>PasswordChar</code>:*</li>
<li>添加2个<strong>ButtonBox控件</strong>用于【登录】【注册】，<code>Name</code>:”btnLogin””btnRegister”,<code>Text</code>“登录”“注册”,<code>BlackColor</code>:”Transparent(透明)”,<code>FlatStyle</code>:”Flat（按钮外观平滑）”,<code>BorderSize</code>:0,<code>MouseDownBackColor</code>和<code>MouseOverBackColor</code>:”Transparent(透明)”,<code>ForeColor</code>:White,<code>Font</code>:”宋体””12pt(小四)”</li>
</ul>
<h4 id="实现登录功能"><a href="#实现登录功能" class="headerlink" title="实现登录功能"></a>实现登录功能</h4><p>当用户注册过账号时，在登录窗体中输入用户名与密码后，单击【登录】按钮，程序会与数据库连接来判断输入的用户名与密码是否正确，如果正确，则登录成功进入到主菜单窗体，否则，程序会根据不同的情况提示“密码错误！”或“用户不存在！”或“操作数据库出错！”。如果用户还未注册账号，此时可以单击登录窗体中的【注册】按钮，进入到注册窗体中注册一个账号。</p>
<p><strong>1.实现登录功能</strong><br><figure class="highlight c#"><figcaption><span>【登录】按钮Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> LoginForm loginForm = <span class="literal">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LoginForm <span class="title">getInstance</span>()<span class="comment">//单例模式</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (loginForm == <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        loginForm = <span class="keyword">new</span> LoginForm();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> loginForm;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnLogin_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//编写连接数据库的字符串</span></span><br><span class="line">    <span class="built_in">string</span> connStr = <span class="string">&quot;server=.;uid=sa;pwd=root;database=BookDB&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> User = tbUserName.Text;</span><br><span class="line">        <span class="built_in">string</span> Pwd = tbPassword.Text;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrWhiteSpace(User) || <span class="built_in">string</span>.IsNullOrWhiteSpace(Pwd))</span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;用户名或密码不能为空!&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            <span class="comment">//创建SqlCommand对象</span></span><br><span class="line">            SqlCommand cmd = conn.CreateCommand();</span><br><span class="line">            cmd.CommandText = <span class="string">&quot;select * from Login where UserName=&#x27;&quot;</span> + User + <span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">            SqlDataReader reader = cmd.ExecuteReader();</span><br><span class="line">            <span class="keyword">if</span> (reader.Read())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">string</span> passward = reader.GetString(reader.GetOrdinal(<span class="string">&quot;Password&quot;</span>));</span><br><span class="line">                <span class="keyword">if</span> (Pwd == passward)</span><br><span class="line">                &#123;</span><br><span class="line">                        MessageBox.Show(<span class="string">&quot;登录成功！&quot;</span>);</span><br><span class="line">                    <span class="keyword">this</span>.Hide();<span class="comment">//隐藏当前窗体</span></span><br><span class="line">                    <span class="keyword">new</span> MainMenuForm().Show();<span class="comment">//开启主菜单窗体</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    MessageBox.Show(<span class="string">&quot;密码错误！&quot;</span>);</span><br><span class="line">                    tbPassword.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;用户不存在！&quot;</span>);</span><br><span class="line">                tbUserName.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                tbPassword.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;数据库操作失败&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>2.实现显示注册窗体的功能</strong><br><figure class="highlight c#"><figcaption><span>【注册】按钮Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnRegister_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Hide();<span class="comment">//隐藏当前窗体</span></span><br><span class="line">    <span class="keyword">new</span> RegisterFrom().Show();<span class="comment">//显示注册窗体</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoginForm_FormClosing</span>(<span class="params"><span class="built_in">object</span> sender, FormClosingEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    loginForm = <span class="literal">null</span>;<span class="comment">//将loginForm设置为null</span></span><br><span class="line">    Application.Exit();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="注册功能业务实现"><a href="#注册功能业务实现" class="headerlink" title="注册功能业务实现"></a>注册功能业务实现</h3><h4 id="注册窗体设计"><a href="#注册窗体设计" class="headerlink" title="注册窗体设计"></a>注册窗体设计</h4><p>登录窗体实现【注册】【取消】<br><strong>1.创建注册窗体</strong></p>
<ul>
<li>窗体名称：RegisterForm.cs</li>
</ul>
<p><strong>2.窗体设计</strong><br>步骤</p>
<ul>
<li><code>Text</code>:注册</li>
<li><code>BackgroundImage</code>:”register_bg.png”,<code>BackgroundImageLayout</code>:Stretch</li>
<li>添加2个<strong>TextBox控件</strong>用于输入用户名和密码，<code>Name</code>:”tbUserName””tbPassword”,<code>Font</code>:”宋体””15pt(小三号)”,密码框<code>PasswordChar</code>:*</li>
<li>添加2个<strong>ButtonBox控件</strong>用于【注册】【取消】，<code>Name</code>:”btnRegister””btnCancel”,<code>Text</code>“注册”“取消”,<code>BlackColor</code>:”Transparent(透明)”,<code>FlatStyle</code>:”Flat（按钮外观平滑）”,<code>BorderSize</code>:0,<code>MouseDownBackColor</code>和<code>MouseOverBackColor</code>:”Transparent(透明)”,<code>ForeColor</code>:White,<code>Font</code>:”宋体””15pt(小三)”</li>
</ul>
<h4 id="实现注册窗体"><a href="#实现注册窗体" class="headerlink" title="实现注册窗体"></a>实现注册窗体</h4><p>1.实现注册功能<br><figure class="highlight c#"><figcaption><span>【注册】按钮Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnRegister_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//编写连接数据库的字符串</span></span><br><span class="line">    <span class="built_in">string</span> connStr = <span class="string">&quot;server=.;uid=sa;pwd=root;database=BookDB&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn =<span class="keyword">new</span> SqlConnection(connStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrWhiteSpace(tbUserName.Text) || <span class="built_in">string</span>.IsNullOrWhiteSpace(tbPassword.Text))</span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;用户名或密码不能为空!&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">string</span> sql = <span class="string">&quot;insert into Login(UserName,Password) values(&#x27;&#123;0&#125;&#x27;,&#x27;&#123;1&#125;&#x27;)&quot;</span>;</span><br><span class="line">            sql = <span class="built_in">string</span>.Format(sql, tbUserName.Text, tbPassword.Text);</span><br><span class="line">            SqlCommand cmd = <span class="keyword">new</span> SqlCommand(sql, conn);</span><br><span class="line">            <span class="built_in">int</span> returnvalue = cmd.ExecuteNonQuery();</span><br><span class="line">            <span class="keyword">if</span> (returnvalue!=<span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;注册成功！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;注册失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;注册失败&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>2.实现取消显示登录窗体功能<br><figure class="highlight c#"><figcaption><span>【取消】按钮Click事件以及窗体FormClosing事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnCancel_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RegisterFrom_FormClosing</span>(<span class="params"><span class="built_in">object</span> sender, FormClosingEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    LoginForm.getInstance().Show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="主菜单功能业务实现"><a href="#主菜单功能业务实现" class="headerlink" title="主菜单功能业务实现"></a>主菜单功能业务实现</h3><h4 id="主菜单窗体设计"><a href="#主菜单窗体设计" class="headerlink" title="主菜单窗体设计"></a>主菜单窗体设计</h4><h4 id="实现主菜单功能"><a href="#实现主菜单功能" class="headerlink" title="实现主菜单功能"></a>实现主菜单功能</h4><ol>
<li>显示4个按钮对应的窗体</li>
<li>实现退出系统功能</li>
</ol>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> MainMenuForm mainMenForm = <span class="literal">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> MainMenuForm <span class="title">getInstacce</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (mainMenForm == <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MainMenuForm();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mainMenForm;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnCategory_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Hide();</span><br><span class="line">    <span class="keyword">new</span> ReaderCategoryForm().Show();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">MainMenForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Hide();</span><br><span class="line">    <span class="keyword">new</span> BookManagementForm().Show();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnReader_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Hide();</span><br><span class="line">    <span class="keyword">new</span> ReaderManagementForm().Show();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnBorrRet_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Hide();</span><br><span class="line">    <span class="keyword">new</span> BorrAndRetForm().Show();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnExit_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Application.Exit();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">MainMenuForm_FormClosed</span>(<span class="params"><span class="built_in">object</span> sender, FormClosedEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    mainMenForm = <span class="literal">null</span>;</span><br><span class="line">    Application.Exit();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="读者类别功能业务实现"><a href="#读者类别功能业务实现" class="headerlink" title="读者类别功能业务实现"></a>读者类别功能业务实现</h3><h4 id="读者类别窗体设计"><a href="#读者类别窗体设计" class="headerlink" title="读者类别窗体设计"></a>读者类别窗体设计</h4><p><strong>1.创建读者类别窗体</strong><br>在项目中创建一个名为ReaderCategoryForm的读者类别窗体。<br><strong>2.添加窗体控件：</strong></p>
<ul>
<li>添加4个<strong>Label控件</strong>分别用于显示“类别号”“类别名称”“可借书数量”“可借书天数”，设置<code>BackColor</code>:Transparent<code>,</code>ForeColor`:White</li>
<li>添加4个<strong>TextBox控件</strong>用于显示对应输入框，设置<code>Name</code>:”tbRdType””tbRdTypeName””tbCanLendQty””tbRdCanLendDay”</li>
<li>添加5个<strong>Button控件</strong>用于【返回主菜单】【添加】【查询】【删除】【修改】按钮，设置<code>Name</code>:”btnBackMenu””btnAdd””btnQuery””btnDelete””brnAlter”<code>BlackColor</code>:”Transparent(透明)”,<code>FlatStyle</code>:”Flat（按钮外观平滑）”,<code>BorderSize</code>:0,<code>MouseDownBackColor</code>和<code>MouseOverBackColor</code>:”Transparent(透明)”,<code>ForeColor</code>:White,<code>Font</code>:”宋体””18pt(小二)”</li>
<li>添加1个<strong>DataGridView</strong>控件，设置<code>Name</code>:dgvRdCategory,<code>BackgroundColor</code>:White</li>
<li><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-01-11-36-20.png" alt="读者类别窗体设计"></li>
</ul>
<h4 id="实现读者类别管理功能"><a href="#实现读者类别管理功能" class="headerlink" title="实现读者类别管理功能"></a>实现读者类别管理功能</h4><p>读者类别窗体中主要实现的是5个按钮的单击事件，这5个按钮分别是 【返回主菜单】按钮、【添加】按钮、【查询】按钮、【删除】按钮、【修改】按钮。单击这5个按钮，程序会修改数据库中指定的读者类别对应的任意数据信息。</p>
<p><strong>1.实现【返回主菜单】按钮的单击事件</strong><br><figure class="highlight c#"><figcaption><span>【返回主菜单】按钮Click事件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnBackMenu_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ReaderCategoryForm_FormClosed</span>(<span class="params"><span class="built_in">object</span> sender, FormClosedEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MainMenuForm.getInstacce().Show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>2.实现加载读者类别信息功能</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">string</span>  conStr = <span class="string">&quot;server=.;uid=sa;pwd=root;database=BookDB&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">DataBind</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn =<span class="keyword">new</span>  SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;select rdType 类别号,rdTypeName 类别名称,CanLendQty 可借数量,canLendDay 可借天数 from ReaderType&quot;</span>;</span><br><span class="line">            SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(comm);</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">            sda.Fill(ds);</span><br><span class="line">            dgvRdCategory.DataSource = ds.Tables[<span class="number">0</span>];</span><br><span class="line">            tbRdType.DataBindings.Clear();</span><br><span class="line">            tbRdTypeName.DataBindings.Clear();</span><br><span class="line">            tbCanLendQty.DataBindings.Clear();</span><br><span class="line">            tbCanLendDay.DataBindings.Clear();</span><br><span class="line">            tbRdType.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;类别号&quot;</span>);</span><br><span class="line">            tbRdTypeName.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;类别名称&quot;</span>);</span><br><span class="line">            tbCanLendQty.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;可借数量&quot;</span>);</span><br><span class="line">            tbCanLendDay.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;可借天数&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;操作数据库出错！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ReaderCategoryForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DataBind();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>3.实现【添加】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnAdd_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn =<span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;insert into ReaderType values(@rdType,@rdTypeName,@canLendQty,@canLendDay)&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdType&quot;</span>, tbRdType.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdTypeName&quot;</span>, tbRdTypeName.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@canLendQty&quot;</span>, tbCanLendQty.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@canLendDay&quot;</span>, tbCanLendDay.Text);</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                comm.ExecuteNonQuery();</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;添加成功！&quot;</span>);</span><br><span class="line">                DataBind();<span class="comment">//重新加载数据库中的数据（刷新窗格中的数据）</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;添加失败！&quot;</span>+ex.Message);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;操作数据库出错！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>4.实现【查询】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnQuery_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn= <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText= <span class="string">&quot;select rdType 类别号,rdTypeName 类别名称,CanLendQty 可借数量,canLendDay 可借天数 from ReaderType where rdTypeName like @rdTypeName+&#x27;%&#x27;&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdTypeName&quot;</span>, tbRdTypeName.Text);</span><br><span class="line">            SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(comm);</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">            sda.Fill(ds);</span><br><span class="line">            dgvRdCategory.DataSource = ds.Tables[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;操作数据库出错！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>5.实现【删除】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnDelete_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DialogResult dr = MessageBox.Show(<span class="string">&quot;确定要删除吗？&quot;</span>, <span class="string">&quot;确定&quot;</span>, MessageBoxButtons.OKCancel);</span><br><span class="line">    <span class="keyword">if</span> (dr==DialogResult.OK)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (SqlConnection conn=<span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                SqlCommand comm = conn.CreateCommand();</span><br><span class="line">                comm.CommandText = <span class="string">&quot;delete from ReaderType where rdType =@rdType&quot;</span>;</span><br><span class="line">                comm.Parameters.AddWithValue(<span class="string">&quot;@rdType&quot;</span>, tbRdType.Text);</span><br><span class="line">                comm.ExecuteNonQuery();</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;删除成功！&quot;</span>);</span><br><span class="line">                DataBind();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;删除失败！&quot;</span>+ex.Message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>6.实现【修改】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnAlter_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;update ReaderType set rdType=@rdType,rdTypeName=@rdTypeName,canLendQty=@canLendQty,canLendDay=@canLendDay where rdType=@rdType&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdType&quot;</span>, tbRdType.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdTypeName&quot;</span>, tbRdTypeName.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@canLendQty&quot;</span>, tbCanLendQty.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@canLendDay&quot;</span>, tbCanLendDay.Text);</span><br><span class="line">            comm.ExecuteNonQuery();</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;修改成功！&quot;</span>);</span><br><span class="line">            DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;修改失败！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="读者管理功能业务实现"><a href="#读者管理功能业务实现" class="headerlink" title="读者管理功能业务实现"></a>读者管理功能业务实现</h3><h4 id="读者管理窗体设计"><a href="#读者管理窗体设计" class="headerlink" title="读者管理窗体设计"></a>读者管理窗体设计</h4><p><strong>1.创建读者管理窗体</strong><br>在项目中创建一个名为ReaderManagementForm的读者管理窗体<br><strong>2.添加窗体控件</strong></p>
<ul>
<li>添加6个<strong>Label控件</strong></li>
<li>添加6个<strong>TextBox控件</strong></li>
<li>添加5个<strong>Button控件</strong></li>
<li>添加1个<strong>DataGridView控件</strong></li>
<li><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-01-11-37-58.png" alt="读者管理窗体设计"></li>
</ul>
<h4 id="实现读者管理功能"><a href="#实现读者管理功能" class="headerlink" title="实现读者管理功能"></a>实现读者管理功能</h4><p>读者管理窗体中主要实现的是5个按钮的单击事件，这5个按钮分别是 【返回主菜单】按钮、【添加】按钮、【查询】按钮、【删除】按钮、【修改】按钮。单击这5个按钮，程序会修改数据库中指定的读者类别对应的任意数据信息。</p>
<p><strong>1.实现【返回主菜单】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnBackMenu_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ReaderManagementForm_FormClosed</span>(<span class="params"><span class="built_in">object</span> sender, FormClosedEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MainMenuForm.getInstacce().Show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>2.实现加载读者信息功能</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">string</span> conStr = <span class="string">&quot;server=.;uid=sa;pwd=root;database=BookDB&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">DataBind</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;select rdID 读者编号,rdType 读者类别号,rdName 读者姓名,rdDept 读者单位,rdQQ 读者QQ,rdBorrowQty 已借书数量 from Reader&quot;</span>;</span><br><span class="line">            SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(comm);</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">            sda.Fill(ds);</span><br><span class="line">            dgvReader.DataSource = ds.Tables[<span class="number">0</span>];</span><br><span class="line">            tbRdId.DataBindings.Clear();</span><br><span class="line">            tbRdType.DataBindings.Clear();</span><br><span class="line">            tbRdName.DataBindings.Clear();</span><br><span class="line">            tbRdDept.DataBindings.Clear();</span><br><span class="line">            tbRdQQ.DataBindings.Clear();</span><br><span class="line">            tbRdBorrowQty.DataBindings.Clear();</span><br><span class="line">            tbRdId.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;读者编号&quot;</span>);</span><br><span class="line">            tbRdType.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;读者类别号&quot;</span>);</span><br><span class="line">            tbRdName.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;读者姓名&quot;</span>);</span><br><span class="line">            tbRdDept.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;读者单位&quot;</span>);</span><br><span class="line">            tbRdQQ.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;读者QQ&quot;</span>);</span><br><span class="line">            tbRdBorrowQty.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;已借书数量&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;操作数据库出错！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ReaderManagementForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DataBind();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>3.实现【添加】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnAdd_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn =<span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;insert into Reader values(@rdID,@rdType,@rdName,@rdDept,@rdQQ,@rdBorrowQty)&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdID&quot;</span>,tbRdId.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdType&quot;</span>,tbRdType.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdName&quot;</span>,tbRdName.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdDept&quot;</span>,tbRdDept.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdQQ&quot;</span>,tbRdQQ.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdBorrowQty&quot;</span>,tbRdBorrowQty.Text);</span><br><span class="line">            comm.ExecuteNonQuery();</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;添加成功！&quot;</span>);</span><br><span class="line">            DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;添加失败&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>4.实现【查询】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnQuery_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;select rdID 读者编号,rdType 读者类别号,rdName 读者姓名,rdDept 读者单位,rdQQ 读者QQ,rdBorrowQty 已借书数量 from Reader where rdDept like @rdDept + &#x27;%&#x27;&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdDept&quot;</span>, tbRdDept.Text);</span><br><span class="line">            SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(comm);</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">            sda.Fill(ds);</span><br><span class="line">            dgvReader.DataSource = ds.Tables[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;操作数据库失败&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>5.实现【删除】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnDelete_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DialogResult dr = MessageBox.Show(<span class="string">&quot;确定要删除吗？&quot;</span>, <span class="string">&quot;确定&quot;</span>, MessageBoxButtons.OKCancel);</span><br><span class="line">    <span class="keyword">if</span> (dr == DialogResult.OK)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                SqlCommand comm = conn.CreateCommand();</span><br><span class="line">                comm.CommandText = <span class="string">&quot;delete from Reader where rdID=@rdID&quot;</span>;</span><br><span class="line">                comm.Parameters.AddWithValue(<span class="string">&quot;@rdID&quot;</span>, tbRdId.Text);</span><br><span class="line">                comm.ExecuteNonQuery();</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;删除成功！&quot;</span>);</span><br><span class="line">                DataBind();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;删除失败！&quot;</span> + ex.Message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>6.实现【修改】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnAlter_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;update Reader set rdID=@rdID,rdType=@rdType,rdName=@rdName,rdDept=@rdDept,rdQQ=@rdQQ,rdBorrowQty=@rdBorrowQty where rdID=@rdID&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdID&quot;</span>, tbRdId.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdType&quot;</span>, tbRdType.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdName&quot;</span>, tbRdName.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdDept&quot;</span>, tbRdDept.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdQQ&quot;</span>, tbRdQQ.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdBorrowQty&quot;</span>, tbRdBorrowQty.Text);</span><br><span class="line">            comm.ExecuteNonQuery();</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;修改成功！&quot;</span>);</span><br><span class="line">            DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;修改失败！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="图书管理功能业务实现"><a href="#图书管理功能业务实现" class="headerlink" title="图书管理功能业务实现"></a>图书管理功能业务实现</h3><h4 id="图书管理窗体设计"><a href="#图书管理窗体设计" class="headerlink" title="图书管理窗体设计"></a>图书管理窗体设计</h4><p><strong>1.创建图书管理窗体</strong><br>在项目中创建一个名为BookManagementForm的图书管理窗体。<br><strong>2.添加窗体控件</strong></p>
<ul>
<li>添加6个<strong>Label控件</strong></li>
<li>添加6个<strong>TextBox控件</strong></li>
<li>添加5个<strong>Button控件</strong></li>
<li>添加1个<strong>DataGridView控件</strong></li>
<li><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-01-11-45-45.png" alt="图书管理窗体设计"></li>
</ul>
<h4 id="实现图书管理功能"><a href="#实现图书管理功能" class="headerlink" title="实现图书管理功能"></a>实现图书管理功能</h4><p>图书管理窗体中主要实现的是5个按钮的单击事件，这5个按钮分别是 【返回主菜单】按钮、【添加】按钮、【查询】按钮、【删除】按钮、【修改】按钮。单击这5个按钮，程序会修改数据库中指定的读者类别对应的任意数据信息。</p>
<p><strong>1.实现【返回主菜单】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnBackMenu_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">BookManagementForm_FormClosed</span>(<span class="params"><span class="built_in">object</span> sender, FormClosedEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MainMenuForm.getInstacce().Show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>2.实现加载读者信息功能</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">string</span> conStr = <span class="string">&quot;server=.;uid=sa;pwd=root;database=BookDB&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">DataBind</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;select bkID 书号,bkName 书名,bkAuthor 作者,bkPress 出版社,bkPrice 单价,bkStatus 状态 from Book&quot;</span>;</span><br><span class="line">            SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(comm);</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">            sda.Fill(ds);</span><br><span class="line">            dgvBook.DataSource = ds.Tables[<span class="number">0</span>];</span><br><span class="line">            tbBkID.DataBindings.Clear();</span><br><span class="line">            tbBkName.DataBindings.Clear();</span><br><span class="line">            tbBkAuthor.DataBindings.Clear();</span><br><span class="line">            tbBkPress.DataBindings.Clear();</span><br><span class="line">            tbBkPrice.DataBindings.Clear();</span><br><span class="line">            tbBkStatus.DataBindings.Clear();</span><br><span class="line">            tbBkID.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;书号&quot;</span>);</span><br><span class="line">            tbBkName.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;书名&quot;</span>);</span><br><span class="line">            tbBkAuthor.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;作者&quot;</span>);</span><br><span class="line">            tbBkPress.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;出版社&quot;</span>);</span><br><span class="line">            tbBkPrice.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;单价&quot;</span>);</span><br><span class="line">            tbBkStatus.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;状态&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;操作数据库出错！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">BookManagementForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DataBind();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>3.实现【添加】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnAdd_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn =<span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;insert into Book values(@bkID,@bkName,@bkAuthor,@bkPress,@bkPrice,@bkStatus)&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkID&quot;</span>, tbBkID.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkName&quot;</span>, tbBkName.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkAuthor&quot;</span>, tbBkAuthor.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkPress&quot;</span>, tbBkPress.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkPrice&quot;</span>, tbBkPrice.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkStatus&quot;</span>, tbBkStatus.Text);</span><br><span class="line">            comm.ExecuteNonQuery();</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;添加成功！&quot;</span>);</span><br><span class="line">            DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;添加失败！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>4.实现【查询】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnQuery_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;select bkID 书号,bkName 书名,bkAuthor 作者,bkPress 出版社,bkPrice 单价,bkStatus 状态 from Book where bkName like @bkName +&#x27;%&#x27;&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkName&quot;</span>, tbBkName.Text);</span><br><span class="line">            SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(comm);</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">            sda.Fill(ds);</span><br><span class="line">            dgvBook.DataSource = ds.Tables[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;查询失败！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>5.实现【删除】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnDelete_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DialogResult dr = MessageBox.Show(<span class="string">&quot;确定要删除吗？&quot;</span>, <span class="string">&quot;确定&quot;</span>, MessageBoxButtons.OKCancel);</span><br><span class="line">    <span class="keyword">if</span> (dr == DialogResult.OK)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                SqlCommand comm = conn.CreateCommand();</span><br><span class="line">                comm.CommandText = <span class="string">&quot;delete from Book where bkID =@bkID&quot;</span>;</span><br><span class="line">                comm.Parameters.AddWithValue(<span class="string">&quot;@bkID&quot;</span>, tbBkID.Text);</span><br><span class="line">                comm.ExecuteNonQuery();</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;删除成功！&quot;</span>);</span><br><span class="line">                DataBind();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;删除失败！&quot;</span> + ex.Message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>6.实现【修改】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnAlter_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;update Book set bkID=@bkID,bkName=@bkName,bkAuthor=@bkAuthor,bkPress=@bkPress,bkPrice=@bkPrice,bkStatus=@bkStatus where bkID=@bkID&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkID&quot;</span>, tbBkID.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkName&quot;</span>, tbBkName.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkAuthor&quot;</span>, tbBkAuthor.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkPress&quot;</span>, tbBkPress.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkPrice&quot;</span>, tbBkPrice.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkStatus&quot;</span>, tbBkStatus.Text);</span><br><span class="line">            comm.ExecuteNonQuery();</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;修改成功！&quot;</span>);</span><br><span class="line">            DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;修改失败！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="借书还书功能业务实现"><a href="#借书还书功能业务实现" class="headerlink" title="借书还书功能业务实现"></a>借书还书功能业务实现</h3><h4 id="借书还书窗体设计"><a href="#借书还书窗体设计" class="headerlink" title="借书还书窗体设计"></a>借书还书窗体设计</h4><p><strong>1.创建借书还书窗体</strong><br>在项目中创建一个名为BorrAndRetForm的借书还书窗体。<br><strong>2.添加窗体控件</strong></p>
<ul>
<li>添加2个<strong>Label控件</strong></li>
<li>添加2个<strong>TextBox控件</strong></li>
<li>添加4个<strong>Button控件</strong></li>
<li>添加1个<strong>DataGridView控件</strong></li>
<li><img src= "/img/loading.gif" data-lazy-src="/2022/11/25/CSharp/2022-12-01-11-52-52.png" alt="借书还书窗体设计"></li>
</ul>
<h4 id="实现借书还书功能"><a href="#实现借书还书功能" class="headerlink" title="实现借书还书功能"></a>实现借书还书功能</h4><p>借书还书窗体中主要实现的是窗体中3个按钮的单击事件，当单击【返回主菜单】按钮时，程序会隐藏当前窗体，显示借书还书窗体。单击【借书】按钮时，程序会向借书表中添加一条数据，单击【还书】按钮时，程序会从借书表中删除一条数据。</p>
<p><strong>1.创建借书的存储过程usp_BorrowBook</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">use BookDB</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> usp_BorrowBook</span><br><span class="line">	<span class="variable">@rdID</span> <span class="type">char</span>(<span class="number">9</span>),</span><br><span class="line">	<span class="variable">@bkID</span> <span class="type">char</span>(<span class="number">9</span>)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">	<span class="comment">-- 判断有没有这本书</span></span><br><span class="line">	if <span class="keyword">not</span> <span class="keyword">exists</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> Book <span class="keyword">where</span> <span class="variable">@bkID</span> <span class="keyword">in</span> (<span class="keyword">select</span> bkID <span class="keyword">from</span> Book))</span><br><span class="line">	<span class="keyword">begin</span> </span><br><span class="line">		raiserror(<span class="string">&#x27;图书馆没有该书，借阅失败&#x27;</span>,<span class="number">16</span>,<span class="number">1</span>)<span class="keyword">with</span> nowait</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="comment">-- 判断有没有这个读者ID</span></span><br><span class="line">	if <span class="keyword">not</span> <span class="keyword">exists</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> Reader <span class="keyword">where</span> <span class="variable">@rdID</span> <span class="keyword">in</span> (<span class="keyword">select</span> rdID <span class="keyword">from</span> Reader))</span><br><span class="line">	<span class="keyword">begin</span></span><br><span class="line">		raiserror(<span class="string">&#x27;图书馆没有该读者，借阅失败&#x27;</span>,<span class="number">16</span>,<span class="number">1</span>)<span class="keyword">with</span> nowait</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="comment">-- 判断书是否在馆</span></span><br><span class="line">	<span class="keyword">declare</span> <span class="variable">@bkStatus</span> <span class="type">int</span></span><br><span class="line">	<span class="keyword">select</span> <span class="variable">@bkStatus</span><span class="operator">=</span>bkStatus <span class="keyword">from</span> Book <span class="keyword">where</span> bkID<span class="operator">=</span><span class="variable">@bkID</span></span><br><span class="line">	if <span class="variable">@bkStatus</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">	<span class="keyword">begin</span></span><br><span class="line">		raiserror(<span class="string">&#x27;该书不在馆，无法借阅&#x27;</span>,<span class="number">16</span>,<span class="number">1</span>)<span class="keyword">with</span> nowait</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="comment">-- 判断该读者的借书数量是否达到最大借书数量</span></span><br><span class="line">	<span class="keyword">declare</span> <span class="variable">@rdBorrowQty</span> <span class="type">int</span>,<span class="variable">@canLendQty</span> <span class="type">int</span></span><br><span class="line">	<span class="keyword">select</span> <span class="variable">@rdBorrowQty</span> <span class="keyword">from</span> Reader <span class="keyword">where</span> rdID<span class="operator">=</span><span class="variable">@rdID</span></span><br><span class="line">	<span class="keyword">select</span> <span class="variable">@canLendQty</span><span class="operator">=</span>canLendQty <span class="keyword">from</span> ReaderType <span class="keyword">where</span> rdType<span class="operator">=</span>(<span class="keyword">select</span> rdType <span class="keyword">from</span> Reader <span class="keyword">where</span> rdID<span class="operator">=</span><span class="variable">@rdID</span>)</span><br><span class="line">	if <span class="variable">@rdBorrowQty</span><span class="operator">=</span><span class="variable">@canLendQty</span></span><br><span class="line">	<span class="keyword">begin</span></span><br><span class="line">		raiserror(<span class="string">&#x27;抱歉！你所借书的数量已达最大借书数量！借阅失败！&#x27;</span>,<span class="number">16</span>,<span class="number">1</span>)<span class="keyword">with</span> nowait</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="comment">-- 借书开始（1.修改书的在馆状态，2.修改读者借书数量，3.向借书表Borrow中插入数据）</span></span><br><span class="line">	<span class="keyword">update</span> Book <span class="keyword">set</span> bkStatus <span class="operator">=</span> <span class="number">0</span> <span class="keyword">where</span> bkID<span class="operator">=</span><span class="variable">@bkID</span></span><br><span class="line">	<span class="keyword">update</span> Reader <span class="keyword">set</span> rdBOrrowQty <span class="operator">=</span>rdBorrowQty <span class="operator">+</span> <span class="number">1</span> <span class="keyword">where</span> rdID<span class="operator">=</span><span class="variable">@rdID</span></span><br><span class="line">	<span class="keyword">declare</span> <span class="variable">@canLendDay</span> <span class="type">int</span></span><br><span class="line">	<span class="keyword">select</span> <span class="variable">@canLendDay</span><span class="operator">=</span>canLendDay <span class="keyword">from</span> ReaderType <span class="keyword">where</span> rdType<span class="operator">=</span>(<span class="keyword">select</span> rdType <span class="keyword">from</span> Reader <span class="keyword">where</span> rdID<span class="operator">=</span><span class="variable">@rdID</span>)</span><br><span class="line">	<span class="keyword">insert</span> <span class="keyword">into</span> Borrow <span class="keyword">values</span>(<span class="variable">@rdID</span>,<span class="variable">@bkID</span>,GETDATE(),DATEADD(dd, <span class="variable">@canLendDay</span>,GETDATE()))</span><br><span class="line">	</span><br></pre></td></tr></table></figure><br><strong>2.创建还书的存储过程usp_ReturnBook</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">use BookDB</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> usp_ReturnBook</span><br><span class="line">	<span class="variable">@rdID</span> <span class="type">char</span>(<span class="number">9</span>),</span><br><span class="line">	<span class="variable">@bkID</span> <span class="type">char</span>(<span class="number">9</span>)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">	<span class="comment">-- 判断还的书是否借过</span></span><br><span class="line">	if <span class="keyword">not</span> <span class="keyword">exists</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> Borrow <span class="keyword">where</span> rdID<span class="operator">=</span><span class="variable">@rdID</span> <span class="keyword">and</span> bkID<span class="operator">=</span><span class="variable">@bkID</span>)</span><br><span class="line">	<span class="keyword">begin</span></span><br><span class="line">		raiserror(<span class="string">&#x27;抱歉！您暂时没有借过这本书！&#x27;</span>,<span class="number">16</span>,<span class="number">1</span>)<span class="keyword">with</span> nowait</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">	<span class="comment">-- 还书（1.修改书的状态，2.修改读者的借书数量，3.在Borrow表中删除这条借书记录）</span></span><br><span class="line">	<span class="keyword">update</span> Book <span class="keyword">set</span> BkStatus <span class="operator">=</span> <span class="number">1</span> <span class="keyword">where</span> bkID<span class="operator">=</span><span class="variable">@bkID</span></span><br><span class="line">	<span class="keyword">update</span> Reader <span class="keyword">set</span> rdBorrowQty <span class="operator">=</span>rdBorrowQty<span class="number">-1</span> <span class="keyword">where</span> rdID<span class="operator">=</span><span class="variable">@rdID</span></span><br><span class="line">	<span class="keyword">delete</span> <span class="keyword">from</span> Borrow <span class="keyword">where</span> rdID<span class="operator">=</span><span class="variable">@rdID</span> <span class="keyword">and</span> bkID<span class="operator">=</span><span class="variable">@bkID</span></span><br><span class="line">		<span class="keyword">end</span></span><br></pre></td></tr></table></figure><br><strong>3.实现【返回主菜单】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnBackMenu_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">BorrAndRetForm_FormClosed</span>(<span class="params"><span class="built_in">object</span> sender, FormClosedEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MainMenuForm.getInstacce().Show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>4.实现加载借阅信息功能</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">BorrAndRetForm_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DataBind();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="built_in">string</span> conStr = <span class="string">&quot;server=.;uid=sa;pwd=root;database=BookDB&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">DataBind</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;select rdID 读者编号,bkID 书号,DateBorrow 借书日期,DateLendPlan 应还日期 from Borrow&quot;</span>;</span><br><span class="line">            SqlDataAdapter sda = <span class="keyword">new</span> SqlDataAdapter(comm);</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">            sda.Fill(ds);</span><br><span class="line">            dgvBorrow.DataSource = ds.Tables[<span class="number">0</span>];</span><br><span class="line">            tbRdID.DataBindings.Clear();</span><br><span class="line">            tbBkID.DataBindings.Clear();</span><br><span class="line">            tbRdID.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;读者编号&quot;</span>);</span><br><span class="line">            tbBkID.DataBindings.Add(<span class="string">&quot;Text&quot;</span>, ds.Tables[<span class="number">0</span>], <span class="string">&quot;书号&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;操作数据库出错！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>5. 实现【借书】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnBorrBook_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn =<span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;exec usp_BorrowBook @rdID,@bkID&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdID&quot;</span>, tbRdID.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkID&quot;</span>, tbBkID.Text);</span><br><span class="line">            comm.ExecuteNonQuery();</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;借书成功！&quot;</span>);</span><br><span class="line">            DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;借书失败！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>6. 实现【还书】按钮的单击事件</strong><br><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnRetBook_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (SqlConnection conn = <span class="keyword">new</span> SqlConnection(conStr))</span><br><span class="line">        &#123;</span><br><span class="line">            conn.Open();</span><br><span class="line">            SqlCommand comm = conn.CreateCommand();</span><br><span class="line">            comm.CommandText = <span class="string">&quot;exec usp_ReturnBook @rdID,@bkID&quot;</span>;</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@rdID&quot;</span>, tbRdID.Text);</span><br><span class="line">            comm.Parameters.AddWithValue(<span class="string">&quot;@bkID&quot;</span>, tbBkID.Text);</span><br><span class="line">            comm.ExecuteNonQuery();</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;还书成功！&quot;</span>);</span><br><span class="line">            DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;还书失败！&quot;</span> + ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.huangshiqing.website">Shiqing Huang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.huangshiqing.website/2022/11/25/CSharp/">https://www.huangshiqing.website/2022/11/25/CSharp/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.huangshiqing.website" target="_blank">Ofra Serendipity</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C#</a></div><div class="post_share"><div class="social-share" data-image="/2022/11/25/CSharp/CSharp.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/img/wechat.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/11/24/NVM/" title="NVM"><img class="cover" src= "/img/loading.gif" data-lazy-src="/2022/11/24/NVM/nvm.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">NVM</div></div></a></div><div class="next-post pull-right"><a href="/2022/12/03/Git/" title="Git"><img class="cover" src= "/img/loading.gif" data-lazy-src="/2022/12/03/Git/git.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Git</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Waline</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "/img/loading.gif" data-lazy-src="/img/avatar002.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Shiqing Huang</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/cmwlvip"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/cmwlvip" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://gitee.com/cmwlvip" target="_blank" title="Gitee"><i class="fab fa-git"></i></a><a class="social-icon" href="mailto:2689050828@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8"><span class="toc-number">1.</span> <span class="toc-text">C#开发入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NET-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.1.</span> <span class="toc-text">.NET 基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#NET-Framework"><span class="toc-number">1.1.1.</span> <span class="toc-text">.NET Framework</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#C-%E8%AF%AD%E8%A8%80"><span class="toc-number">1.1.2.</span> <span class="toc-text">C#语言</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">1.2.</span> <span class="toc-text">开发环境搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E5%86%99C-%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.3.</span> <span class="toc-text">编写C#程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.</span> <span class="toc-text">运行原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80"><span class="toc-number">2.</span> <span class="toc-text">C# 编程基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text">C# 基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#C-%E4%BB%A3%E7%A0%81%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">C#代码基本格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#C-%E4%B8%AD%E7%9A%84%E6%B3%A8%E9%87%8A"><span class="toc-number">2.1.2.</span> <span class="toc-text">C#中的注释</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%B3%A8%E9%87%8A"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">文档注释</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#C-%E4%B8%AD%E7%9A%84%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-number">2.1.3.</span> <span class="toc-text">C#中的标识符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#C-%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">2.1.4.</span> <span class="toc-text">C#中的关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#C-%E4%B8%AD%E7%9A%84%E5%B8%B8%E9%87%8F"><span class="toc-number">2.1.5.</span> <span class="toc-text">C#中的常量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B4%E5%9E%8B%E5%B8%B8%E9%87%8F"><span class="toc-number">2.1.5.1.</span> <span class="toc-text">整型常量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0%E5%B8%B8%E9%87%8F"><span class="toc-number">2.1.5.2.</span> <span class="toc-text">浮点数常量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%B8%B8%E9%87%8F"><span class="toc-number">2.1.5.3.</span> <span class="toc-text">字符常量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F"><span class="toc-number">2.1.5.4.</span> <span class="toc-text">字符串常量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E5%B8%B8%E9%87%8F"><span class="toc-number">2.1.5.5.</span> <span class="toc-text">布尔常量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#null%E5%B8%B8%E9%87%8F"><span class="toc-number">2.1.5.6.</span> <span class="toc-text">null常量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">2.2.</span> <span class="toc-text">C#中的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">2.2.1.</span> <span class="toc-text">变量的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.2.</span> <span class="toc-text">变量的数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.2.3.</span> <span class="toc-text">变量的类型转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">2.2.4.</span> <span class="toc-text">变量的作用域</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E4%B8%AD%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.3.</span> <span class="toc-text">C#中的运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.3.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.3.2.</span> <span class="toc-text">赋值运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.3.3.</span> <span class="toc-text">比较运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.3.4.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.3.5.</span> <span class="toc-text">位运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">2.3.6.</span> <span class="toc-text">运算符的优先级</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.4.</span> <span class="toc-text">选择结构语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.4.1.</span> <span class="toc-text">if条件语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.4.1.1.</span> <span class="toc-text">三元运算符</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#switch-%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.4.2.</span> <span class="toc-text">switch 语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.5.</span> <span class="toc-text">循环结构语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#while-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.5.1.</span> <span class="toc-text">while 循环语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#do%E2%80%A6while-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.5.2.</span> <span class="toc-text">do…while 循环语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#for-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.5.3.</span> <span class="toc-text">for 循环语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%B3%E8%BD%AC%E8%AF%AD%E5%8F%A5-break%E3%80%81goto%E3%80%81continue"><span class="toc-number">2.5.4.</span> <span class="toc-text">跳转语句(break、goto、continue)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97"><span class="toc-number">2.5.5.</span> <span class="toc-text">循环嵌套</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.6.</span> <span class="toc-text">方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.6.1.</span> <span class="toc-text">什么是方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E8%BD%BD"><span class="toc-number">2.6.2.</span> <span class="toc-text">方法的重载</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">2.7.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">2.7.1.</span> <span class="toc-text">数组的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C"><span class="toc-number">2.7.2.</span> <span class="toc-text">数组的常见操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">2.7.3.</span> <span class="toc-text">多维数组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95"><span class="toc-number">2.8.</span> <span class="toc-text">程序调试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%96%AD%E7%82%B9"><span class="toc-number">2.8.1.</span> <span class="toc-text">设置断点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%AD%A5%E8%B0%83%E8%AF%95"><span class="toc-number">2.8.2.</span> <span class="toc-text">单步调试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E5%8F%98%E9%87%8F"><span class="toc-number">2.8.3.</span> <span class="toc-text">观察变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%96%AD%E7%82%B9"><span class="toc-number">2.8.4.</span> <span class="toc-text">条件断点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80"><span class="toc-number">3.</span> <span class="toc-text">面向对象基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.</span> <span class="toc-text">面向对象的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.</span> <span class="toc-text">类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">3.2.1.</span> <span class="toc-text">类的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.2.</span> <span class="toc-text">对象的创建与使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">3.2.3.</span> <span class="toc-text">类的设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">3.2.4.</span> <span class="toc-text">属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.3.</span> <span class="toc-text">访问权限修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.</span> <span class="toc-text">构造方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">3.4.1.</span> <span class="toc-text">构造方法的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E8%BD%BD"><span class="toc-number">3.4.2.</span> <span class="toc-text">构造方法的重载</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97-this"><span class="toc-number">3.5.</span> <span class="toc-text">关键字 this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6"><span class="toc-number">3.6.</span> <span class="toc-text">垃圾回收</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="toc-number">3.6.1.</span> <span class="toc-text">析构函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97Static"><span class="toc-number">3.7.</span> <span class="toc-text">关键字Static</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%AD%97%E6%AE%B5"><span class="toc-number">3.7.1.</span> <span class="toc-text">静态字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7"><span class="toc-number">3.7.2.</span> <span class="toc-text">静态属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">3.7.3.</span> <span class="toc-text">静态方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E7%B1%BB"><span class="toc-number">3.7.4.</span> <span class="toc-text">静态类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">3.7.5.</span> <span class="toc-text">静态构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.7.6.</span> <span class="toc-text">单例模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E7%B1%BB"><span class="toc-number">3.8.</span> <span class="toc-text">嵌套类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E7%B1%BB"><span class="toc-number">3.9.</span> <span class="toc-text">匿名类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%88%9D%E5%A7%8B%E5%8C%96%E5%99%A8"><span class="toc-number">3.10.</span> <span class="toc-text">对象初始化器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7"><span class="toc-number">4.</span> <span class="toc-text">面向对象高级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">4.1.</span> <span class="toc-text">类的继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">4.1.1.</span> <span class="toc-text">继承的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E7%9A%84%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-number">4.1.2.</span> <span class="toc-text">构造方法的执行过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E5%9F%BA%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.3.</span> <span class="toc-text">隐藏基类方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%86%E7%AE%B1%E4%B8%8E%E8%A3%85%E7%AE%B1"><span class="toc-number">4.1.4.</span> <span class="toc-text">拆箱与装箱</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97sealed"><span class="toc-number">4.2.</span> <span class="toc-text">关键字sealed</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97sealed%E4%BF%AE%E9%A5%B0%E7%B1%BB"><span class="toc-number">4.2.1.</span> <span class="toc-text">关键字sealed修饰类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97sealed%E4%BF%AE%E9%A5%B0%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.2.</span> <span class="toc-text">关键字sealed修饰方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">4.3.</span> <span class="toc-text">多态</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%86%99%E7%88%B6%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.3.1.</span> <span class="toc-text">重写父类的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">4.3.2.</span> <span class="toc-text">多态的实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97base"><span class="toc-number">4.3.3.</span> <span class="toc-text">关键字base</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8C%E6%B0%8F%E8%BD%AC%E6%8D%A2%E5%8E%9F%E5%88%99"><span class="toc-number">4.3.4.</span> <span class="toc-text">里氏转换原则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Object%E7%B1%BB"><span class="toc-number">4.3.5.</span> <span class="toc-text">Object类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3%E7%B1%BB"><span class="toc-number">4.4.</span> <span class="toc-text">抽象类和接口类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">4.4.1.</span> <span class="toc-text">抽象类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-number">4.4.2.</span> <span class="toc-text">接口</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">4.5.</span> <span class="toc-text">异常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BC%82%E5%B8%B8finally"><span class="toc-number">4.5.1.</span> <span class="toc-text">什么是异常finally</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#try%E2%80%A6catch%E5%92%8Cfinally"><span class="toc-number">4.5.2.</span> <span class="toc-text">try…catch和finally</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97throw"><span class="toc-number">4.5.3.</span> <span class="toc-text">关键字throw</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8E%E7%A8%8B%E5%BA%8F%E9%9B%86"><span class="toc-number">4.6.</span> <span class="toc-text">命名空间与程序集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">4.6.1.</span> <span class="toc-text">命名空间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E9%9B%86"><span class="toc-number">4.6.2.</span> <span class="toc-text">程序集</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">5.</span> <span class="toc-text">集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0"><span class="toc-number">5.1.</span> <span class="toc-text">集合概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E6%B3%9B%E5%9E%8B%E9%9B%86%E5%90%88"><span class="toc-number">5.2.</span> <span class="toc-text">非泛型集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ArrayList%E9%9B%86%E5%90%88"><span class="toc-number">5.2.1.</span> <span class="toc-text">ArrayList集合</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87foreach%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86ArrayList%E9%9B%86%E5%90%88"><span class="toc-number">5.2.1.1.</span> <span class="toc-text">通过foreach循环遍历ArrayList集合</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashtable%E9%9B%86%E5%90%88"><span class="toc-number">5.2.2.</span> <span class="toc-text">Hashtable集合</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Hashtable%E9%9B%86%E5%90%88%E7%9A%84%E5%A4%9A%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">Hashtable集合的多种遍历方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E9%9B%86%E5%90%88"><span class="toc-number">5.3.</span> <span class="toc-text">泛型集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#List-lt-T-gt-%E6%B3%9B%E5%9E%8B%E9%9B%86%E5%90%88"><span class="toc-number">5.3.1.</span> <span class="toc-text">List&lt;T&gt;泛型集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Dictionary-lt-TKey-TValue-gt-%E6%B3%9B%E5%9E%8B%E9%9B%86%E5%90%88"><span class="toc-number">5.3.2.</span> <span class="toc-text">Dictionary&lt;TKey,TValue&gt;泛型集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B"><span class="toc-number">5.3.3.</span> <span class="toc-text">自定义泛型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WinForm%E7%AA%97%E4%BD%93"><span class="toc-number">6.</span> <span class="toc-text">WinForm窗体</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAWinFrom%E7%AA%97%E4%BD%93"><span class="toc-number">6.1.</span> <span class="toc-text">创建WinFrom窗体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows%E7%AA%97%E4%BD%93%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="toc-number">6.2.</span> <span class="toc-text">Windows窗体应用程序结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WinForm%E7%AA%97%E4%BD%93%E5%B1%9E%E6%80%A7"><span class="toc-number">6.3.</span> <span class="toc-text">WinForm窗体属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WinFrom-%E7%AA%97%E4%BD%93%E7%9A%84%E4%BA%8B%E4%BB%B6"><span class="toc-number">6.4.</span> <span class="toc-text">WinFrom 窗体的事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEFormClosing%E4%BA%8B%E4%BB%B6"><span class="toc-number">6.4.1.</span> <span class="toc-text">设置FormClosing事件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MDI%E7%AA%97%E4%BD%93"><span class="toc-number">6.5.</span> <span class="toc-text">MDI窗体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MDI%E7%AA%97%E4%BD%93%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">6.5.1.</span> <span class="toc-text">MDI窗体的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEMDI%E7%AA%97%E4%BD%93"><span class="toc-number">6.5.2.</span> <span class="toc-text">设置MDI窗体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MDI%E5%AD%90%E7%AA%97%E4%BD%93%E7%9A%84%E6%8E%92%E5%88%97"><span class="toc-number">6.5.3.</span> <span class="toc-text">MDI子窗体的排列</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WinForm%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.</span> <span class="toc-text">WinForm控件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#WinForm%E7%AE%80%E5%8D%95%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.1.</span> <span class="toc-text">WinForm简单控件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6%E7%9A%84%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7%E4%B8%8E%E4%BA%8B%E4%BB%B6"><span class="toc-number">7.1.1.</span> <span class="toc-text">控件的常用属性与事件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Button%E6%8E%A7%E4%BB%B6%E3%80%81TextBox%E6%8E%A7%E4%BB%B6%E3%80%81Label%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.1.2.</span> <span class="toc-text">Button控件、TextBox控件、Label控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RichTextBox%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.1.3.</span> <span class="toc-text">RichTextBox控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CheckBox%E6%8E%A7%E4%BB%B6%E3%80%81RadioButton%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.1.4.</span> <span class="toc-text">CheckBox控件、RadioButton控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GroupBox%E5%AE%B9%E5%99%A8"><span class="toc-number">7.1.5.</span> <span class="toc-text">GroupBox容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TreeView%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.1.6.</span> <span class="toc-text">TreeView控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Timer%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.1.7.</span> <span class="toc-text">Timer控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ProgressBar%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.1.8.</span> <span class="toc-text">ProgressBar控件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WinForm%E5%88%97%E8%A1%A8%E5%92%8C%E6%95%B0%E6%8D%AE%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.2.</span> <span class="toc-text">WinForm列表和数据控件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ListBox%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.2.1.</span> <span class="toc-text">ListBox控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ComboBox%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.2.2.</span> <span class="toc-text">ComboBox控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ListView%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.2.3.</span> <span class="toc-text">ListView控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DataGridView%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.2.4.</span> <span class="toc-text">DataGridView控件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E3%80%81%E5%B7%A5%E5%85%B7%E6%A0%8F%E4%B8%8E%E7%8A%B6%E6%80%81%E6%A0%8F"><span class="toc-number">7.3.</span> <span class="toc-text">菜单、工具栏与状态栏</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MenuStrip%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.3.1.</span> <span class="toc-text">MenuStrip控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%EF%BC%9A%E5%8F%AF%E6%8B%89%E4%BC%B8%E8%8F%9C%E5%8D%95"><span class="toc-number">7.3.2.</span> <span class="toc-text">实例：可拉伸菜单</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ToolStrip%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.3.3.</span> <span class="toc-text">ToolStrip控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%EF%BC%9A%E5%85%B7%E6%9C%89%E6%8F%90%E7%A4%BA%E5%8A%9F%E8%83%BD%E7%9A%84%E5%B7%A5%E5%85%B7%E6%A0%8F"><span class="toc-number">7.3.4.</span> <span class="toc-text">实例：具有提示功能的工具栏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#StatusStrip%E6%8E%A7%E4%BB%B6"><span class="toc-number">7.3.5.</span> <span class="toc-text">StatusStrip控件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%EF%BC%9A%E5%9C%A8%E7%8A%B6%E6%80%81%E6%A0%8F%E4%B8%AD%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4"><span class="toc-number">7.3.6.</span> <span class="toc-text">实例：在状态栏中显示当前系统时间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-number">8.</span> <span class="toc-text">C#常用类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#string%E7%B1%BB"><span class="toc-number">8.1.</span> <span class="toc-text">string类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#string%E7%B1%BB%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">8.1.1.</span> <span class="toc-text">string类的初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%80%A7"><span class="toc-number">8.1.2.</span> <span class="toc-text">字符串的不可变性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8E%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84"><span class="toc-number">8.1.3.</span> <span class="toc-text">字符串与字符数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#string%E7%B1%BB%E7%9A%84%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">8.1.4.</span> <span class="toc-text">string类的静态方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#string%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-number">8.1.5.</span> <span class="toc-text">string类的实例方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E6%95%88%E7%9A%84StringBuilder"><span class="toc-number">8.2.</span> <span class="toc-text">高效的StringBuilder</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#StringBuilder%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">8.2.1.</span> <span class="toc-text">StringBuilder性能分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DateTime%E7%B1%BB"><span class="toc-number">8.3.</span> <span class="toc-text">DateTime类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TimeSpan%E7%B1%BB"><span class="toc-number">8.3.1.</span> <span class="toc-text">TimeSpan类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DateTime%E7%B1%BB%E7%9A%84%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7"><span class="toc-number">8.3.2.</span> <span class="toc-text">DateTime类的常用属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DateTime%E7%B1%BB%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">8.3.3.</span> <span class="toc-text">DateTime类的常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Random%E7%B1%BB"><span class="toc-number">8.4.</span> <span class="toc-text">Random类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Random%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">8.4.1.</span> <span class="toc-text">Random类常用方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">9.</span> <span class="toc-text">文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E5%92%8C%E6%96%87%E4%BB%B6%E6%B5%81"><span class="toc-number">9.1.</span> <span class="toc-text">流和文件流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#System-IO%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">9.2.</span> <span class="toc-text">System.IO命名空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File%E7%B1%BB%E5%92%8CFileInfo%E7%B1%BB"><span class="toc-number">9.3.</span> <span class="toc-text">File类和FileInfo类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#File%E7%B1%BB"><span class="toc-number">9.3.1.</span> <span class="toc-text">File类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FileInfo%E7%B1%BB"><span class="toc-number">9.3.2.</span> <span class="toc-text">FileInfo类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Directory%E7%B1%BB%E5%92%8CDirectoryInfo%E7%B1%BB"><span class="toc-number">9.4.</span> <span class="toc-text">Directory类和DirectoryInfo类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Directory%E7%B1%BB"><span class="toc-number">9.4.1.</span> <span class="toc-text">Directory类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DirectoryInfo%E7%B1%BB"><span class="toc-number">9.4.2.</span> <span class="toc-text">DirectoryInfo类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileStream%E7%B1%BB"><span class="toc-number">9.5.</span> <span class="toc-text">FileStream类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#FileStream%E7%B1%BB%E7%AE%80%E4%BB%8B"><span class="toc-number">9.5.1.</span> <span class="toc-text">FileStream类简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FileStream%E7%B1%BB%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="toc-number">9.5.2.</span> <span class="toc-text">FileStream类读取文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FileStream%E7%B1%BB%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-number">9.5.3.</span> <span class="toc-text">FileStream类写入文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%EF%BC%9A%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number">9.5.4.</span> <span class="toc-text">实例：复制文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#StreamReader%E7%B1%BB%E5%92%8CStreamWriter%E7%B1%BB"><span class="toc-number">9.6.</span> <span class="toc-text">StreamReader类和StreamWriter类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#StreamWriter%E7%B1%BB"><span class="toc-number">9.6.1.</span> <span class="toc-text">StreamWriter类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#StreamReader%E7%B1%BB"><span class="toc-number">9.6.2.</span> <span class="toc-text">StreamReader类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%EF%BC%9A%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-number">9.6.3.</span> <span class="toc-text">实例：读写文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Path%E7%B1%BB"><span class="toc-number">9.7.</span> <span class="toc-text">Path类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BufferedStream%E7%B1%BB"><span class="toc-number">9.8.</span> <span class="toc-text">BufferedStream类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">9.9.</span> <span class="toc-text">序列化和反序列化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8ADO-NET%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.</span> <span class="toc-text">使用ADO.NET操作数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.1.</span> <span class="toc-text">认识数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ADO-NET%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-number">10.2.</span> <span class="toc-text">ADO.NET常用类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85SQL-Server%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.3.</span> <span class="toc-text">下载并安装SQL Server数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BASQL-Server%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.4.</span> <span class="toc-text">创建SQL Server数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BASQL-Server%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-number">10.5.</span> <span class="toc-text">创建SQL Server数据库表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8ADO-NET%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.6.</span> <span class="toc-text">使用ADO.NET访问数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Connection%E5%AF%B9%E8%B1%A1%E8%BF%9E%E6%8E%A5SQL-Server%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.6.1.</span> <span class="toc-text">使用Connection对象连接SQL Server数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Command%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.6.2.</span> <span class="toc-text">使用Command对象操作数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8DataReader%E5%AF%B9%E8%B1%A1%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.6.3.</span> <span class="toc-text">使用DataReader对象查询数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8DataAdapter%E4%B8%8EDataSet%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.6.4.</span> <span class="toc-text">使用DataAdapter与DataSet对象操作数据库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%BC%E5%90%88%E9%A1%B9%E7%9B%AE%E2%80%94%E2%80%94%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">11.</span> <span class="toc-text">综合项目——图书管理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%88%86%E6%9E%90"><span class="toc-number">11.1.</span> <span class="toc-text">项目分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">11.1.1.</span> <span class="toc-text">需求分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E8%A1%8C%E6%80%A7%E5%88%86%E6%9E%90"><span class="toc-number">11.1.2.</span> <span class="toc-text">可行性分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B"><span class="toc-number">11.2.</span> <span class="toc-text">项目简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">11.2.1.</span> <span class="toc-text">项目概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="toc-number">11.2.2.</span> <span class="toc-text">开发环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%8A%9F%E8%83%BD%E7%BB%93%E6%9E%84"><span class="toc-number">11.2.3.</span> <span class="toc-text">项目功能结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="toc-number">11.3.</span> <span class="toc-text">效果展示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E7%AA%97%E4%BD%93"><span class="toc-number">11.3.1.</span> <span class="toc-text">登录窗体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E7%AA%97%E4%BD%93"><span class="toc-number">11.3.2.</span> <span class="toc-text">注册窗体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%8F%9C%E5%8D%95%E7%AA%97%E4%BD%93"><span class="toc-number">11.3.3.</span> <span class="toc-text">主菜单窗体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E8%80%85%E7%B1%BB%E5%88%AB%E7%AA%97%E4%BD%93"><span class="toc-number">11.3.4.</span> <span class="toc-text">读者类别窗体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E8%80%85%E7%AE%A1%E7%90%86%E7%AA%97%E4%BD%93"><span class="toc-number">11.3.5.</span> <span class="toc-text">读者管理窗体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%AA%97%E4%BD%93"><span class="toc-number">11.3.6.</span> <span class="toc-text">图书管理窗体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%80%9F%E4%B9%A6%E8%BF%98%E4%B9%A6%E7%AA%97%E4%BD%93"><span class="toc-number">11.3.7.</span> <span class="toc-text">借书还书窗体</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">11.4.</span> <span class="toc-text">图书管理系统数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.4.1.</span> <span class="toc-text">数据库设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">11.4.2.</span> <span class="toc-text">创建数据库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.5.</span> <span class="toc-text">登录功能业务实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E7%AA%97%E4%BD%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.5.1.</span> <span class="toc-text">登录窗体设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD"><span class="toc-number">11.5.2.</span> <span class="toc-text">实现登录功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.6.</span> <span class="toc-text">注册功能业务实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E7%AA%97%E4%BD%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.6.1.</span> <span class="toc-text">注册窗体设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C%E7%AA%97%E4%BD%93"><span class="toc-number">11.6.2.</span> <span class="toc-text">实现注册窗体</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%8F%9C%E5%8D%95%E5%8A%9F%E8%83%BD%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.7.</span> <span class="toc-text">主菜单功能业务实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%8F%9C%E5%8D%95%E7%AA%97%E4%BD%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.7.1.</span> <span class="toc-text">主菜单窗体设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%BB%E8%8F%9C%E5%8D%95%E5%8A%9F%E8%83%BD"><span class="toc-number">11.7.2.</span> <span class="toc-text">实现主菜单功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E8%80%85%E7%B1%BB%E5%88%AB%E5%8A%9F%E8%83%BD%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.8.</span> <span class="toc-text">读者类别功能业务实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E8%80%85%E7%B1%BB%E5%88%AB%E7%AA%97%E4%BD%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.8.1.</span> <span class="toc-text">读者类别窗体设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%AF%BB%E8%80%85%E7%B1%BB%E5%88%AB%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD"><span class="toc-number">11.8.2.</span> <span class="toc-text">实现读者类别管理功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E8%80%85%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.9.</span> <span class="toc-text">读者管理功能业务实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E8%80%85%E7%AE%A1%E7%90%86%E7%AA%97%E4%BD%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.9.1.</span> <span class="toc-text">读者管理窗体设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%AF%BB%E8%80%85%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD"><span class="toc-number">11.9.2.</span> <span class="toc-text">实现读者管理功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.10.</span> <span class="toc-text">图书管理功能业务实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%AA%97%E4%BD%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.10.1.</span> <span class="toc-text">图书管理窗体设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD"><span class="toc-number">11.10.2.</span> <span class="toc-text">实现图书管理功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%9F%E4%B9%A6%E8%BF%98%E4%B9%A6%E5%8A%9F%E8%83%BD%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.11.</span> <span class="toc-text">借书还书功能业务实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%80%9F%E4%B9%A6%E8%BF%98%E4%B9%A6%E7%AA%97%E4%BD%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">11.11.1.</span> <span class="toc-text">借书还书窗体设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%80%9F%E4%B9%A6%E8%BF%98%E4%B9%A6%E5%8A%9F%E8%83%BD"><span class="toc-number">11.11.2.</span> <span class="toc-text">实现借书还书功能</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/06/10/virtualBox/" title="VirtualBox虚拟机磁盘扩容"><img src= "/img/loading.gif" data-lazy-src="https://pic.imgdb.cn/item/648456981ddac507cc049e1e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VirtualBox虚拟机磁盘扩容"/></a><div class="content"><a class="title" href="/2023/06/10/virtualBox/" title="VirtualBox虚拟机磁盘扩容">VirtualBox虚拟机磁盘扩容</a><time datetime="2023-06-10T19:35:23.000Z" title="发表于 2023-06-10 19:35:23">2023-06-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/02/dataStructure/" title="数据结构"><img src= "/img/loading.gif" data-lazy-src="https://pic.imgdb.cn/item/6484545f1ddac507cc022402.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据结构"/></a><div class="content"><a class="title" href="/2023/06/02/dataStructure/" title="数据结构">数据结构</a><time datetime="2023-06-02T21:12:25.000Z" title="发表于 2023-06-02 21:12:25">2023-06-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/27/HadoopDemo/" title="Hadoop生态综合案例"><img src= "/img/loading.gif" data-lazy-src="https://pic1.imgdb.cn/item/6366396d16f2c2beb1036f1c.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hadoop生态综合案例"/></a><div class="content"><a class="title" href="/2023/05/27/HadoopDemo/" title="Hadoop生态综合案例">Hadoop生态综合案例</a><time datetime="2023-05-27T14:32:15.000Z" title="发表于 2023-05-27 14:32:15">2023-05-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/17/rdd/" title="RDD"><img src= "/img/loading.gif" data-lazy-src="https://pic.imgdb.cn/item/64219d12a682492fcc086ebb.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RDD"/></a><div class="content"><a class="title" href="/2023/05/17/rdd/" title="RDD">RDD</a><time datetime="2023-05-17T09:43:41.000Z" title="发表于 2023-05-17 09:43:41">2023-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/09/java-home/" title="Java环境变量配置（多版本）"><img src= "/img/loading.gif" data-lazy-src="https://pic2.imgdb.cn/item/645b35d50d2dde5777454474.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java环境变量配置（多版本）"/></a><div class="content"><a class="title" href="/2023/05/09/java-home/" title="Java环境变量配置（多版本）">Java环境变量配置（多版本）</a><time datetime="2023-05-09T23:29:03.000Z" title="发表于 2023-05-09 23:29:03">2023-05-09</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://pic.imgdb.cn/item/6386f12116f2c2beb10bb24e.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Shiqing Huang</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a href="">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.huangshiqing.website/',
      region: 'ap-shanghai',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.huangshiqing.website/',
      region: 'ap-shanghai',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><script>(() => {
  let initFn = window.walineFn || null

  const initWaline = (Fn) => {
    const waline = Fn(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://waline.huangshiqing.website/',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
    }, null))

    const destroyWaline = () => {
      waline.destroy()
    }

    btf.addGlobalFn('pjax', destroyWaline, 'destroyWaline')
  }

  const loadWaline = async () => {
    if (initFn) initWaline(initFn)
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.css')
      const { init } = await import('https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.js')
      initFn = init || Waline.init
      initWaline(initFn)
      window.walineFn = initFn
    }
  }

  if ('Twikoo' === 'Waline' || !false) {
    if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.huangshiqing.website/',
        region: 'ap-shanghai',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script>(() => {
  const isChatBtn = true
  const isChatHideShow = false

  if (isChatBtn) {
    const close = () => {
      Chatra('minimizeWidget')
      Chatra('hide')
    }

    const open = () => {
      Chatra('openChat', true)
      Chatra('show')
    }

    window.ChatraSetup = {
      startHidden: true
    }
  
    window.chatBtnFn = () => {
      const isShow = document.getElementById('chatra').classList.contains('chatra--expanded')
      isShow ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => {
        Chatra('hide')
      },
      show: () => {
        Chatra('show')
      }
    }
  }

  (function(d, w, c) {
    w.ChatraID = 'pyiEKDCMK4hBnRffY'
    var s = d.createElement('script')
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments)
    }
    s.async = true
    s.src = 'https://call.chatra.io/chatra.js'
    if (d.head) d.head.appendChild(s)
  })(document, window, 'Chatra')

})()</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/movies/"]):not([href="/books/"]):not([href="/games/"]):not([href="/songs/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>